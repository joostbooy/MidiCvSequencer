ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ff.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.get_ldnumber,"ax",%progbits
  18              		.align	1
  19              		.p2align 2,,3
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	get_ldnumber:
  27              	.LVL0:
  28              	.LFB27:
  29              		.file 1 "/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c"
   1:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*----------------------------------------------------------------------------/
   2:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /  FatFs - Generic FAT Filesystem Module  R0.14b                              /
   3:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /-----------------------------------------------------------------------------/
   4:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /
   5:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** / Copyright (C) 2021, ChaN, all right reserved.
   6:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /
   7:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** / FatFs module is an open source software. Redistribution and use of FatFs in
   8:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** / source and binary forms, with or without modification, are permitted provided
   9:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** / that the following condition is met:
  10:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /
  11:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** / 1. Redistributions of source code must retain the above copyright notice,
  12:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /    this condition and the following disclaimer.
  13:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /
  14:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** / This software is provided by the copyright holder and contributors "AS IS"
  15:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** / and any warranties related to this software are DISCLAIMED.
  16:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** / The copyright owner or contributors be NOT LIABLE for any damages caused
  17:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** / by use of this software.
  18:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /
  19:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /----------------------------------------------------------------------------*/
  20:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  21:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  22:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #include <string.h>
  23:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #include "ff.h"			/* Declarations of FatFs API */
  24:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #include "diskio.h"		/* Declarations of device I/O functions */
  25:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  26:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  27:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*--------------------------------------------------------------------------
  28:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  29:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c ****    Module Private Definitions
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 2


  30:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  31:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** ---------------------------------------------------------------------------*/
  32:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  33:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_DEFINED != 86631	/* Revision ID */
  34:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #error Wrong include file (ff.h).
  35:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
  36:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  37:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  38:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Limits and boundaries */
  39:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define MAX_DIR		0x200000		/* Max size of FAT directory */
  40:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define MAX_DIR_EX	0x10000000		/* Max size of exFAT directory */
  41:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define MAX_FAT12	0xFF5			/* Max FAT12 clusters (differs from specs, but right for real DOS/Windows
  42:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define MAX_FAT16	0xFFF5			/* Max FAT16 clusters (differs from specs, but right for real DOS/Window
  43:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define MAX_FAT32	0x0FFFFFF5		/* Max FAT32 clusters (not specified, practical limit) */
  44:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define MAX_EXFAT	0x7FFFFFFD		/* Max exFAT clusters (differs from specs, implementation limit) */
  45:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  46:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  47:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Character code support macros */
  48:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define IsUpper(c)		((c) >= 'A' && (c) <= 'Z')
  49:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define IsLower(c)		((c) >= 'a' && (c) <= 'z')
  50:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define IsDigit(c)		((c) >= '0' && (c) <= '9')
  51:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define IsSeparator(c)	((c) == '/' || (c) == '\\')
  52:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define IsTerminator(c)	((UINT)(c) < (FF_USE_LFN ? ' ' : '!'))
  53:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define IsSurrogate(c)	((c) >= 0xD800 && (c) <= 0xDFFF)
  54:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define IsSurrogateH(c)	((c) >= 0xD800 && (c) <= 0xDBFF)
  55:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define IsSurrogateL(c)	((c) >= 0xDC00 && (c) <= 0xDFFF)
  56:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  57:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  58:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Additional file access control and file status flags for internal use */
  59:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define FA_SEEKEND	0x20	/* Seek to end of the file on file open */
  60:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define FA_MODIFIED	0x40	/* File has been modified */
  61:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define FA_DIRTY	0x80	/* FIL.buf[] needs to be written-back */
  62:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  63:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  64:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Additional file attribute bits for internal use */
  65:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define AM_VOL		0x08	/* Volume label */
  66:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define AM_LFN		0x0F	/* LFN entry */
  67:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define AM_MASK		0x3F	/* Mask of defined bits in FAT */
  68:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define AM_MASKX	0x37	/* Mask of defined bits in exFAT */
  69:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  70:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  71:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Name status flags in fn[11] */
  72:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define NSFLAG		11		/* Index of the name status byte */
  73:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define NS_LOSS		0x01	/* Out of 8.3 format */
  74:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define NS_LFN		0x02	/* Force to create LFN entry */
  75:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define NS_LAST		0x04	/* Last segment */
  76:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define NS_BODY		0x08	/* Lower case flag (body) */
  77:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define NS_EXT		0x10	/* Lower case flag (ext) */
  78:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define NS_DOT		0x20	/* Dot entry */
  79:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define NS_NOLFN	0x40	/* Do not find LFN */
  80:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define NS_NONAME	0x80	/* Not followed */
  81:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  82:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  83:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* exFAT directory entry types */
  84:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define	ET_BITMAP	0x81	/* Allocation bitmap */
  85:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define	ET_UPCASE	0x82	/* Up-case table */
  86:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define	ET_VLABEL	0x83	/* Volume label */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 3


  87:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define	ET_FILEDIR	0x85	/* File and directory */
  88:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define	ET_STREAM	0xC0	/* Stream extension */
  89:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define	ET_FILENAME	0xC1	/* Name extension */
  90:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  91:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  92:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* FatFs refers the FAT structure as simple byte array instead of structure member
  93:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** / because the C structure is not binary compatible between different platforms */
  94:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
  95:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_JmpBoot			0		/* x86 jump instruction (3-byte) */
  96:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_OEMName			3		/* OEM name (8-byte) */
  97:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_BytsPerSec		11		/* Sector size [byte] (WORD) */
  98:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_SecPerClus		13		/* Cluster size [sector] (BYTE) */
  99:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_RsvdSecCnt		14		/* Size of reserved area [sector] (WORD) */
 100:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_NumFATs			16		/* Number of FATs (BYTE) */
 101:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_RootEntCnt		17		/* Size of root directory area for FAT [entry] (WORD) */
 102:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_TotSec16		19		/* Volume size (16-bit) [sector] (WORD) */
 103:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_Media			21		/* Media descriptor byte (BYTE) */
 104:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_FATSz16			22		/* FAT size (16-bit) [sector] (WORD) */
 105:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_SecPerTrk		24		/* Number of sectors per track for int13h [sector] (WORD) */
 106:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_NumHeads		26		/* Number of heads for int13h (WORD) */
 107:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_HiddSec			28		/* Volume offset from top of the drive (DWORD) */
 108:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_TotSec32		32		/* Volume size (32-bit) [sector] (DWORD) */
 109:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_DrvNum			36		/* Physical drive number for int13h (BYTE) */
 110:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_NTres			37		/* WindowsNT error flag (BYTE) */
 111:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_BootSig			38		/* Extended boot signature (BYTE) */
 112:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_VolID			39		/* Volume serial number (DWORD) */
 113:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_VolLab			43		/* Volume label string (8-byte) */
 114:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_FilSysType		54		/* Filesystem type string (8-byte) */
 115:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_BootCode			62		/* Boot code (448-byte) */
 116:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_55AA				510		/* Signature word (WORD) */
 117:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 118:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_FATSz32			36		/* FAT32: FAT size [sector] (DWORD) */
 119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_ExtFlags32		40		/* FAT32: Extended flags (WORD) */
 120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_FSVer32			42		/* FAT32: Filesystem version (WORD) */
 121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_RootClus32		44		/* FAT32: Root directory cluster (DWORD) */
 122:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_FSInfo32		48		/* FAT32: Offset of FSINFO sector (WORD) */
 123:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_BkBootSec32		50		/* FAT32: Offset of backup boot sector (WORD) */
 124:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_DrvNum32			64		/* FAT32: Physical drive number for int13h (BYTE) */
 125:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_NTres32			65		/* FAT32: Error flag (BYTE) */
 126:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_BootSig32		66		/* FAT32: Extended boot signature (BYTE) */
 127:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_VolID32			67		/* FAT32: Volume serial number (DWORD) */
 128:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_VolLab32			71		/* FAT32: Volume label string (8-byte) */
 129:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_FilSysType32		82		/* FAT32: Filesystem type string (8-byte) */
 130:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_BootCode32		90		/* FAT32: Boot code (420-byte) */
 131:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 132:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_ZeroedEx		11		/* exFAT: MBZ field (53-byte) */
 133:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_VolOfsEx		64		/* exFAT: Volume offset from top of the drive [sector] (QWORD) */
 134:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_TotSecEx		72		/* exFAT: Volume size [sector] (QWORD) */
 135:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_FatOfsEx		80		/* exFAT: FAT offset from top of the volume [sector] (DWORD) */
 136:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_FatSzEx			84		/* exFAT: FAT size [sector] (DWORD) */
 137:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_DataOfsEx		88		/* exFAT: Data offset from top of the volume [sector] (DWORD) */
 138:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_NumClusEx		92		/* exFAT: Number of clusters (DWORD) */
 139:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_RootClusEx		96		/* exFAT: Root directory start cluster (DWORD) */
 140:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_VolIDEx			100		/* exFAT: Volume serial number (DWORD) */
 141:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_FSVerEx			104		/* exFAT: Filesystem version (WORD) */
 142:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_VolFlagEx		106		/* exFAT: Volume flags (WORD) */
 143:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_BytsPerSecEx	108		/* exFAT: Log2 of sector size in unit of byte (BYTE) */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 4


 144:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_SecPerClusEx	109		/* exFAT: Log2 of cluster size in unit of sector (BYTE) */
 145:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_NumFATsEx		110		/* exFAT: Number of FATs (BYTE) */
 146:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_DrvNumEx		111		/* exFAT: Physical drive number for int13h (BYTE) */
 147:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_PercInUseEx		112		/* exFAT: Percent in use (BYTE) */
 148:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BPB_RsvdEx			113		/* exFAT: Reserved (7-byte) */
 149:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define BS_BootCodeEx		120		/* exFAT: Boot code (390-byte) */
 150:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 151:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DIR_Name			0		/* Short file name (11-byte) */
 152:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DIR_Attr			11		/* Attribute (BYTE) */
 153:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DIR_NTres			12		/* Lower case flag (BYTE) */
 154:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DIR_CrtTime10		13		/* Created time sub-second (BYTE) */
 155:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DIR_CrtTime			14		/* Created time (DWORD) */
 156:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DIR_LstAccDate		18		/* Last accessed date (WORD) */
 157:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DIR_FstClusHI		20		/* Higher 16-bit of first cluster (WORD) */
 158:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DIR_ModTime			22		/* Modified time (DWORD) */
 159:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DIR_FstClusLO		26		/* Lower 16-bit of first cluster (WORD) */
 160:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DIR_FileSize		28		/* File size (DWORD) */
 161:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define LDIR_Ord			0		/* LFN: LFN order and LLE flag (BYTE) */
 162:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define LDIR_Attr			11		/* LFN: LFN attribute (BYTE) */
 163:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define LDIR_Type			12		/* LFN: Entry type (BYTE) */
 164:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define LDIR_Chksum			13		/* LFN: Checksum of the SFN (BYTE) */
 165:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define LDIR_FstClusLO		26		/* LFN: MBZ field (WORD) */
 166:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_Type			0		/* exFAT: Type of exFAT directory entry (BYTE) */
 167:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_NumLabel		1		/* exFAT: Number of volume label characters (BYTE) */
 168:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_Label			2		/* exFAT: Volume label (11-WORD) */
 169:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_CaseSum		4		/* exFAT: Sum of case conversion table (DWORD) */
 170:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_NumSec			1		/* exFAT: Number of secondary entries (BYTE) */
 171:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_SetSum			2		/* exFAT: Sum of the set of directory entries (WORD) */
 172:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_Attr			4		/* exFAT: File attribute (WORD) */
 173:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_CrtTime		8		/* exFAT: Created time (DWORD) */
 174:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_ModTime		12		/* exFAT: Modified time (DWORD) */
 175:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_AccTime		16		/* exFAT: Last accessed time (DWORD) */
 176:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_CrtTime10		20		/* exFAT: Created time subsecond (BYTE) */
 177:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_ModTime10		21		/* exFAT: Modified time subsecond (BYTE) */
 178:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_CrtTZ			22		/* exFAT: Created timezone (BYTE) */
 179:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_ModTZ			23		/* exFAT: Modified timezone (BYTE) */
 180:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_AccTZ			24		/* exFAT: Last accessed timezone (BYTE) */
 181:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_GenFlags		33		/* exFAT: General secondary flags (BYTE) */
 182:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_NumName		35		/* exFAT: Number of file name characters (BYTE) */
 183:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_NameHash		36		/* exFAT: Hash of file name (WORD) */
 184:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_ValidFileSize	40		/* exFAT: Valid file size (QWORD) */
 185:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_FstClus		52		/* exFAT: First cluster of the file data (DWORD) */
 186:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define XDIR_FileSize		56		/* exFAT: File/Directory size (QWORD) */
 187:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 188:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define SZDIRE				32		/* Size of a directory entry */
 189:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DDEM				0xE5	/* Deleted directory entry mark set to DIR_Name[0] */
 190:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define RDDEM				0x05	/* Replacement of the character collides with DDEM */
 191:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define LLEF				0x40	/* Last long entry flag in LDIR_Ord */
 192:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 193:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define FSI_LeadSig			0		/* FAT32 FSI: Leading signature (DWORD) */
 194:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define FSI_StrucSig		484		/* FAT32 FSI: Structure signature (DWORD) */
 195:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define FSI_Free_Count		488		/* FAT32 FSI: Number of free clusters (DWORD) */
 196:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define FSI_Nxt_Free		492		/* FAT32 FSI: Last allocated cluster (DWORD) */
 197:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 198:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define MBR_Table			446		/* MBR: Offset of partition table in the MBR */
 199:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define SZ_PTE				16		/* MBR: Size of a partition table entry */
 200:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define PTE_Boot			0		/* MBR PTE: Boot indicator */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 5


 201:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define PTE_StHead			1		/* MBR PTE: Start head */
 202:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define PTE_StSec			2		/* MBR PTE: Start sector */
 203:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define PTE_StCyl			3		/* MBR PTE: Start cylinder */
 204:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define PTE_System			4		/* MBR PTE: System ID */
 205:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define PTE_EdHead			5		/* MBR PTE: End head */
 206:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define PTE_EdSec			6		/* MBR PTE: End sector */
 207:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define PTE_EdCyl			7		/* MBR PTE: End cylinder */
 208:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define PTE_StLba			8		/* MBR PTE: Start in LBA */
 209:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define PTE_SizLba			12		/* MBR PTE: Size in LBA */
 210:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 211:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTH_Sign			0		/* GPT: Header signature (8-byte) */
 212:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTH_Rev			8		/* GPT: Revision (DWORD) */
 213:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTH_Size			12		/* GPT: Header size (DWORD) */
 214:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTH_Bcc			16		/* GPT: Header BCC (DWORD) */
 215:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTH_CurLba			24		/* GPT: Main header LBA (QWORD) */
 216:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTH_BakLba			32		/* GPT: Backup header LBA (QWORD) */
 217:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTH_FstLba			40		/* GPT: First LBA for partitions (QWORD) */
 218:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTH_LstLba			48		/* GPT: Last LBA for partitions (QWORD) */
 219:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTH_DskGuid		56		/* GPT: Disk GUID (16-byte) */
 220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTH_PtOfs			72		/* GPT: Partation table LBA (QWORD) */
 221:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTH_PtNum			80		/* GPT: Number of table entries (DWORD) */
 222:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTH_PteSize		84		/* GPT: Size of table entry (DWORD) */
 223:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTH_PtBcc			88		/* GPT: Partation table BCC (DWORD) */
 224:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define SZ_GPTE				128		/* GPT: Size of partition table entry */
 225:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTE_PtGuid			0		/* GPT PTE: Partition type GUID (16-byte) */
 226:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTE_UpGuid			16		/* GPT PTE: Partition unique GUID (16-byte) */
 227:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTE_FstLba			32		/* GPT PTE: First LBA (QWORD) */
 228:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTE_LstLba			40		/* GPT PTE: Last LBA inclusive (QWORD) */
 229:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTE_Flags			48		/* GPT PTE: Flags (QWORD) */
 230:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GPTE_Name			56		/* GPT PTE: Name */
 231:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 232:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 233:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Post process on fatal error in the file operations */
 234:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define ABORT(fs, res)		{ fp->err = (BYTE)(res); LEAVE_FF(fs, res); }
 235:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 236:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 237:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Re-entrancy related */
 238:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_REENTRANT
 239:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN == 1
 240:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #error Static LFN work area cannot be used in thread-safe configuration
 241:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 242:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define LEAVE_FF(fs, res)	{ unlock_fs(fs, res); return res; }
 243:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
 244:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define LEAVE_FF(fs, res)	return res
 245:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 246:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 247:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 248:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Definitions of logical drive - physical location conversion */
 249:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_MULTI_PARTITION
 250:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define LD2PD(vol) VolToPart[vol].pd	/* Get physical drive number */
 251:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define LD2PT(vol) VolToPart[vol].pt	/* Get partition number (0:auto search, 1..:forced partition n
 252:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
 253:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define LD2PD(vol) (BYTE)(vol)	/* Each logical drive is associated with the same physical drive num
 254:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define LD2PT(vol) 0			/* Auto partition search */
 255:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 256:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 257:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 6


 258:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Definitions of sector size */
 259:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if (FF_MAX_SS < FF_MIN_SS) || (FF_MAX_SS != 512 && FF_MAX_SS != 1024 && FF_MAX_SS != 2048 && FF_MA
 260:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #error Wrong sector size configuration
 261:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 262:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_MAX_SS == FF_MIN_SS
 263:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define SS(fs)	((UINT)FF_MAX_SS)	/* Fixed sector size */
 264:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
 265:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define SS(fs)	((fs)->ssize)	/* Variable sector size */
 266:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 267:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 268:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 269:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Timestamp */
 270:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_NORTC == 1
 271:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_NORTC_YEAR < 1980 || FF_NORTC_YEAR > 2107 || FF_NORTC_MON < 1 || FF_NORTC_MON > 12 || FF_NOR
 272:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #error Invalid FF_FS_NORTC settings
 273:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 274:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GET_FATTIME()	((DWORD)(FF_NORTC_YEAR - 1980) << 25 | (DWORD)FF_NORTC_MON << 21 | (DWORD)FF_
 275:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
 276:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define GET_FATTIME()	get_fattime()
 277:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 278:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 279:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 280:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* File lock controls */
 281:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
 282:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_READONLY
 283:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #error FF_FS_LOCK must be 0 at read-only configuration
 284:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 285:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** typedef struct {
 286:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;		/* Object ID 1, volume (NULL:blank entry) */
 287:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD clu;		/* Object ID 2, containing directory (0:root) */
 288:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD ofs;		/* Object ID 3, offset in the directory */
 289:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WORD ctr;		/* Object open counter, 0:none, 0x01..0xFF:read mode open count, 0x100:write mode */
 290:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** } FILESEM;
 291:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 292:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 293:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 294:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* SBCS up-case tables (\x80-\xFF) */
 295:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT437  {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F
 296:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 297:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 298:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 299:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 300:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 301:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 302:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 303:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT720  {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F
 304:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 305:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 306:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 307:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 308:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 309:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 310:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 311:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT737  {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F
 312:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x90,0x92,0x92,0x93,0x94,0x95,0x96,0x97,0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87, \
 313:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0xAA,0x92,0x93,0x94,0x95,0x96, \
 314:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 7


 315:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 316:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 317:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x97,0xEA,0xEB,0xEC,0xE4,0xED,0xEE,0xEF,0xF5,0xF0,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 318:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 319:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT771  {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F
 320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 321:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 322:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 323:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 324:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDC,0xDE,0xDE, \
 325:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 326:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFE,0xFF}
 327:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT775  {0x80,0x9A,0x91,0xA0,0x8E,0x95,0x8F,0x80,0xAD,0xED,0x8A,0x8A,0xA1,0x8D,0x8E,0x8F
 328:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x90,0x92,0x92,0xE2,0x99,0x95,0x96,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 329:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xA0,0xA1,0xE0,0xA3,0xA3,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 330:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 331:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 332:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xA5,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 333:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE3,0xE8,0xE8,0xEA,0xEA,0xEE,0xED,0xEE,0xEF, \
 334:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 335:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT850  {0x43,0x55,0x45,0x41,0x41,0x41,0x41,0x43,0x45,0x45,0x45,0x49,0x49,0x49,0x41,0x41
 336:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x45,0x92,0x92,0x4F,0x4F,0x4F,0x55,0x55,0x59,0x4F,0x55,0x4F,0x9C,0x4F,0x9E,0x9F, \
 337:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 338:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0x41,0x41,0x41,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 339:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0x41,0x41,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 340:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xD1,0xD1,0x45,0x45,0x45,0x49,0x49,0x49,0x49,0xD9,0xDA,0xDB,0xDC,0xDD,0x49,0xDF, \
 341:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x4F,0xE1,0x4F,0x4F,0x4F,0x4F,0xE6,0xE8,0xE8,0x55,0x55,0x55,0x59,0x59,0xEE,0xEF, \
 342:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 343:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT852  {0x80,0x9A,0x90,0xB6,0x8E,0xDE,0x8F,0x80,0x9D,0xD3,0x8A,0x8A,0xD7,0x8D,0x8E,0x8F
 344:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x90,0x91,0x91,0xE2,0x99,0x95,0x95,0x97,0x97,0x99,0x9A,0x9B,0x9B,0x9D,0x9E,0xAC, \
 345:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB5,0xD6,0xE0,0xE9,0xA4,0xA4,0xA6,0xA6,0xA8,0xA8,0xAA,0x8D,0xAC,0xB8,0xAE,0xAF, \
 346:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBD,0xBF, \
 347:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC6,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 348:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xD1,0xD1,0xD2,0xD3,0xD2,0xD5,0xD6,0xD7,0xB7,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 349:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xE0,0xE1,0xE2,0xE3,0xE3,0xD5,0xE6,0xE6,0xE8,0xE9,0xE8,0xEB,0xED,0xED,0xDD,0xEF, \
 350:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xEB,0xFC,0xFC,0xFE,0xFF}
 351:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT855  {0x81,0x81,0x83,0x83,0x85,0x85,0x87,0x87,0x89,0x89,0x8B,0x8B,0x8D,0x8D,0x8F,0x8F
 352:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x91,0x91,0x93,0x93,0x95,0x95,0x97,0x97,0x99,0x99,0x9B,0x9B,0x9D,0x9D,0x9F,0x9F, \
 353:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xA1,0xA1,0xA3,0xA3,0xA5,0xA5,0xA7,0xA7,0xA9,0xA9,0xAB,0xAB,0xAD,0xAD,0xAE,0xAF, \
 354:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0xB6,0xB6,0xB8,0xB8,0xB9,0xBA,0xBB,0xBC,0xBE,0xBE,0xBF, \
 355:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 356:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xD1,0xD1,0xD3,0xD3,0xD5,0xD5,0xD7,0xD7,0xDD,0xD9,0xDA,0xDB,0xDC,0xDD,0xE0,0xDF, \
 357:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xE0,0xE2,0xE2,0xE4,0xE4,0xE6,0xE6,0xE8,0xE8,0xEA,0xEA,0xEC,0xEC,0xEE,0xEE,0xEF, \
 358:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFD,0xFE,0xFF}
 359:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT857  {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0x49,0x8E,0x8F
 360:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x90,0x92,0x92,0xE2,0x99,0xE3,0xEA,0xEB,0x98,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9E, \
 361:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA6,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 362:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 363:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 364:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xD0,0xD1,0xD2,0xD3,0xD4,0x49,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 365:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xDE,0xED,0xEE,0xEF, \
 366:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 367:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT860  {0x80,0x9A,0x90,0x8F,0x8E,0x91,0x86,0x80,0x89,0x89,0x92,0x8B,0x8C,0x98,0x8E,0x8F
 368:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x90,0x91,0x92,0x8C,0x99,0xA9,0x96,0x9D,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 369:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x86,0x8B,0x9F,0x96,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 370:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 371:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 8


 372:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 373:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 374:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 375:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT861  {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x8B,0x8B,0x8D,0x8E,0x8F
 376:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x90,0x92,0x92,0x4F,0x99,0x8D,0x55,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 377:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xA4,0xA5,0xA6,0xA7,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 378:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 379:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 380:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 381:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 382:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 383:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT862  {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F
 384:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 385:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 386:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 387:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 388:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 389:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 390:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 391:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT863  {0x43,0x55,0x45,0x41,0x41,0x41,0x86,0x43,0x45,0x45,0x45,0x49,0x49,0x8D,0x41,0x8F
 392:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x45,0x45,0x45,0x4F,0x45,0x49,0x55,0x55,0x98,0x4F,0x55,0x9B,0x9C,0x55,0x55,0x9F, \
 393:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xA0,0xA1,0x4F,0x55,0xA4,0xA5,0xA6,0xA7,0x49,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 394:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 395:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 396:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 397:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 398:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 399:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT864  {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F
 400:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 401:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 402:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 403:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 404:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 405:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 406:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 407:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT865  {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F
 408:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 409:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 410:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 411:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 412:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 413:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 414:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 415:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT866  {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F
 416:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 417:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 418:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 419:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 420:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 421:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 422:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 423:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_CT869  {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F
 424:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x86,0x9C,0x8D,0x8F,0x90, \
 425:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0x91,0x90,0x92,0x95,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 426:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 427:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 428:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xA4,0xA5,0xA6,0xD9,0xDA,0xDB,0xDC,0xA7,0xA8,0xDF, \
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 9


 429:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xA9,0xAA,0xAC,0xAD,0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xCF,0xCF,0xD0,0xEF, \
 430:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					0xF0,0xF1,0xD1,0xD2,0xD3,0xF5,0xD4,0xF7,0xF8,0xF9,0xD5,0x96,0x95,0x98,0xFE,0xFF}
 431:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 432:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 433:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* DBCS code range |----- 1st byte -----|  |----------- 2nd byte -----------| */
 434:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*                  <------>    <------>    <------>    <------>    <------>  */
 435:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_DC932 {0x81, 0x9F, 0xE0, 0xFC, 0x40, 0x7E, 0x80, 0xFC, 0x00, 0x00}
 436:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_DC936 {0x81, 0xFE, 0x00, 0x00, 0x40, 0x7E, 0x80, 0xFE, 0x00, 0x00}
 437:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_DC949 {0x81, 0xFE, 0x00, 0x00, 0x41, 0x5A, 0x61, 0x7A, 0x81, 0xFE}
 438:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define TBL_DC950 {0x81, 0xFE, 0x00, 0x00, 0x40, 0x7E, 0xA1, 0xFE, 0x00, 0x00}
 439:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 440:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 441:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Macros for table definitions */
 442:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define MERGE_2STR(a, b) a ## b
 443:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define MKCVTBL(hd, cp) MERGE_2STR(hd, cp)
 444:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 445:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 446:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 447:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 448:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*--------------------------------------------------------------------------
 449:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 450:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c ****    Module Private Work Area
 451:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 452:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** ---------------------------------------------------------------------------*/
 453:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Remark: Variables defined here without initial value shall be guaranteed
 454:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /  zero/null at start-up. If not, the linker option or start-up routine is
 455:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /  not compliance with C standard. */
 456:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 457:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*--------------------------------*/
 458:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* File/Volume controls           */
 459:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*--------------------------------*/
 460:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 461:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_VOLUMES < 1 || FF_VOLUMES > 10
 462:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #error Wrong FF_VOLUMES setting
 463:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 464:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FATFS* FatFs[FF_VOLUMES];	/* Pointer to the filesystem objects (logical drives) */
 465:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static WORD Fsid;					/* Filesystem mount ID */
 466:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 467:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH != 0
 468:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static BYTE CurrVol;				/* Current drive */
 469:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 470:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 471:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
 472:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FILESEM Files[FF_FS_LOCK];	/* Open object lock semaphores */
 473:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 474:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 475:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_STR_VOLUME_ID
 476:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #ifdef FF_VOLUME_STRS
 477:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const char* const VolumeStr[FF_VOLUMES] = {FF_VOLUME_STRS};	/* Pre-defined volume ID */
 478:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 479:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 480:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 481:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_LBA64
 482:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_MIN_GPT > 0x100000000
 483:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #error Wrong FF_MIN_GPT setting
 484:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 485:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE GUID_MS_Basic[16] = {0xA2,0xA0,0xD0,0xEB,0xE5,0xB9,0x33,0x44,0x87,0xC0,0x68,0xB6,
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 10


 486:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 487:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 488:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 489:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 490:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*--------------------------------*/
 491:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* LFN/Directory working buffer   */
 492:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*--------------------------------*/
 493:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 494:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN == 0		/* Non-LFN configuration */
 495:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 496:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #error LFN must be enabled when enable exFAT
 497:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 498:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DEF_NAMBUF
 499:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define INIT_NAMBUF(fs)
 500:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define FREE_NAMBUF()
 501:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define LEAVE_MKFS(res)	return res
 502:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 503:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else					/* LFN configurations */
 504:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_MAX_LFN < 12 || FF_MAX_LFN > 255
 505:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #error Wrong setting of FF_MAX_LFN
 506:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 507:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_LFN_BUF < FF_SFN_BUF || FF_SFN_BUF < 12
 508:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #error Wrong setting of FF_LFN_BUF or FF_SFN_BUF
 509:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 510:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_LFN_UNICODE < 0 || FF_LFN_UNICODE > 3
 511:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #error Wrong setting of FF_LFN_UNICODE
 512:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 513:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE LfnOfs[] = {1,3,5,7,9,14,16,18,20,22,24,28,30};	/* FAT: Offset of LFN characters 
 514:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define MAXDIRB(nc)	((nc + 44U) / 15 * SZDIRE)	/* exFAT: Size of directory entry block scratchpad b
 515:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 516:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN == 1		/* LFN enabled with static working buffer */
 517:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 518:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static BYTE	DirBuf[MAXDIRB(FF_MAX_LFN)];	/* Directory entry block scratchpad buffer */
 519:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 520:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static WCHAR LfnBuf[FF_MAX_LFN + 1];		/* LFN working buffer */
 521:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DEF_NAMBUF
 522:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define INIT_NAMBUF(fs)
 523:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define FREE_NAMBUF()
 524:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define LEAVE_MKFS(res)	return res
 525:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 526:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #elif FF_USE_LFN == 2 	/* LFN enabled with dynamic working buffer on the stack */
 527:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 528:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DEF_NAMBUF		WCHAR lbuf[FF_MAX_LFN+1]; BYTE dbuf[MAXDIRB(FF_MAX_LFN)];	/* LFN working buffer
 529:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; (fs)->dirbuf = dbuf; }
 530:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define FREE_NAMBUF()
 531:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
 532:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DEF_NAMBUF		WCHAR lbuf[FF_MAX_LFN+1];	/* LFN working buffer */
 533:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; }
 534:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define FREE_NAMBUF()
 535:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 536:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define LEAVE_MKFS(res)	return res
 537:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 538:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #elif FF_USE_LFN == 3 	/* LFN enabled with dynamic working buffer on the heap */
 539:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 540:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DEF_NAMBUF		WCHAR *lfn;	/* Pointer to LFN working buffer and directory entry block scratchp
 541:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((FF_MAX_LFN+1)*2 + MAXDIRB(FF_MAX_LFN)); if (!lfn) LEAV
 542:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define FREE_NAMBUF()	ff_memfree(lfn)
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 11


 543:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
 544:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DEF_NAMBUF		WCHAR *lfn;	/* Pointer to LFN working buffer */
 545:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((FF_MAX_LFN+1)*2); if (!lfn) LEAVE_FF(fs, FR_NOT_ENOUGH
 546:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define FREE_NAMBUF()	ff_memfree(lfn)
 547:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 548:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define LEAVE_MKFS(res)	{ if (!work) ff_memfree(buf); return res; }
 549:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define MAX_MALLOC	0x8000	/* Must be >=FF_MAX_SS */
 550:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 551:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
 552:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #error Wrong setting of FF_USE_LFN
 553:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 554:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* FF_USE_LFN == 1 */
 555:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* FF_USE_LFN == 0 */
 556:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 557:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 558:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 559:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*--------------------------------*/
 560:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Code conversion tables         */
 561:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*--------------------------------*/
 562:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 563:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_CODE_PAGE == 0	/* Run-time code page configuration */
 564:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define CODEPAGE CodePage
 565:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static WORD CodePage;	/* Current code page */
 566:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE *ExCvt, *DbcTbl;	/* Pointer to current SBCS up-case table and DBCS code range tab
 567:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 568:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct437[] = TBL_CT437;
 569:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct720[] = TBL_CT720;
 570:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct737[] = TBL_CT737;
 571:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct771[] = TBL_CT771;
 572:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct775[] = TBL_CT775;
 573:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct850[] = TBL_CT850;
 574:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct852[] = TBL_CT852;
 575:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct855[] = TBL_CT855;
 576:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct857[] = TBL_CT857;
 577:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct860[] = TBL_CT860;
 578:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct861[] = TBL_CT861;
 579:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct862[] = TBL_CT862;
 580:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct863[] = TBL_CT863;
 581:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct864[] = TBL_CT864;
 582:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct865[] = TBL_CT865;
 583:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct866[] = TBL_CT866;
 584:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Ct869[] = TBL_CT869;
 585:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Dc932[] = TBL_DC932;
 586:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Dc936[] = TBL_DC936;
 587:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Dc949[] = TBL_DC949;
 588:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE Dc950[] = TBL_DC950;
 589:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 590:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #elif FF_CODE_PAGE < 900	/* Static code page configuration (SBCS) */
 591:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define CODEPAGE FF_CODE_PAGE
 592:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE ExCvt[] = MKCVTBL(TBL_CT, FF_CODE_PAGE);
 593:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 594:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else					/* Static code page configuration (DBCS) */
 595:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define CODEPAGE FF_CODE_PAGE
 596:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static const BYTE DbcTbl[] = MKCVTBL(TBL_DC, FF_CODE_PAGE);
 597:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 598:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 599:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 12


 600:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 601:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 602:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 603:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*--------------------------------------------------------------------------
 604:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 605:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c ****    Module Private Functions
 606:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 607:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** ---------------------------------------------------------------------------*/
 608:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 609:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 610:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
 611:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Load/Store multi-byte word in the FAT structure                       */
 612:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
 613:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static WORD ld_word (const BYTE* ptr)	/*	 Load a 2-byte little-endian word */
 615:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WORD rv;
 617:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = ptr[1];
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 621:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 622:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static DWORD ld_dword (const BYTE* ptr)	/* Load a 4-byte little-endian word */
 624:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD rv;
 626:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = ptr[3];
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 632:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 633:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 634:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 635:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static QWORD ld_qword (const BYTE* ptr)	/* Load an 8-byte little-endian word */
 636:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 637:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	QWORD rv;
 638:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 639:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = ptr[7];
 640:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[6];
 641:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[5];
 642:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[4];
 643:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[3];
 644:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 645:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 646:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 647:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 648:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 649:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 650:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 651:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static void st_word (BYTE* ptr, WORD val)	/* Store a 2-byte word in little-endian */
 653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 656:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 13


 657:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static void st_dword (BYTE* ptr, DWORD val)	/* Store a 4-byte word in little-endian */
 659:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 664:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 665:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 666:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 667:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static void st_qword (BYTE* ptr, QWORD val)	/* Store an 8-byte word in little-endian */
 668:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 669:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 670:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 671:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 672:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 673:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 674:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 675:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 676:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 677:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 678:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 679:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* !FF_FS_READONLY */
 680:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 681:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 682:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 683:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
 684:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* String functions                                                      */
 685:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
 686:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 687:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Test if the byte is DBC 1st byte */
 688:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static int dbc_1st (BYTE c)
 689:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 690:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_CODE_PAGE == 0		/* Variable code page */
 691:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (DbcTbl && c >= DbcTbl[0]) {
 692:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c <= DbcTbl[1]) return 1;					/* 1st byte range 1 */
 693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c >= DbcTbl[2] && c <= DbcTbl[3]) return 1;	/* 1st byte range 2 */
 694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #elif FF_CODE_PAGE >= 900	/* DBCS fixed code page */
 696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (c >= DbcTbl[0]) {
 697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c <= DbcTbl[1]) return 1;
 698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c >= DbcTbl[2] && c <= DbcTbl[3]) return 1;
 699:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 700:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else						/* SBCS fixed code page */
 701:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (c != 0) return 0;	/* Always false */
 702:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 703:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return 0;
 704:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 705:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 706:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 707:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Test if the byte is DBC 2nd byte */
 708:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static int dbc_2nd (BYTE c)
 709:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 710:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_CODE_PAGE == 0		/* Variable code page */
 711:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (DbcTbl && c >= DbcTbl[4]) {
 712:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c <= DbcTbl[5]) return 1;					/* 2nd byte range 1 */
 713:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c >= DbcTbl[6] && c <= DbcTbl[7]) return 1;	/* 2nd byte range 2 */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 14


 714:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c >= DbcTbl[8] && c <= DbcTbl[9]) return 1;	/* 2nd byte range 3 */
 715:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 716:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #elif FF_CODE_PAGE >= 900	/* DBCS fixed code page */
 717:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (c >= DbcTbl[4]) {
 718:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c <= DbcTbl[5]) return 1;
 719:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c >= DbcTbl[6] && c <= DbcTbl[7]) return 1;
 720:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c >= DbcTbl[8] && c <= DbcTbl[9]) return 1;
 721:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 722:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else						/* SBCS fixed code page */
 723:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (c != 0) return 0;	/* Always false */
 724:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 725:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return 0;
 726:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 727:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 728:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 729:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN
 730:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 731:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Get a Unicode code point from the TCHAR string in defined API encodeing */
 732:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static DWORD tchar2uni (	/* Returns a character in UTF-16 encoding (>=0x10000 on surrogate pair, 0x
 733:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR** str		/* Pointer to pointer to TCHAR string in configured encoding */
 734:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
 735:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 736:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD uc;
 737:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR *p = *str;
 738:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 739:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_LFN_UNICODE == 1		/* UTF-16 input */
 740:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WCHAR wc;
 741:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 742:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	uc = *p++;	/* Get a unit */
 743:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (IsSurrogate(uc)) {	/* Surrogate? */
 744:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		wc = *p++;		/* Get low surrogate */
 745:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!IsSurrogateH(uc) || !IsSurrogateL(wc)) return 0xFFFFFFFF;	/* Wrong surrogate? */
 746:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		uc = uc << 16 | wc;
 747:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 748:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 749:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #elif FF_LFN_UNICODE == 2	/* UTF-8 input */
 750:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE b;
 751:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	int nf;
 752:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 753:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	uc = (BYTE)*p++;	/* Get an encoding unit */
 754:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (uc & 0x80) {	/* Multiple byte code? */
 755:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if        ((uc & 0xE0) == 0xC0) {	/* 2-byte sequence? */
 756:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			uc &= 0x1F; nf = 1;
 757:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else if ((uc & 0xF0) == 0xE0) {	/* 3-byte sequence? */
 758:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			uc &= 0x0F; nf = 2;
 759:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else if ((uc & 0xF8) == 0xF0) {	/* 4-byte sequence? */
 760:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			uc &= 0x07; nf = 3;
 761:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {							/* Wrong sequence */
 762:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			return 0xFFFFFFFF;
 763:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 764:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		do {	/* Get trailing bytes */
 765:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			b = (BYTE)*p++;
 766:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if ((b & 0xC0) != 0x80) return 0xFFFFFFFF;	/* Wrong sequence? */
 767:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			uc = uc << 6 | (b & 0x3F);
 768:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} while (--nf != 0);
 769:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (uc < 0x80 || IsSurrogate(uc) || uc >= 0x110000) return 0xFFFFFFFF;	/* Wrong code? */
 770:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (uc >= 0x010000) uc = 0xD800DC00 | ((uc - 0x10000) << 6 & 0x3FF0000) | (uc & 0x3FF);	/* Make a
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 15


 771:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 772:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 773:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #elif FF_LFN_UNICODE == 3	/* UTF-32 input */
 774:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	uc = (TCHAR)*p++;	/* Get a unit */
 775:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (uc >= 0x110000 || IsSurrogate(uc)) return 0xFFFFFFFF;	/* Wrong code? */
 776:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (uc >= 0x010000) uc = 0xD800DC00 | ((uc - 0x10000) << 6 & 0x3FF0000) | (uc & 0x3FF);	/* Make a 
 777:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 778:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else		/* ANSI/OEM input */
 779:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE b;
 780:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WCHAR wc;
 781:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 782:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	wc = (BYTE)*p++;			/* Get a byte */
 783:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dbc_1st((BYTE)wc)) {	/* Is it a DBC 1st byte? */
 784:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		b = (BYTE)*p++;			/* Get 2nd byte */
 785:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!dbc_2nd(b)) return 0xFFFFFFFF;	/* Invalid code? */
 786:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		wc = (wc << 8) + b;		/* Make a DBC */
 787:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 788:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (wc != 0) {
 789:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		wc = ff_oem2uni(wc, CODEPAGE);	/* ANSI/OEM ==> Unicode */
 790:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wc == 0) return 0xFFFFFFFF;	/* Invalid code? */
 791:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 792:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	uc = wc;
 793:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 794:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 795:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*str = p;	/* Next read pointer */
 796:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return uc;
 797:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 798:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 799:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 800:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Store a Unicode char in defined API encoding */
 801:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static UINT put_utf (	/* Returns number of encoding units written (0:buffer overflow or wrong encod
 802:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD chr,	/* UTF-16 encoded character (Surrogate pair if >=0x10000) */
 803:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	TCHAR* buf,	/* Output buffer */
 804:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT szb	/* Size of the buffer */
 805:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
 806:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 807:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_LFN_UNICODE == 1	/* UTF-16 output */
 808:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WCHAR hs, wc;
 809:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	hs = (WCHAR)(chr >> 16);
 811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	wc = (WCHAR)chr;
 812:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (hs == 0) {	/* Single encoding unit? */
 813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (szb < 1 || IsSurrogate(wc)) return 0;	/* Buffer overflow or wrong code? */
 814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		*buf = wc;
 815:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return 1;
 816:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (szb < 2 || !IsSurrogateH(hs) || !IsSurrogateL(wc)) return 0;	/* Buffer overflow or wrong surro
 818:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*buf++ = hs;
 819:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*buf++ = wc;
 820:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return 2;
 821:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 822:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #elif FF_LFN_UNICODE == 2	/* UTF-8 output */
 823:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD hc;
 824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (chr < 0x80) {	/* Single byte code? */
 826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (szb < 1) return 0;	/* Buffer overflow? */
 827:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		*buf = (TCHAR)chr;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 16


 828:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return 1;
 829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 830:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (chr < 0x800) {	/* 2-byte sequence? */
 831:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (szb < 2) return 0;	/* Buffer overflow? */
 832:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		*buf++ = (TCHAR)(0xC0 | (chr >> 6 & 0x1F));
 833:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		*buf++ = (TCHAR)(0x80 | (chr >> 0 & 0x3F));
 834:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return 2;
 835:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 836:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (chr < 0x10000) {	/* 3-byte sequence? */
 837:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (szb < 3 || IsSurrogate(chr)) return 0;	/* Buffer overflow or wrong code? */
 838:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		*buf++ = (TCHAR)(0xE0 | (chr >> 12 & 0x0F));
 839:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		*buf++ = (TCHAR)(0x80 | (chr >> 6 & 0x3F));
 840:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		*buf++ = (TCHAR)(0x80 | (chr >> 0 & 0x3F));
 841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return 3;
 842:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 843:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* 4-byte sequence */
 844:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (szb < 4) return 0;	/* Buffer overflow? */
 845:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	hc = ((chr & 0xFFFF0000) - 0xD8000000) >> 6;	/* Get high 10 bits */
 846:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	chr = (chr & 0xFFFF) - 0xDC00;					/* Get low 10 bits */
 847:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (hc >= 0x100000 || chr >= 0x400) return 0;	/* Wrong surrogate? */
 848:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	chr = (hc | chr) + 0x10000;
 849:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*buf++ = (TCHAR)(0xF0 | (chr >> 18 & 0x07));
 850:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*buf++ = (TCHAR)(0x80 | (chr >> 12 & 0x3F));
 851:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*buf++ = (TCHAR)(0x80 | (chr >> 6 & 0x3F));
 852:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*buf++ = (TCHAR)(0x80 | (chr >> 0 & 0x3F));
 853:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return 4;
 854:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 855:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #elif FF_LFN_UNICODE == 3	/* UTF-32 output */
 856:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD hc;
 857:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 858:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (szb < 1) return 0;	/* Buffer overflow? */
 859:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (chr >= 0x10000) {	/* Out of BMP? */
 860:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		hc = ((chr & 0xFFFF0000) - 0xD8000000) >> 6;	/* Get high 10 bits */
 861:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		chr = (chr & 0xFFFF) - 0xDC00;					/* Get low 10 bits */
 862:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (hc >= 0x100000 || chr >= 0x400) return 0;	/* Wrong surrogate? */
 863:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		chr = (hc | chr) + 0x10000;
 864:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 865:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*buf++ = (TCHAR)chr;
 866:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return 1;
 867:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 868:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else						/* ANSI/OEM output */
 869:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WCHAR wc;
 870:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 871:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	wc = ff_uni2oem(chr, CODEPAGE);
 872:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (wc >= 0x100) {	/* Is this a DBC? */
 873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (szb < 2) return 0;
 874:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		*buf++ = (char)(wc >> 8);	/* Store DBC 1st byte */
 875:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		*buf++ = (TCHAR)wc;			/* Store DBC 2nd byte */
 876:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return 2;
 877:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 878:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (wc == 0 || szb < 1) return 0;	/* Invalid char or buffer overflow? */
 879:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*buf++ = (TCHAR)wc;					/* Store the character */
 880:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return 1;
 881:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 882:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 883:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* FF_USE_LFN */
 884:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 17


 885:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 886:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_REENTRANT
 887:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
 888:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Request/Release grant to access the volume                            */
 889:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
 890:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static int lock_fs (		/* 1:Ok, 0:timeout */
 891:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs		/* Filesystem object */
 892:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
 893:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 894:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return ff_req_grant(fs->sobj);
 895:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 896:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 897:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 898:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static void unlock_fs (
 899:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 900:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res		/* Result code to be returned */
 901:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
 902:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 903:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs && res != FR_NOT_ENABLED && res != FR_INVALID_DRIVE && res != FR_TIMEOUT) {
 904:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		ff_rel_grant(fs->sobj);
 905:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 906:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 907:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 908:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 909:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 910:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 911:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 912:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
 913:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
 914:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* File lock control functions                                           */
 915:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
 916:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 917:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT chk_lock (	/* Check if the file can be accessed */
 918:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,		/* Directory object pointing the file to be checked */
 919:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	int acc			/* Desired access type (0:Read mode open, 1:Write mode open, 2:Delete or rename) */
 920:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
 921:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 922:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i, be;
 923:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 924:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Search open object table for the object */
 925:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	be = 0;
 926:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (i = 0; i < FF_FS_LOCK; i++) {
 927:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 928:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (Files[i].fs == dp->obj.fs &&	 	/* Check if the object matches with an open object */
 929:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 930:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				Files[i].ofs == dp->dptr) break;
 931:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {			/* Blank entry */
 932:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			be = 1;
 933:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 934:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 935:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (i == FF_FS_LOCK) {	/* The object has not been opened */
 936:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return (!be && acc != 2) ? FR_TOO_MANY_OPEN_FILES : FR_OK;	/* Is there a blank entry for new obje
 937:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 938:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 939:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* The object was opened. Reject any open against writing file and all write mode open */
 940:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return (acc != 0 || Files[i].ctr == 0x100) ? FR_LOCKED : FR_OK;
 941:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 18


 942:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 943:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 944:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static int enq_lock (void)	/* Check if an entry is available for a new object */
 945:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 946:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i;
 947:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 948:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (i = 0; i < FF_FS_LOCK && Files[i].fs; i++) ;
 949:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return (i == FF_FS_LOCK) ? 0 : 1;
 950:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 951:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 952:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 953:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static UINT inc_lock (	/* Increment object open counter and returns its index (0:Internal error) */
 954:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,	/* Directory object pointing the file to register or increment */
 955:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	int acc		/* Desired access (0:Read, 1:Write, 2:Delete/Rename) */
 956:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
 957:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 958:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i;
 959:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 960:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 961:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (i = 0; i < FF_FS_LOCK; i++) {	/* Find the object */
 962:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (Files[i].fs == dp->obj.fs
 963:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		 && Files[i].clu == dp->obj.sclust
 964:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		 && Files[i].ofs == dp->dptr) break;
 965:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 966:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 967:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (i == FF_FS_LOCK) {			/* Not opened. Register it as new. */
 968:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		for (i = 0; i < FF_FS_LOCK && Files[i].fs; i++) ;
 969:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (i == FF_FS_LOCK) return 0;	/* No free entry to register (int err) */
 970:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		Files[i].fs = dp->obj.fs;
 971:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		Files[i].clu = dp->obj.sclust;
 972:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		Files[i].ofs = dp->dptr;
 973:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		Files[i].ctr = 0;
 974:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 976:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (acc >= 1 && Files[i].ctr) return 0;	/* Access violation (int err) */
 977:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 978:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	Files[i].ctr = acc ? 0x100 : Files[i].ctr + 1;	/* Set semaphore value */
 979:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 980:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return i + 1;	/* Index number origin from 1 */
 981:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 982:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 983:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 984:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT dec_lock (	/* Decrement object open counter */
 985:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i			/* Semaphore index (1..) */
 986:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
 987:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 988:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WORD n;
 989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 990:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 991:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 992:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (--i < FF_FS_LOCK) {	/* Index number origin from 0 */
 993:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		n = Files[i].ctr;
 994:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (n == 0x100) n = 0;	/* If write mode open, delete the entry */
 995:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (n > 0) n--;			/* Decrement read mode open count */
 996:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		Files[i].ctr = n;
 997:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (n == 0) Files[i].fs = 0;	/* Delete the entry if open count gets zero */
 998:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = FR_OK;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 19


 999:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} else {
1000:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = FR_INT_ERR;		/* Invalid index nunber */
1001:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1002:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
1003:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1004:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1005:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1006:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static void clear_lock (	/* Clear lock entries of the volume */
1007:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs
1008:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1009:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1010:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i;
1011:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1012:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (i = 0; i < FF_FS_LOCK; i++) {
1013:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
1014:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1015:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1016:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1017:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* FF_FS_LOCK != 0 */
1018:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1020:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1021:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1022:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Move/Flush disk access window in the filesystem object                */
1023:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1024:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
1025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT sync_window (	/* Returns FR_OK or FR_DISK_ERR */
1026:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs			/* Filesystem object */
1027:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1028:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1029:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res = FR_OK;
1030:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1031:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->wflag) {	/* Is the disk access window dirty? */
1033:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (disk_write(fs->pdrv, fs->win, fs->winsect, 1) == RES_OK) {	/* Write it back into the volume *
1034:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 0;	/* Clear window dirty flag */
1035:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->winsect - fs->fatbase < fs->fsize) {	/* Is it in the 1st FAT? */
1036:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fs->n_fats == 2) disk_write(fs->pdrv, fs->win, fs->winsect + fs->fsize, 1);	/* Reflect it t
1037:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
1038:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {
1039:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_DISK_ERR;
1040:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1041:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1042:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
1043:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1044:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
1045:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1046:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT move_window (	/* Returns FR_OK or FR_DISK_ERR */
1048:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
1049:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t sect		/* Sector LBA to make appearance in the fs->win[] */
1050:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1051:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res = FR_OK;
1053:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1054:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (sect != fs->winsect) {	/* Window offset changed? */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 20


1056:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
1057:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = sync_window(fs);		/* Flush the window */
1058:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
1059:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {			/* Fill sector window with new data */
1060:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (disk_read(fs->pdrv, fs->win, sect, 1) != RES_OK) {
1061:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				sect = (LBA_t)0 - 1;	/* Invalidate window if read data is not valid */
1062:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_DISK_ERR;
1063:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
1064:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->winsect = sect;
1065:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1066:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
1068:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1069:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1070:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1071:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1072:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1073:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
1074:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1075:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Synchronize filesystem and data on the storage                        */
1076:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1077:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1078:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT sync_fs (	/* Returns FR_OK or FR_DISK_ERR */
1079:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs		/* Filesystem object */
1080:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1081:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1082:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
1083:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1084:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1085:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = sync_window(fs);
1086:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
1087:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {	/* FAT32: Update FSInfo sector if needed */
1088:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			/* Create FSInfo structure */
1089:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			memset(fs->win, 0, sizeof fs->win);
1090:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);					/* Boot signature */
1091:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_dword(fs->win + FSI_LeadSig, 0x41615252);		/* Leading signature */
1092:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_dword(fs->win + FSI_StrucSig, 0x61417272);		/* Structure signature */
1093:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_dword(fs->win + FSI_Free_Count, fs->free_clst);	/* Number of free clusters */
1094:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_dword(fs->win + FSI_Nxt_Free, fs->last_clst);	/* Last allocated culuster */
1095:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->winsect = fs->volbase + 1;						/* Write it into the FSInfo sector (Next to VBR) */
1096:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			disk_write(fs->pdrv, fs->win, fs->winsect, 1);
1097:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->fsi_flag = 0;
1098:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1099:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		/* Make sure that no pending write process in the lower layer */
1100:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (disk_ioctl(fs->pdrv, CTRL_SYNC, 0) != RES_OK) res = FR_DISK_ERR;
1101:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1102:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1103:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
1104:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1105:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1106:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
1107:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1108:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1109:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1110:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1111:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Get physical sector number from cluster number                        */
1112:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 21


1113:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1114:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static LBA_t clst2sect (	/* !=0:Sector number, 0:Failed (invalid cluster#) */
1115:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
1116:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD clst		/* Cluster# to be converted */
1117:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1118:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	clst -= 2;		/* Cluster number is origin from 2 */
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
1122:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1123:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1124:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1125:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1126:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1127:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1128:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* FAT access - Read value of an FAT entry                               */
1129:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1130:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1131:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static DWORD get_fat (		/* 0xFFFFFFFF:Disk error, 1:Internal error, 2..0x7FFFFFFF:Cluster status */
1132:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FFOBJID* obj,	/* Corresponding object */
1133:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD clst		/* Cluster number to get the value */
1134:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1135:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1136:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT wc, bc;
1137:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD val;
1138:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = obj->fs;
1139:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1140:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1141:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check if in valid range */
1142:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		val = 1;	/* Internal error */
1143:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1144:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} else {
1145:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		val = 0xFFFFFFFF;	/* Default value falls on disk error */
1146:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1147:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
1148:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		case FS_FAT12 :
1149:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
1150:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
1151:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			wc = fs->win[bc++ % SS(fs)];		/* Get 1st byte of the entry */
1152:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
1153:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;	/* Merge 2nd byte of the entry */
1154:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);	/* Adjust bit position */
1155:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
1156:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1157:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		case FS_FAT16 :
1158:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 2))) != FR_OK) break;
1159:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));		/* Simple WORD array */
1160:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
1161:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1162:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		case FS_FAT32 :
1163:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
1164:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;	/* Simple DWORD array but mask out upp
1165:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
1166:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
1167:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		case FS_EXFAT :
1168:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if ((obj->objsize != 0 && obj->sclust != 0) || obj->stat == 0) {	/* Object except root dir must 
1169:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				DWORD cofs = clst - obj->sclust;	/* Offset from start cluster */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 22


1170:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				DWORD clen = (DWORD)((LBA_t)((obj->objsize - 1) / SS(fs)) / fs->csize);	/* Number of clusters -
1171:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1172:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (obj->stat == 2 && cofs <= clen) {	/* Is it a contiguous chain? */
1173:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					val = (cofs == clen) ? 0x7FFFFFFF : clst + 1;	/* No data on the FAT, generate the value */
1174:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					break;
1175:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
1176:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (obj->stat == 3 && cofs < obj->n_cont) {	/* Is it in the 1st fragment? */
1177:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					val = clst + 1; 	/* Generate the value */
1178:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					break;
1179:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
1180:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (obj->stat != 2) {	/* Get value from FAT if FAT chain is valid */
1181:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (obj->n_frag != 0) {	/* Is it on the growing edge? */
1182:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						val = 0x7FFFFFFF;	/* Generate EOC */
1183:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} else {
1184:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
1185:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x7FFFFFFF;
1186:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
1187:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					break;
1188:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
1189:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
1190:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = 1;	/* Internal error */
1191:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
1192:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
1193:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		default:
1194:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = 1;	/* Internal error */
1195:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1196:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1197:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1198:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return val;
1199:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1200:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1201:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1202:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1203:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1204:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
1205:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1206:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* FAT access - Change value of an FAT entry                             */
1207:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1208:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1209:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT put_fat (	/* FR_OK(0):succeeded, !=0:error */
1210:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Corresponding filesystem object */
1211:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD clst,		/* FAT index number (cluster number) to be changed */
1212:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD val		/* New value to be set to the entry */
1213:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1214:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1215:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT bc;
1216:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE *p;
1217:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res = FR_INT_ERR;
1218:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1219:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= 2 && clst < fs->n_fatent) {	/* Check if in valid range */
1221:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
1222:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		case FS_FAT12:
1223:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			bc = (UINT)clst; bc += bc / 2;	/* bc: byte offset of the entry */
1224:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
1225:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
1226:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			p = fs->win + bc++ % SS(fs);
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 23


1227:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;	/* Update 1st byte */
1228:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
1229:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
1230:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
1231:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			p = fs->win + bc % SS(fs);
1232:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));	/* Update 2nd by
1233:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
1234:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
1235:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1236:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		case FS_FAT16:
1237:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 2)));
1238:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
1239:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);	/* Simple WORD array */
1240:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
1241:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
1242:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1243:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		case FS_FAT32:
1244:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
1245:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		case FS_EXFAT:
1246:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
1247:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 4)));
1248:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
1249:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!FF_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1250:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				val = (val & 0x0FFFFFFF) | (ld_dword(fs->win + clst * 4 % SS(fs)) & 0xF0000000);
1251:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
1252:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_dword(fs->win + clst * 4 % SS(fs), val);
1253:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
1254:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
1255:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1256:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1257:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
1258:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1259:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1260:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif /* !FF_FS_READONLY */
1261:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1262:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1263:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1264:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1265:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT && !FF_FS_READONLY
1266:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1267:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* exFAT: Accessing FAT and Allocation Bitmap                            */
1268:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1269:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1270:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*--------------------------------------*/
1271:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Find a contiguous free cluster block */
1272:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*--------------------------------------*/
1273:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1274:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static DWORD find_bitmap (	/* 0:Not found, 2..:Cluster block found, 0xFFFFFFFF:Disk error */
1275:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,	/* Filesystem object */
1276:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD clst,	/* Cluster number to scan from */
1277:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD ncl	/* Number of contiguous clusters to find (1..) */
1278:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1279:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1280:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE bm, bv;
1281:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i;
1282:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD val, scl, ctr;
1283:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 24


1284:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1285:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	clst -= 2;	/* The first bit in the bitmap corresponds to cluster #2 */
1286:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) clst = 0;
1287:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	scl = val = clst; ctr = 0;
1288:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (;;) {
1289:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (move_window(fs, fs->bitbase + val / 8 / SS(fs)) != FR_OK) return 0xFFFFFFFF;
1290:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		i = val / 8 % SS(fs); bm = 1 << (val % 8);
1291:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		do {
1292:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			do {
1293:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				bv = fs->win[i] & bm; bm <<= 1;		/* Get bit value */
1294:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (++val >= fs->n_fatent - 2) {	/* Next cluster (with wrap-around) */
1295:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					val = 0; bm = 0; i = SS(fs);
1296:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
1297:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (bv == 0) {	/* Is it a free cluster? */
1298:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (++ctr == ncl) return scl + 2;	/* Check if run length is sufficient for required */
1299:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} else {
1300:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					scl = val; ctr = 0;		/* Encountered a cluster in-use, restart to scan */
1301:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
1302:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (val == clst) return 0;	/* All cluster scanned? */
1303:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} while (bm != 0);
1304:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			bm = 1;
1305:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} while (++i < SS(fs));
1306:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1307:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1308:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1309:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1310:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*----------------------------------------*/
1311:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Set/Clear a block of allocation bitmap */
1312:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*----------------------------------------*/
1313:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1314:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT change_bitmap (
1315:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,	/* Filesystem object */
1316:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD clst,	/* Cluster number to change from */
1317:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD ncl,	/* Number of clusters to be changed */
1318:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	int bv		/* bit value to be set (0 or 1) */
1319:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1321:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE bm;
1322:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i;
1323:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t sect;
1324:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1325:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1326:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	clst -= 2;	/* The first bit corresponds to cluster #2 */
1327:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sect = fs->bitbase + clst / 8 / SS(fs);	/* Sector address */
1328:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	i = clst / 8 % SS(fs);					/* Byte offset in the sector */
1329:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	bm = 1 << (clst % 8);					/* Bit mask in the byte */
1330:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (;;) {
1331:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (move_window(fs, sect++) != FR_OK) return FR_DISK_ERR;
1332:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		do {
1333:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			do {
1334:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (bv == (int)((fs->win[i] & bm) != 0)) return FR_INT_ERR;	/* Is the bit expected value? */
1335:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->win[i] ^= bm;	/* Flip the bit */
1336:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->wflag = 1;
1337:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (--ncl == 0) return FR_OK;	/* All bits processed? */
1338:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} while (bm <<= 1);		/* Next bit */
1339:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			bm = 1;
1340:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} while (++i < SS(fs));		/* Next byte */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 25


1341:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		i = 0;
1342:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1343:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1344:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1345:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1346:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*---------------------------------------------*/
1347:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Fill the first fragment of the FAT chain    */
1348:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*---------------------------------------------*/
1349:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1350:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT fill_first_frag (
1351:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FFOBJID* obj	/* Pointer to the corresponding object */
1352:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1353:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1354:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
1355:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD cl, n;
1356:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1357:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1358:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (obj->stat == 3) {	/* Has the object been changed 'fragmented' in this session? */
1359:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		for (cl = obj->sclust, n = obj->n_cont; n; cl++, n--) {	/* Create cluster chain on the FAT */
1360:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = put_fat(obj->fs, cl, cl + 1);
1361:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) return res;
1362:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1363:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		obj->stat = 0;	/* Change status 'FAT chain is valid' */
1364:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1365:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return FR_OK;
1366:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1367:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1368:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1369:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*---------------------------------------------*/
1370:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Fill the last fragment of the FAT chain     */
1371:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*---------------------------------------------*/
1372:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1373:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT fill_last_frag (
1374:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FFOBJID* obj,	/* Pointer to the corresponding object */
1375:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD lcl,		/* Last cluster of the fragment */
1376:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD term		/* Value to set the last FAT entry */
1377:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1378:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1379:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
1380:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1381:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1382:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	while (obj->n_frag > 0) {	/* Create the chain of last fragment */
1383:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = put_fat(obj->fs, lcl - obj->n_frag + 1, (obj->n_frag > 1) ? lcl - obj->n_frag + 2 : term);
1384:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) return res;
1385:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		obj->n_frag--;
1386:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1387:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return FR_OK;
1388:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1389:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1390:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* FF_FS_EXFAT && !FF_FS_READONLY */
1391:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1392:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1393:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1394:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
1395:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1396:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* FAT handling - Remove a cluster chain                                 */
1397:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 26


1398:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1399:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT remove_chain (	/* FR_OK(0):succeeded, !=0:error */
1400:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FFOBJID* obj,		/* Corresponding object */
1401:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD clst,			/* Cluster to remove a chain from */
1402:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD pclst			/* Previous cluster of clst (0 if entire chain) */
1403:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1404:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1405:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res = FR_OK;
1406:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD nxt;
1407:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = obj->fs;
1408:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT || FF_USE_TRIM
1409:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD scl = clst, ecl = clst;
1410:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
1411:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_TRIM
1412:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t rt[2];
1413:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
1414:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1415:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Check if in valid range */
1416:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1417:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Mark the previous cluster 'EOC' on the FAT if it exists */
1418:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (pclst != 0 && (!FF_FS_EXFAT || fs->fs_type != FS_EXFAT || obj->stat != 2)) {
1419:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
1420:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) return res;
1421:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1422:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1423:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Remove the chain */
1424:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	do {
1425:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		nxt = get_fat(obj, clst);			/* Get cluster status */
1426:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
1427:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
1428:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
1429:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!FF_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1430:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = put_fat(fs, clst, 0);		/* Mark the cluster 'free' on the FAT */
1431:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) return res;
1432:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1433:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->free_clst < fs->n_fatent - 2) {	/* Update FSINFO */
1434:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->free_clst++;
1435:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->fsi_flag |= 1;
1436:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1437:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT || FF_USE_TRIM
1438:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (ecl + 1 == nxt) {	/* Is next cluster contiguous? */
1439:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ecl = nxt;
1440:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {				/* End of contiguous cluster block */
1441:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
1442:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
1443:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = change_bitmap(fs, scl, ecl - scl + 1, 0);	/* Mark the cluster block 'free' on the bitmap 
1444:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res != FR_OK) return res;
1445:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
1446:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
1447:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_TRIM
1448:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			rt[0] = clst2sect(fs, scl);					/* Start of data area to be freed */
1449:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			rt[1] = clst2sect(fs, ecl) + fs->csize - 1;	/* End of data area to be freed */
1450:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			disk_ioctl(fs->pdrv, CTRL_TRIM, rt);		/* Inform storage device that the data in the block may be
1451:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
1452:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			scl = ecl = nxt;
1453:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1454:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 27


1455:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		clst = nxt;					/* Next cluster */
1456:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (clst < fs->n_fatent);	/* Repeat while not the last link */
1457:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1458:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
1459:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Some post processes for chain status */
1460:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
1461:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (pclst == 0) {	/* Has the entire chain been removed? */
1462:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			obj->stat = 0;		/* Change the chain status 'initial' */
1463:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {
1464:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (obj->stat == 0) {	/* Is it a fragmented chain from the beginning of this session? */
1465:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				clst = obj->sclust;		/* Follow the chain to check if it gets contiguous */
1466:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				while (clst != pclst) {
1467:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					nxt = get_fat(obj, clst);
1468:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (nxt < 2) return FR_INT_ERR;
1469:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;
1470:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (nxt != clst + 1) break;	/* Not contiguous? */
1471:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst++;
1472:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
1473:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == pclst) {	/* Has the chain got contiguous again? */
1474:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					obj->stat = 2;		/* Change the chain status 'contiguous' */
1475:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
1476:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
1477:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (obj->stat == 3 && pclst >= obj->sclust && pclst <= obj->sclust + obj->n_cont) {	/* Was the 
1478:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					obj->stat = 2;	/* Change the chain status 'contiguous' */
1479:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
1480:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
1481:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1482:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1483:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
1484:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return FR_OK;
1485:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1486:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1487:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1488:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1489:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1490:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1491:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* FAT handling - Stretch a chain or Create a new chain                  */
1492:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1493:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1494:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static DWORD create_chain (	/* 0:No free cluster, 1:Internal error, 0xFFFFFFFF:Disk error, >=2:New 
1495:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FFOBJID* obj,		/* Corresponding object */
1496:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD clst			/* Cluster# to stretch, 0:Create a new chain */
1497:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1498:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1499:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD cs, ncl, scl;
1500:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
1501:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = obj->fs;
1502:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1503:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1504:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst == 0) {	/* Create a new chain */
1505:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		scl = fs->last_clst;				/* Suggested cluster to start to find */
1506:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
1507:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1508:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	else {				/* Stretch a chain */
1509:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cs = get_fat(obj, clst);			/* Check the cluster status */
1510:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (cs < 2) return 1;				/* Test for insanity */
1511:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* Test for disk error */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 28


1512:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
1513:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		scl = clst;							/* Cluster to start to find */
1514:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1515:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->free_clst == 0) return 0;		/* No free cluster */
1516:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1517:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
1518:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
1519:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		ncl = find_bitmap(fs, scl, 1);				/* Find a free cluster */
1520:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (ncl == 0 || ncl == 0xFFFFFFFF) return ncl;	/* No free cluster or hard error? */
1521:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = change_bitmap(fs, ncl, 1, 1);			/* Mark the cluster 'in use' */
1522:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_INT_ERR) return 1;
1523:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_DISK_ERR) return 0xFFFFFFFF;
1524:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (clst == 0) {							/* Is it a new chain? */
1525:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			obj->stat = 2;							/* Set status 'contiguous' */
1526:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {									/* It is a stretched chain */
1527:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (obj->stat == 2 && ncl != scl + 1) {	/* Is the chain got fragmented? */
1528:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				obj->n_cont = scl - obj->sclust;	/* Set size of the contiguous part */
1529:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				obj->stat = 3;						/* Change status 'just fragmented' */
1530:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
1531:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1532:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (obj->stat != 2) {	/* Is the file non-contiguous? */
1533:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ncl == clst + 1) {	/* Is the cluster next to previous one? */
1534:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				obj->n_frag = obj->n_frag ? obj->n_frag + 1 : 2;	/* Increment size of last framgent */
1535:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {				/* New fragment */
1536:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (obj->n_frag == 0) obj->n_frag = 1;
1537:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = fill_last_frag(obj, clst, ncl);	/* Fill last fragment on the FAT and link it to new one *
1538:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) obj->n_frag = 1;
1539:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
1540:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1541:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} else
1542:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
1543:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	{	/* On the FAT/FAT32 volume */
1544:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		ncl = 0;
1545:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (scl == clst) {						/* Stretching an existing chain? */
1546:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ncl = scl + 1;						/* Test if next cluster is free */
1547:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ncl >= fs->n_fatent) ncl = 2;
1548:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			cs = get_fat(obj, ncl);				/* Get next cluster status */
1549:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* Test for error */
1550:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (cs != 0) {						/* Not free? */
1551:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				cs = fs->last_clst;				/* Start at suggested cluster if it is valid */
1552:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (cs >= 2 && cs < fs->n_fatent) scl = cs;
1553:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				ncl = 0;
1554:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
1555:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1556:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (ncl == 0) {	/* The new cluster cannot be contiguous and find another fragment */
1557:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ncl = scl;	/* Start cluster */
1558:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			for (;;) {
1559:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				ncl++;							/* Next cluster */
1560:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (ncl >= fs->n_fatent) {		/* Check wrap-around */
1561:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					ncl = 2;
1562:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (ncl > scl) return 0;	/* No free cluster found? */
1563:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
1564:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				cs = get_fat(obj, ncl);			/* Get the cluster status */
1565:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (cs == 0) break;				/* Found a free cluster? */
1566:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* Test for error */
1567:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (ncl == scl) return 0;		/* No free cluster found? */
1568:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 29


1569:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1570:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = put_fat(fs, ncl, 0xFFFFFFFF);		/* Mark the new cluster 'EOC' */
1571:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK && clst != 0) {
1572:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = put_fat(fs, clst, ncl);		/* Link it from the previous one if needed */
1573:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1574:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1575:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1576:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {			/* Update FSINFO if function succeeded. */
1577:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->last_clst = ncl;
1578:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
1579:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsi_flag |= 1;
1580:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} else {
1581:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		ncl = (res == FR_DISK_ERR) ? 0xFFFFFFFF : 1;	/* Failed. Generate error status */
1582:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1583:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1584:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return ncl;		/* Return new cluster number or error status */
1585:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1586:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1587:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif /* !FF_FS_READONLY */
1588:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1589:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1590:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1591:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1592:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_FASTSEEK
1593:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1594:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* FAT handling - Convert offset into cluster with link map table        */
1595:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1596:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1597:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static DWORD clmt_clust (	/* <2:Error, >=2:Cluster number */
1598:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FIL* fp,		/* Pointer to the file object */
1599:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FSIZE_t ofs		/* File offset to be converted to cluster# */
1600:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1601:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1602:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD cl, ncl, *tbl;
1603:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = fp->obj.fs;
1604:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1605:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1606:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	tbl = fp->cltbl + 1;	/* Top of CLMT */
1607:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	cl = (DWORD)(ofs / SS(fs) / fs->csize);	/* Cluster order from top of the file */
1608:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (;;) {
1609:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		ncl = *tbl++;			/* Number of cluters in the fragment */
1610:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
1611:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
1612:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
1613:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return cl + *tbl;	/* Return the cluster number */
1615:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1617:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* FF_USE_FASTSEEK */
1618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1621:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1622:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Directory handling - Fill a cluster with zeros                        */
1624:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 30


1626:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
1627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT dir_clear (	/* Returns FR_OK or FR_DISK_ERR */
1628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs,		/* Filesystem object */
1629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD clst		/* Directory table to clear */
1630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1632:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t sect;
1633:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT n, szb;
1634:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE *ibuf;
1635:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1636:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1637:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (sync_window(fs) != FR_OK) return FR_DISK_ERR;	/* Flush disk access window */
1638:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sect = clst2sect(fs, clst);		/* Top of the cluster */
1639:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fs->winsect = sect;				/* Set window to top of the cluster */
1640:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	memset(fs->win, 0, sizeof fs->win);	/* Clear window buffer */
1641:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN == 3		/* Quick table clear by using multi-secter write */
1642:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Allocate a temporary buffer */
1643:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (szb = ((DWORD)fs->csize * SS(fs) >= MAX_MALLOC) ? MAX_MALLOC : fs->csize * SS(fs), ibuf = 0; 
1644:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (szb > SS(fs)) {		/* Buffer allocated? */
1645:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		memset(ibuf, 0, szb);
1646:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		szb /= SS(fs);		/* Bytes -> Sectors */
1647:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		for (n = 0; n < fs->csize && disk_write(fs->pdrv, ibuf, sect + n, szb) == RES_OK; n += szb) ;	/* 
1648:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		ff_memfree(ibuf);
1649:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} else
1650:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
1651:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	{
1652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		ibuf = fs->win; szb = 1;	/* Use window buffer (many single-sector writes may take a time) */
1653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		for (n = 0; n < fs->csize && disk_write(fs->pdrv, ibuf, sect + n, szb) == RES_OK; n += szb) ;	/* 
1654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return (n == fs->csize) ? FR_OK : FR_DISK_ERR;
1656:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1657:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* !FF_FS_READONLY */
1658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1659:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Directory handling - Set directory index                              */
1664:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1665:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1666:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT dir_sdi (	/* FR_OK(0):succeeded, !=0:error */
1667:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,		/* Pointer to directory object */
1668:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD ofs		/* Offset of directory table */
1669:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1670:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1671:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD csz, clst;
1672:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
1673:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1674:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1675:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (ofs >= (DWORD)((FF_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR) || ofs % SZDIR
1676:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return FR_INT_ERR;
1677:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1678:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->dptr = ofs;				/* Set current offset */
1679:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
1680:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
1681:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		clst = (DWORD)fs->dirbase;
1682:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (FF_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 31


1683:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1684:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1685:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst == 0) {	/* Static table (root-directory on the FAT volume) */
1686:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir) return FR_INT_ERR;	/* Is index out of range? */
1687:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->sect = fs->dirbase;
1688:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1689:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} else {			/* Dynamic table (sub-directory or root-directory on the FAT32/exFAT volume) */
1690:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		csz = (DWORD)fs->csize * SS(fs);	/* Bytes per cluster */
1691:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
1692:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
1693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
1695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ofs -= csz;
1696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->sect = clst2sect(fs, clst);
1698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1699:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->clust = clst;					/* Current cluster# */
1700:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->sect == 0) return FR_INT_ERR;
1701:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
1702:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
1703:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1704:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return FR_OK;
1705:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1706:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1707:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1708:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1709:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1710:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1711:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Directory handling - Move directory table index next                  */
1712:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1713:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1714:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT dir_next (	/* FR_OK(0):succeeded, FR_NO_FILE:End of table, FR_DENIED:Could not stret
1715:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,				/* Pointer to the directory object */
1716:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	int stretch				/* 0: Do not stretch table, 1: Stretch table if needed */
1717:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1718:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1719:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD ofs, clst;
1720:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
1721:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1722:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1723:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	ofs = dp->dptr + SZDIRE;	/* Next entry */
1724:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (ofs >= (DWORD)((FF_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) dp->sect = 0;
1725:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->sect == 0) return FR_NO_FILE;	/* Report EOT if it has been disabled */
1726:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1727:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (ofs % SS(fs) == 0) {	/* Sector changed? */
1728:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->sect++;				/* Next sector */
1729:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1730:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (dp->clust == 0) {	/* Static table */
1731:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
1732:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
1733:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
1734:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1735:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		else {					/* Dynamic table */
1736:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if ((ofs / SS(fs) & (fs->csize - 1)) == 0) {	/* Cluster changed? */
1737:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);		/* Get next cluster */
1738:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst <= 1) return FR_INT_ERR;			/* Internal error */
1739:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 32


1740:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst >= fs->n_fatent) {					/* It reached end of dynamic table */
1741:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
1742:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (!stretch) {								/* If no stretch, report EOT */
1743:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
1744:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
1745:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = create_chain(&dp->obj, dp->clust);	/* Allocate a cluster */
1746:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
1747:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
1748:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1749:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (dir_clear(fs, clst) != FR_OK) return FR_DISK_ERR;	/* Clean up the stretched table */
1750:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (FF_FS_EXFAT) dp->obj.stat |= 4;			/* exFAT: The directory has been stretched */
1751:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
1752:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (!stretch) dp->sect = 0;					/* (this line is to suppress compiler warning) */
1753:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					dp->sect = 0; return FR_NO_FILE;			/* Report EOT */
1754:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
1755:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
1756:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->clust = clst;		/* Initialize data for new cluster */
1757:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->sect = clst2sect(fs, clst);
1758:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
1759:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1760:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1761:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->dptr = ofs;						/* Current entry */
1762:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
1763:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1764:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return FR_OK;
1765:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1766:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1767:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1768:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1769:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1770:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
1771:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1772:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Directory handling - Reserve a block of directory entries             */
1773:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1774:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1775:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT dir_alloc (	/* FR_OK(0):succeeded, !=0:error */
1776:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,				/* Pointer to the directory object */
1777:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT n_ent				/* Number of contiguous entries to allocate */
1778:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1779:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1780:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
1781:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT n;
1782:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
1783:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1784:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1785:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = dir_sdi(dp, 0);
1786:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
1787:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		n = 0;
1788:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		do {
1789:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = move_window(fs, dp->sect);
1790:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
1791:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
1792:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if ((fs->fs_type == FS_EXFAT) ? (int)((dp->dir[XDIR_Type] & 0x80) == 0) : (int)(dp->dir[DIR_Name
1793:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
1794:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dp->dir[DIR_Name] == DDEM || dp->dir[DIR_Name] == 0) {	/* Is the entry free? */
1795:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
1796:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (++n == n_ent) break;	/* Is a block of contiguous free entries found? */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 33


1797:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
1798:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				n = 0;				/* Not a free entry, restart to search */
1799:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
1800:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = dir_next(dp, 1);	/* Next entry with table stretch enabled */
1801:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} while (res == FR_OK);
1802:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1803:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1804:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_NO_FILE) res = FR_DENIED;	/* No directory entry to allocate */
1805:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
1806:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1807:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1808:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* !FF_FS_READONLY */
1809:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1812:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* FAT: Directory handling - Load/Store start cluster number             */
1815:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1816:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static DWORD ld_clust (	/* Returns the top cluster value of the SFN entry */
1818:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,			/* Pointer to the fs object */
1819:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const BYTE* dir		/* Pointer to the key entry */
1820:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1821:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1822:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD cl;
1823:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	cl = ld_word(dir + DIR_FstClusLO);
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
1827:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1828:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return cl;
1830:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1831:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1832:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1833:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
1834:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static void st_clust (
1835:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
1836:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE* dir,	/* Pointer to the key entry */
1837:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD cl	/* Value to be set */
1838:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1839:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1840:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	st_word(dir + DIR_FstClusLO, (WORD)cl);
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
1842:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
1843:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1844:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1845:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
1846:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1847:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1848:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1849:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN
1850:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*--------------------------------------------------------*/
1851:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* FAT-LFN: Compare a part of file name with an LFN entry */
1852:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*--------------------------------------------------------*/
1853:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 34


1854:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static int cmp_lfn (		/* 1:matched, 0:not matched */
1855:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const WCHAR* lfnbuf,	/* Pointer to the LFN working buffer to be compared */
1856:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE* dir				/* Pointer to the directory entry containing the part of LFN */
1857:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1858:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1859:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i, s;
1860:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WCHAR wc, uc;
1861:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1862:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1863:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO */
1864:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1865:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	i = ((dir[LDIR_Ord] & 0x3F) - 1) * 13;	/* Offset in the LFN buffer */
1866:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1867:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
1868:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
1869:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wc != 0) {
1870:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (i >= FF_MAX_LFN + 1 || ff_wtoupper(uc) != ff_wtoupper(lfnbuf[i++])) {	/* Compare it */
1871:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				return 0;					/* Not matched */
1872:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
1873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			wc = uc;
1874:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {
1875:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1876:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1877:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1878:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1879:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if ((dir[LDIR_Ord] & LLEF) && wc && lfnbuf[i]) return 0;	/* Last segment matched but different len
1880:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1881:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return 1;		/* The part of LFN matched */
1882:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1883:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1884:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1885:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_MINIMIZE <= 1 || FF_FS_RPATH >= 2 || FF_USE_LABEL || FF_FS_EXFAT
1886:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------*/
1887:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* FAT-LFN: Pick a part of file name from an LFN entry */
1888:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------*/
1889:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1890:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static int pick_lfn (	/* 1:succeeded, 0:buffer overflow or invalid LFN entry */
1891:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the LFN working buffer */
1892:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE* dir			/* Pointer to the LFN entry */
1893:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1894:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1895:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i, s;
1896:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WCHAR wc, uc;
1897:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1898:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1899:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO is 0 */
1900:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1901:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	i = ((dir[LDIR_Ord] & ~LLEF) - 1) * 13;	/* Offset in the LFN buffer */
1902:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1903:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
1904:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
1905:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wc != 0) {
1906:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (i >= FF_MAX_LFN + 1) return 0;	/* Buffer overflow? */
1907:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
1908:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {
1909:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1910:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 35


1911:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1912:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1913:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dir[LDIR_Ord] & LLEF && wc != 0) {	/* Put terminator if it is the last LFN part and not termin
1914:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (i >= FF_MAX_LFN + 1) return 0;	/* Buffer overflow? */
1915:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		lfnbuf[i] = 0;
1916:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1917:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1918:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return 1;		/* The part of LFN is valid */
1919:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1920:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
1921:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1922:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1923:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
1924:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------*/
1925:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* FAT-LFN: Create an entry of LFN entries */
1926:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------*/
1927:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1928:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static void put_lfn (
1929:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const WCHAR* lfn,	/* Pointer to the LFN */
1930:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE* dir,			/* Pointer to the LFN entry to be created */
1931:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE ord,			/* LFN order (1-20) */
1932:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE sum			/* Checksum of the corresponding SFN */
1933:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1934:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1935:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i, s;
1936:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WCHAR wc;
1937:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1938:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1939:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dir[LDIR_Chksum] = sum;			/* Set checksum */
1940:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dir[LDIR_Attr] = AM_LFN;		/* Set attribute. LFN entry */
1941:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dir[LDIR_Type] = 0;
1942:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	st_word(dir + LDIR_FstClusLO, 0);
1943:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1944:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	i = (ord - 1) * 13;				/* Get offset in the LFN working buffer */
1945:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	s = wc = 0;
1946:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	do {
1947:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wc != 0xFFFF) wc = lfn[i++];	/* Get an effective character */
1948:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
1949:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wc == 0) wc = 0xFFFF;			/* Padding characters for following items */
1950:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (++s < 13);
1951:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (wc == 0xFFFF || !lfn[i]) ord |= LLEF;	/* Last LFN part is the start of LFN sequence */
1952:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dir[LDIR_Ord] = ord;			/* Set the LFN order */
1953:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
1954:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1955:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* !FF_FS_READONLY */
1956:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* FF_USE_LFN */
1957:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1958:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1959:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1960:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN && !FF_FS_READONLY
1961:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1962:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* FAT-LFN: Create a Numbered SFN                                        */
1963:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
1964:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1965:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static void gen_numname (
1966:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE* dst,			/* Pointer to the buffer to store numbered SFN */
1967:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const BYTE* src,	/* Pointer to SFN in directory form */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 36


1968:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const WCHAR* lfn,	/* Pointer to LFN */
1969:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT seq			/* Sequence number */
1970:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
1971:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
1972:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE ns[8], c;
1973:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i, j;
1974:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WCHAR wc;
1975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD sreg;
1976:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1977:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1978:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	memcpy(dst, src, 11);	/* Prepare the SFN to be modified */
1979:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1980:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (seq > 5) {	/* In case of many collisions, generate a hash number instead of sequential number 
1981:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		sreg = seq;
1982:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		while (*lfn) {	/* Create a CRC as hash value */
1983:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			wc = *lfn++;
1984:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			for (i = 0; i < 16; i++) {
1985:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				sreg = (sreg << 1) + (wc & 1);
1986:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				wc >>= 1;
1987:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (sreg & 0x10000) sreg ^= 0x11021;
1988:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
1989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
1990:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		seq = (UINT)sreg;
1991:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
1992:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
1993:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Make suffix (~ + hexdecimal) */
1994:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	i = 7;
1995:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	do {
1996:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (BYTE)((seq % 16) + '0'); seq /= 16;
1997:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c > '9') c += 7;
1998:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		ns[i--] = c;
1999:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (i && seq);
2000:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	ns[i] = '~';
2001:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2002:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Append the suffix to the SFN body */
2003:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (j = 0; j < i && dst[j] != ' '; j++) {	/* Find the offset to append */
2004:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (dbc_1st(dst[j])) {	/* To avoid DBC break up */
2005:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (j == i - 1) break;
2006:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			j++;
2007:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2008:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2009:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	do {	/* Append the suffix */
2010:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
2011:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (j < 8);
2012:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2013:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* FF_USE_LFN && !FF_FS_READONLY */
2014:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2015:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2016:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2017:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN
2018:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* FAT-LFN: Calculate checksum of an SFN entry                           */
2020:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2021:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2022:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static BYTE sum_sfn (
2023:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const BYTE* dir		/* Pointer to the SFN entry */
2024:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 37


2025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2026:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE sum = 0;
2027:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT n = 11;
2028:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2029:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	do {
2030:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		sum = (sum >> 1) + (sum << 7) + *dir++;
2031:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (--n);
2032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return sum;
2033:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2034:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2035:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* FF_USE_LFN */
2036:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2037:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2038:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2039:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
2040:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2041:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* exFAT: Checksum                                                       */
2042:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2043:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2044:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static WORD xdir_sum (	/* Get checksum of the directoly entry block */
2045:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const BYTE* dir		/* Directory entry block to be calculated */
2046:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
2047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2048:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i, szblk;
2049:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WORD sum;
2050:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2051:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	szblk = (dir[XDIR_NumSec] + 1) * SZDIRE;	/* Number of bytes of the entry block */
2053:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (i = sum = 0; i < szblk; i++) {
2054:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (i == XDIR_SetSum) {	/* Skip 2-byte sum field */
2055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			i++;
2056:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {
2057:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + dir[i];
2058:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2059:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2060:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return sum;
2061:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2062:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2063:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2064:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2065:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static WORD xname_sum (	/* Get check sum (to be used as hash) of the file name */
2066:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const WCHAR* name	/* File name to be calculated */
2067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
2068:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2069:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WCHAR chr;
2070:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WORD sum = 0;
2071:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2072:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2073:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	while ((chr = *name++) != 0) {
2074:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		chr = (WCHAR)ff_wtoupper(chr);		/* File name needs to be up-case converted */
2075:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr & 0xFF);
2076:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr >> 8);
2077:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2078:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return sum;
2079:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2080:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2081:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 38


2082:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY && FF_USE_MKFS
2083:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static DWORD xsum32 (	/* Returns 32-bit checksum */
2084:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE  dat,			/* Byte to be calculated (byte-by-byte processing) */
2085:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD sum			/* Previous sum value */
2086:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
2087:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2088:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sum = ((sum & 1) ? 0x80000000 : 0) + (sum >> 1) + dat;
2089:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return sum;
2090:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2091:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2092:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2093:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2094:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2095:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------*/
2096:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* exFAT: Get a directry entry block */
2097:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------*/
2098:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2099:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT load_xdir (	/* FR_INT_ERR: invalid entry block */
2100:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp					/* Reading direcotry object pointing top of the entry block to load */
2101:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
2102:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2103:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
2104:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i, sz_ent;
2105:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE *dirb = dp->obj.fs->dirbuf;	/* Pointer to the on-memory direcotry entry block 85+C0+C1s */
2106:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2107:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2108:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Load file directory entry */
2109:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
2110:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res != FR_OK) return res;
2111:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->dir[XDIR_Type] != ET_FILEDIR) return FR_INT_ERR;	/* Invalid order */
2112:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	memcpy(dirb + 0 * SZDIRE, dp->dir, SZDIRE);
2113:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sz_ent = (dirb[XDIR_NumSec] + 1) * SZDIRE;
2114:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (sz_ent < 3 * SZDIRE || sz_ent > 19 * SZDIRE) return FR_INT_ERR;
2115:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2116:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Load stream extension entry */
2117:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = dir_next(dp, 0);
2118:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_NO_FILE) res = FR_INT_ERR;	/* It cannot be */
2119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res != FR_OK) return res;
2120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
2121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res != FR_OK) return res;
2122:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->dir[XDIR_Type] != ET_STREAM) return FR_INT_ERR;	/* Invalid order */
2123:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	memcpy(dirb + 1 * SZDIRE, dp->dir, SZDIRE);
2124:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (MAXDIRB(dirb[XDIR_NumName]) > sz_ent) return FR_INT_ERR;
2125:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2126:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Load file name entries */
2127:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	i = 2 * SZDIRE;	/* Name offset to load */
2128:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	do {
2129:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = dir_next(dp, 0);
2130:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;	/* It cannot be */
2131:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) return res;
2132:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2133:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) return res;
2134:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (dp->dir[XDIR_Type] != ET_FILENAME) return FR_INT_ERR;	/* Invalid order */
2135:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (i < MAXDIRB(FF_MAX_LFN)) memcpy(dirb + i, dp->dir, SZDIRE);
2136:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while ((i += SZDIRE) < sz_ent);
2137:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2138:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Sanity check (do it for only accessible object) */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 39


2139:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (i <= MAXDIRB(FF_MAX_LFN)) {
2140:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (xdir_sum(dirb) != ld_word(dirb + XDIR_SetSum)) return FR_INT_ERR;
2141:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2142:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return FR_OK;
2143:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2144:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2145:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2146:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*------------------------------------------------------------------*/
2147:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* exFAT: Initialize object allocation info with loaded entry block */
2148:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*------------------------------------------------------------------*/
2149:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2150:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static void init_alloc_info (
2151:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
2152:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FFOBJID* obj	/* Object allocation information to be initialized */
2153:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
2154:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2155:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);		/* Start cluster */
2156:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);	/* Size */
2157:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;				/* Allocation status */
2158:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	obj->n_frag = 0;										/* No last fragment info */
2159:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2160:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2161:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2162:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2163:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY || FF_FS_RPATH != 0
2164:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*------------------------------------------------*/
2165:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* exFAT: Load the object's directory entry block */
2166:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*------------------------------------------------*/
2167:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2168:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT load_obj_xdir (
2169:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,			/* Blank directory object to be used to access containing direcotry */
2170:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const FFOBJID* obj	/* Object with its containing directory information */
2171:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
2172:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2173:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
2174:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2175:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Open object containing directory */
2176:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->obj.fs = obj->fs;
2177:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->obj.sclust = obj->c_scl;
2178:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->obj.stat = (BYTE)obj->c_size;
2179:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->obj.objsize = obj->c_size & 0xFFFFFF00;
2180:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->obj.n_frag = 0;
2181:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->blk_ofs = obj->c_ofs;
2182:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2183:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);	/* Goto object's entry block */
2184:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
2185:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = load_xdir(dp);		/* Load the object's entry block */
2186:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2187:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
2188:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2189:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2190:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2191:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2192:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
2193:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*----------------------------------------*/
2194:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* exFAT: Store the directory entry block */
2195:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*----------------------------------------*/
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 40


2196:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2197:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT store_xdir (
2198:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp				/* Pointer to the direcotry object */
2199:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
2200:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2201:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
2202:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT nent;
2203:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE *dirb = dp->obj.fs->dirbuf;	/* Pointer to the direcotry entry block 85+C0+C1s */
2204:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2205:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Create set sum */
2206:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	st_word(dirb + XDIR_SetSum, xdir_sum(dirb));
2207:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	nent = dirb[XDIR_NumSec] + 1;
2208:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2209:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Store the direcotry entry block to the directory */
2210:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);
2211:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	while (res == FR_OK) {
2212:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2213:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) break;
2214:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		memcpy(dp->dir, dirb, SZDIRE);
2215:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.fs->wflag = 1;
2216:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (--nent == 0) break;
2217:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dirb += SZDIRE;
2218:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = dir_next(dp, 0);
2219:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return (res == FR_OK || res == FR_DISK_ERR) ? res : FR_INT_ERR;
2221:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2222:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2223:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2224:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2225:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-------------------------------------------*/
2226:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* exFAT: Create a new directory enrty block */
2227:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-------------------------------------------*/
2228:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2229:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static void create_xdir (
2230:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block buffer */
2231:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const WCHAR* lfn	/* Pointer to the object name */
2232:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
2233:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2234:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i;
2235:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE nc1, nlen;
2236:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WCHAR wc;
2237:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2238:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2239:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Create file-directory and stream-extension entry */
2240:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	memset(dirb, 0, 2 * SZDIRE);
2241:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dirb[0 * SZDIRE + XDIR_Type] = ET_FILEDIR;
2242:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dirb[1 * SZDIRE + XDIR_Type] = ET_STREAM;
2243:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2244:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Create file-name entries */
2245:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	i = SZDIRE * 2;	/* Top of file_name entries */
2246:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	nlen = nc1 = 0; wc = 1;
2247:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	do {
2248:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dirb[i++] = ET_FILENAME; dirb[i++] = 0;
2249:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		do {	/* Fill name field */
2250:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (wc != 0 && (wc = lfn[nlen]) != 0) nlen++;	/* Get a character if exist */
2251:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_word(dirb + i, wc); 	/* Store it */
2252:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			i += 2;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 41


2253:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} while (i % SZDIRE != 0);
2254:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		nc1++;
2255:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (lfn[nlen]);	/* Fill next entry if any char follows */
2256:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2257:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dirb[XDIR_NumName] = nlen;		/* Set name length */
2258:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dirb[XDIR_NumSec] = 1 + nc1;	/* Set secondary count (C0 + C1s) */
2259:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	st_word(dirb + XDIR_NameHash, xname_sum(lfn));	/* Set name hash */
2260:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2261:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2262:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* !FF_FS_READONLY */
2263:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* FF_FS_EXFAT */
2264:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2265:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2266:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2267:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_MINIMIZE <= 1 || FF_FS_RPATH >= 2 || FF_USE_LABEL || FF_FS_EXFAT
2268:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2269:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Read an object from the directory                                     */
2270:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2271:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2272:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DIR_READ_FILE(dp) dir_read(dp, 0)
2273:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define DIR_READ_LABEL(dp) dir_read(dp, 1)
2274:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2275:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT dir_read (
2276:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
2277:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	int vol			/* Filtered by 0:file/directory or 1:volume label */
2278:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
2279:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2280:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res = FR_NO_FILE;
2281:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
2282:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE attr, b;
2283:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN
2284:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE ord = 0xFF, sum = 0xFF;
2285:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2286:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2287:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	while (dp->sect) {
2288:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = move_window(fs, dp->sect);
2289:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) break;
2290:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		b = dp->dir[DIR_Name];	/* Test for the entry type */
2291:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (b == 0) {
2292:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
2293:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2294:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
2295:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2296:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (FF_USE_LABEL && vol) {
2297:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (b == ET_VLABEL) break;	/* Volume label entry? */
2298:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
2299:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (b == ET_FILEDIR) {		/* Start of the file entry block? */
2300:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					dp->blk_ofs = dp->dptr;	/* Get location of the block */
2301:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = load_xdir(dp);	/* Load the entry block */
2302:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (res == FR_OK) {
2303:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dp->obj.attr = fs->dirbuf[XDIR_Attr] & AM_MASK;	/* Get attribute */
2304:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
2305:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					break;
2306:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
2307:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
2308:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else
2309:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 42


2310:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		{	/* On the FAT/FAT32 volume */
2311:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			dp->obj.attr = attr = dp->dir[DIR_Attr] & AM_MASK;	/* Get attribute */
2312:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
2313:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (b == DDEM || b == '.' || (int)((attr & ~AM_ARC) == AM_VOL) != vol) {	/* An entry without val
2314:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				ord = 0xFF;
2315:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
2316:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (attr == AM_LFN) {	/* An LFN entry is found */
2317:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (b & LLEF) {		/* Is it start of an LFN sequence? */
2318:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						sum = dp->dir[LDIR_Chksum];
2319:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						b &= (BYTE)~LLEF; ord = b;
2320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dp->blk_ofs = dp->dptr;
2321:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
2322:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					/* Check LFN validity and capture it */
2323:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					ord = (b == ord && sum == dp->dir[LDIR_Chksum] && pick_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0
2324:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} else {				/* An SFN entry is found */
2325:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (ord != 0 || sum != sum_sfn(dp->dir)) {	/* Is there a valid LFN? */
2326:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;	/* It has no LFN. */
2327:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
2328:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					break;
2329:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
2330:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
2331:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else		/* Non LFN configuration */
2332:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (b != DDEM && b != '.' && attr != AM_LFN && (int)((attr & ~AM_ARC) == AM_VOL) == vol) {	/* Is
2333:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				break;
2334:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
2335:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2336:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2337:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = dir_next(dp, 0);		/* Next entry */
2338:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) break;
2339:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2340:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2341:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res != FR_OK) dp->sect = 0;		/* Terminate the read operation on error or EOT */
2342:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
2343:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2344:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2345:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* FF_FS_MINIMIZE <= 1 || FF_USE_LABEL || FF_FS_RPATH >= 2 */
2346:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2347:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2348:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2349:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2350:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Directory handling - Find an object in the directory                  */
2351:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2352:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2353:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT dir_find (	/* FR_OK(0):succeeded, !=0:error */
2354:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp					/* Pointer to the directory object with the file name */
2355:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
2356:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2357:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
2358:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
2359:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE c;
2360:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN
2361:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE a, ord, sum;
2362:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2363:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2364:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = dir_sdi(dp, 0);			/* Rewind directory object */
2365:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res != FR_OK) return res;
2366:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 43


2367:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2368:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		BYTE nc;
2369:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		UINT di, ni;
2370:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		WORD hash = xname_sum(fs->lfnbuf);		/* Hash value of the name to find */
2371:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2372:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		while ((res = DIR_READ_FILE(dp)) == FR_OK) {	/* Read an item */
2373:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_MAX_LFN < 255
2374:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->dirbuf[XDIR_NumName] > FF_MAX_LFN) continue;		/* Skip comparison if inaccessible object 
2375:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2376:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ld_word(fs->dirbuf + XDIR_NameHash) != hash) continue;	/* Skip comparison if hash mismatched
2377:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			for (nc = fs->dirbuf[XDIR_NumName], di = SZDIRE * 2, ni = 0; nc; nc--, di += 2, ni++) {	/* Compa
2378:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if ((di % SZDIRE) == 0) di += 2;
2379:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (ff_wtoupper(ld_word(fs->dirbuf + di)) != ff_wtoupper(fs->lfnbuf[ni])) break;
2380:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
2381:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (nc == 0 && !fs->lfnbuf[ni]) break;	/* Name matched? */
2382:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2383:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return res;
2384:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2385:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2386:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* On the FAT/FAT32 volume */
2387:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN
2388:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	ord = sum = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2389:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2390:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	do {
2391:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = move_window(fs, dp->sect);
2392:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) break;
2393:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = dp->dir[DIR_Name];
2394:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
2395:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
2396:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;
2397:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
2398:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2399:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {
2400:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
2401:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_NOLFN)) {
2402:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
2403:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						sum = dp->dir[LDIR_Chksum];
2404:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						c &= (BYTE)~LLEF; ord = c;	/* LFN start order */
2405:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
2406:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
2407:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					/* Check validity of the LFN entry and compare it with given name */
2408:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && cmp_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0x
2409:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
2410:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {					/* An SFN entry is found */
2411:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (ord == 0 && sum == sum_sfn(dp->dir)) break;	/* LFN matched? */
2412:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !memcmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
2413:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2414:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
2415:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2416:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else		/* Non LFN configuration */
2417:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.attr = dp->dir[DIR_Attr] & AM_MASK;
2418:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !memcmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry?
2419:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2420:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = dir_next(dp, 0);	/* Next entry */
2421:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (res == FR_OK);
2422:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2423:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 44


2424:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2425:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2426:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2427:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2428:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2429:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
2430:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2431:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Register an object to the directory                                   */
2432:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2433:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2434:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT dir_register (	/* FR_OK:succeeded, FR_DENIED:no free entry or too many SFN collision
2435:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp						/* Target directory with object name to be created */
2436:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
2437:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2438:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
2439:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
2440:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
2441:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT n, len, n_ent;
2442:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE sn[12], sum;
2443:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2444:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2445:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->fn[NSFLAG] & (NS_DOT | NS_NONAME)) return FR_INVALID_NAME;	/* Check name validity */
2446:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (len = 0; fs->lfnbuf[len]; len++) ;	/* Get lfn length */
2447:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2448:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
2449:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2450:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		n_ent = (len + 14) / 15 + 2;	/* Number of entries to allocate (85+C0+C1s) */
2451:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = dir_alloc(dp, n_ent);		/* Allocate directory entries */
2452:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) return res;
2453:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->blk_ofs = dp->dptr - SZDIRE * (n_ent - 1);	/* Set the allocated entry block offset */
2454:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2455:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (dp->obj.stat & 4) {			/* Has the directory been stretched by new allocation? */
2456:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			dp->obj.stat &= ~4;
2457:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = fill_first_frag(&dp->obj);	/* Fill the first fragment on the FAT if needed */
2458:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) return res;
2459:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = fill_last_frag(&dp->obj, dp->clust, 0xFFFFFFFF);	/* Fill the last fragment on the FAT if n
2460:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) return res;
2461:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dp->obj.sclust != 0) {		/* Is it a sub-directory? */
2462:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				DIR dj;
2463:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2464:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = load_obj_xdir(&dj, &dp->obj);	/* Load the object status */
2465:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res != FR_OK) return res;
2466:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->obj.objsize += (DWORD)fs->csize * SS(fs);		/* Increase the directory size by cluster size *
2467:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				st_qword(fs->dirbuf + XDIR_FileSize, dp->obj.objsize);
2468:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				st_qword(fs->dirbuf + XDIR_ValidFileSize, dp->obj.objsize);
2469:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->dirbuf[XDIR_GenFlags] = dp->obj.stat | 1;		/* Update the allocation status */
2470:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = store_xdir(&dj);				/* Store the object status */
2471:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res != FR_OK) return res;
2472:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
2473:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2474:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2475:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		create_xdir(fs->dirbuf, fs->lfnbuf);	/* Create on-memory directory block to be written later */
2476:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return FR_OK;
2477:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2478:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2479:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* On the FAT/FAT32 volume */
2480:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	memcpy(sn, dp->fn, 12);
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 45


2481:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
2482:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
2483:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		for (n = 1; n < 100; n++) {
2484:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
2485:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
2486:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
2487:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2488:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (n == 100) return FR_DENIED;		/* Abort if too many collisions */
2489:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
2490:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->fn[NSFLAG] = sn[NSFLAG];
2491:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2492:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2493:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Create an SFN with/without LFNs. */
2494:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	n_ent = (sn[NSFLAG] & NS_LFN) ? (len + 12) / 13 + 1 : 1;	/* Number of entries to allocate */
2495:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = dir_alloc(dp, n_ent);		/* Allocate entries */
2496:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK && --n_ent) {	/* Set LFN entry if needed */
2497:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = dir_sdi(dp, dp->dptr - n_ent * SZDIRE);
2498:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {
2499:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sum = sum_sfn(dp->fn);	/* Checksum value of the SFN tied to the LFN */
2500:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			do {					/* Store LFN entries in bottom first */
2501:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = move_window(fs, dp->sect);
2502:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res != FR_OK) break;
2503:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				put_lfn(fs->lfnbuf, dp->dir, (BYTE)n_ent, sum);
2504:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->wflag = 1;
2505:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
2506:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} while (res == FR_OK && --n_ent);
2507:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2508:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2509:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2510:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else	/* Non LFN configuration */
2511:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = dir_alloc(dp, 1);		/* Allocate an entry for SFN */
2512:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2513:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2514:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2515:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Set SFN entry */
2516:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
2517:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = move_window(fs, dp->sect);
2518:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {
2519:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			memset(dp->dir, 0, SZDIRE);	/* Clean the entry */
2520:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			memcpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
2521:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN
2522:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			dp->dir[DIR_NTres] = dp->fn[NSFLAG] & (NS_BODY | NS_EXT);	/* Put NT flag */
2523:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2524:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
2525:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2526:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2527:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2528:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
2529:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2530:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2531:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif /* !FF_FS_READONLY */
2532:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2533:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2534:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2535:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY && FF_FS_MINIMIZE == 0
2536:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2537:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Remove an object from the directory                                   */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 46


2538:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2539:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2540:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT dir_remove (	/* FR_OK:Succeeded, FR_DISK_ERR:A disk error */
2541:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp					/* Directory object pointing the entry to be removed */
2542:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
2543:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2544:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
2545:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
2546:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
2547:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD last = dp->dptr;
2548:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2549:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = (dp->blk_ofs == 0xFFFFFFFF) ? FR_OK : dir_sdi(dp, dp->blk_ofs);	/* Goto top of the entry blo
2550:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
2551:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		do {
2552:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = move_window(fs, dp->sect);
2553:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
2554:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (FF_FS_EXFAT && fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2555:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->dir[XDIR_Type] &= 0x7F;	/* Clear the entry InUse flag. */
2556:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {										/* On the FAT/FAT32 volume */
2557:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->dir[DIR_Name] = DDEM;	/* Mark the entry 'deleted'. */
2558:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
2559:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
2560:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dp->dptr >= last) break;	/* If reached last entry then all entries of the object has been de
2561:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
2562:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} while (res == FR_OK);
2563:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
2564:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2565:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else			/* Non LFN configuration */
2566:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2567:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = move_window(fs, dp->sect);
2568:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
2569:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->dir[DIR_Name] = DDEM;	/* Mark the entry 'deleted'.*/
2570:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->wflag = 1;
2571:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2572:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2573:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2574:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
2575:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2576:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2577:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif /* !FF_FS_READONLY && FF_FS_MINIMIZE == 0 */
2578:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2579:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2580:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2581:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_MINIMIZE <= 1 || FF_FS_RPATH >= 2
2582:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2583:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Get file information from directory entry                             */
2584:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2585:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2586:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static void get_fileinfo (
2587:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2588:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FILINFO* fno		/* Pointer to the file information to be filled */
2589:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
2590:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2591:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT si, di;
2592:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN
2593:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE lcf;
2594:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WCHAR wc, hs;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 47


2595:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
2596:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT nw;
2597:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
2598:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	TCHAR c;
2599:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2600:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2601:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2602:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fno->fname[0] = 0;			/* Invaidate file info */
2603:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->sect == 0) return;	/* Exit if read pointer has reached end of directory */
2604:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2605:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
2606:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
2607:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* exFAT volume */
2608:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		UINT nc = 0;
2609:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2610:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		si = SZDIRE * 2; di = 0;	/* 1st C1 entry in the entry block */
2611:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		hs = 0;
2612:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		while (nc < fs->dirbuf[XDIR_NumName]) {
2613:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (si >= MAXDIRB(FF_MAX_LFN)) { di = 0; break; }	/* Truncated directory block? */
2614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
2615:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			wc = ld_word(fs->dirbuf + si); si += 2; nc++;	/* Get a character */
2616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (hs == 0 && IsSurrogate(wc)) {		/* Is it a surrogate? */
2617:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				hs = wc; continue;					/* Get low surrogate */
2618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
2619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			nw = put_utf((DWORD)hs << 16 | wc, &fno->fname[di], FF_LFN_BUF - di);	/* Store it in API encodin
2620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (nw == 0) { di = 0; break; }			/* Buffer overflow or wrong char? */
2621:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			di += nw;
2622:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			hs = 0;
2623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2624:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (hs != 0) di = 0;					/* Broken surrogate pair? */
2625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (di == 0) fno->fname[di++] = '?';	/* Inaccessible object name? */
2626:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di] = 0;						/* Terminate the name */
2627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->altname[0] = 0;					/* exFAT does not support SFN */
2628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fattrib = fs->dirbuf[XDIR_Attr] & AM_MASKX;		/* Attribute */
2630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fsize = (fno->fattrib & AM_DIR) ? 0 : ld_qword(fs->dirbuf + XDIR_FileSize);	/* Size */
2631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->ftime = ld_word(fs->dirbuf + XDIR_ModTime + 0);	/* Time */
2632:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fdate = ld_word(fs->dirbuf + XDIR_ModTime + 2);	/* Date */
2633:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return;
2634:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} else
2635:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2636:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	{	/* FAT/FAT32 volume */
2637:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (dp->blk_ofs != 0xFFFFFFFF) {	/* Get LFN if available */
2638:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			si = di = 0;
2639:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			hs = 0;
2640:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			while (fs->lfnbuf[si] != 0) {
2641:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				wc = fs->lfnbuf[si++];		/* Get an LFN character (UTF-16) */
2642:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (hs == 0 && IsSurrogate(wc)) {	/* Is it a surrogate? */
2643:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					hs = wc; continue;		/* Get low surrogate */
2644:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
2645:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				nw = put_utf((DWORD)hs << 16 | wc, &fno->fname[di], FF_LFN_BUF - di);	/* Store it in API encodi
2646:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (nw == 0) { di = 0; break; }	/* Buffer overflow or wrong char? */
2647:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				di += nw;
2648:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				hs = 0;
2649:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
2650:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (hs != 0) di = 0;	/* Broken surrogate pair? */
2651:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fno->fname[di] = 0;		/* Terminate the LFN (null string means LFN is invalid) */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 48


2652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	si = di = 0;
2656:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	while (si < 11) {		/* Get SFN from SFN entry */
2657:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		wc = dp->dir[si++];			/* Get a char */
2658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wc == ' ') continue;	/* Skip padding spaces */
2659:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wc == RDDEM) wc = DDEM;	/* Restore replaced DDEM character */
2660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9 && di < FF_SFN_BUF) fno->altname[di++] = '.';	/* Insert a . if extension is exist */
2661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_LFN_UNICODE >= 1	/* Unicode output */
2662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (dbc_1st((BYTE)wc) && si != 8 && si != 11 && dbc_2nd(dp->dir[si])) {	/* Make a DBC if needed *
2663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			wc = wc << 8 | dp->dir[si++];
2664:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2665:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		wc = ff_oem2uni(wc, CODEPAGE);		/* ANSI/OEM -> Unicode */
2666:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wc == 0) { di = 0; break; }		/* Wrong char in the current code page? */
2667:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		nw = put_utf(wc, &fno->altname[di], FF_SFN_BUF - di);	/* Store it in API encoding */
2668:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nw == 0) { di = 0; break; }		/* Buffer overflow? */
2669:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		di += nw;
2670:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else					/* ANSI/OEM output */
2671:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->altname[di++] = (TCHAR)wc;	/* Store it without any conversion */
2672:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2673:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2674:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fno->altname[di] = 0;	/* Terminate the SFN  (null string means SFN is invalid) */
2675:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2676:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fno->fname[0] == 0) {	/* If LFN is invalid, altname[] needs to be copied to fname[] */
2677:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (di == 0) {	/* If LFN and SFN both are invalid, this object is inaccesible */
2678:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fno->fname[di++] = '?';
2679:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {
2680:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			for (si = di = 0, lcf = NS_BODY; fno->altname[si]; si++, di++) {	/* Copy altname[] to fname[] wi
2681:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				wc = (WCHAR)fno->altname[si];
2682:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (wc == '.') lcf = NS_EXT;
2683:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (IsUpper(wc) && (dp->dir[DIR_NTres] & lcf)) wc += 0x20;
2684:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fno->fname[di] = (TCHAR)wc;
2685:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
2686:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2687:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di] = 0;	/* Terminate the LFN */
2688:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!dp->dir[DIR_NTres]) fno->altname[0] = 0;	/* Altname is not needed if neither LFN nor case in
2689:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2690:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2691:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else	/* Non-LFN configuration */
2692:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	si = di = 0;
2693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	while (si < 11) {		/* Copy name body and extension */
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (TCHAR)dp->dir[si++];
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
2699:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2700:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fno->fname[di] = 0;		/* Terminate the SFN */
2701:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2702:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2703:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fno->fattrib = dp->dir[DIR_Attr] & AM_MASK;			/* Attribute */
2704:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);		/* Size */
2705:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fno->ftime = ld_word(dp->dir + DIR_ModTime + 0);	/* Time */
2706:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fno->fdate = ld_word(dp->dir + DIR_ModTime + 2);	/* Date */
2707:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2708:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 49


2709:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif /* FF_FS_MINIMIZE <= 1 || FF_FS_RPATH >= 2 */
2710:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2711:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2712:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2713:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_FIND && FF_FS_MINIMIZE <= 1
2714:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2715:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Pattern matching                                                      */
2716:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2717:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2718:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #define FIND_RECURS	4	/* Maximum number of wildcard terms in the pattern to limit recursion */
2719:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2720:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2721:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static DWORD get_achar (	/* Get a character and advance ptr */
2722:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR** ptr		/* Pointer to pointer to the ANSI/OEM or Unicode string */
2723:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
2724:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2725:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD chr;
2726:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2727:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2728:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN && FF_LFN_UNICODE >= 1	/* Unicode input */
2729:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	chr = tchar2uni(ptr);
2730:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (chr == 0xFFFFFFFF) chr = 0;		/* Wrong UTF encoding is recognized as end of the string */
2731:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	chr = ff_wtoupper(chr);
2732:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2733:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else									/* ANSI/OEM input */
2734:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	chr = (BYTE)*(*ptr)++;				/* Get a byte */
2735:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (IsLower(chr)) chr -= 0x20;		/* To upper ASCII char */
2736:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_CODE_PAGE == 0
2737:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (ExCvt && chr >= 0x80) chr = ExCvt[chr - 0x80];	/* To upper SBCS extended char */
2738:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #elif FF_CODE_PAGE < 900
2739:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (chr >= 0x80) chr = ExCvt[chr - 0x80];	/* To upper SBCS extended char */
2740:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2741:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_CODE_PAGE == 0 || FF_CODE_PAGE >= 900
2742:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dbc_1st((BYTE)chr)) {	/* Get DBC 2nd byte if needed */
2743:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		chr = dbc_2nd((BYTE)**ptr) ? chr << 8 | (BYTE)*(*ptr)++ : 0;
2744:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2745:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2746:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2747:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2748:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return chr;
2749:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2750:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2751:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2752:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static int pattern_match (	/* 0:mismatched, 1:matched */
2753:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR* pat,	/* Matching pattern */
2754:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR* nam,	/* String to be tested */
2755:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT skip,			/* Number of pre-skip chars (number of ?s, b8:infinite (* specified)) */
2756:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT recur			/* Recursion count */
2757:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
2758:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2759:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR *pptr, *nptr;
2760:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD pchr, nchr;
2761:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT sk;
2762:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2763:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2764:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	while ((skip & 0xFF) != 0) {		/* Pre-skip name chars */
2765:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!get_achar(&nam)) return 0;	/* Branch mismatched if less name chars */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 50


2766:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		skip--;
2767:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2768:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (*pat == 0 && skip) return 1;	/* Matched? (short circuit) */
2769:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2770:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	do {
2771:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		pptr = pat; nptr = nam;			/* Top of pattern and name to match */
2772:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		for (;;) {
2773:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (*pptr == '?' || *pptr == '*') {	/* Wildcard term? */
2774:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (recur == 0) return 0;	/* Too many wildcard terms? */
2775:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				sk = 0;
2776:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				do {	/* Analyze the wildcard term */
2777:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (*pptr++ == '?') sk++; else sk |= 0x100;
2778:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} while (*pptr == '?' || *pptr == '*');
2779:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (pattern_match(pptr, nptr, sk, recur - 1)) return 1;	/* Test new branch (recursive call) */
2780:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				nchr = *nptr; break;	/* Branch mismatched */
2781:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
2782:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			pchr = get_achar(&pptr);	/* Get a pattern char */
2783:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			nchr = get_achar(&nptr);	/* Get a name char */
2784:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (pchr != nchr) break;	/* Branch mismatched? */
2785:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (pchr == 0) return 1;	/* Branch matched? (matched at end of both strings) */
2786:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2787:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		get_achar(&nam);			/* nam++ */
2788:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (skip && nchr);		/* Retry until end of name if infinite search is specified */
2789:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2790:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return 0;
2791:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2792:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2793:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif /* FF_USE_FIND && FF_FS_MINIMIZE <= 1 */
2794:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2795:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2796:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2797:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2798:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Pick a top segment and create the object name in directory form       */
2799:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
2800:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2801:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT create_name (	/* FR_OK: successful, FR_INVALID_NAME: could not create */
2802:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,					/* Pointer to the directory object */
2803:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR** path			/* Pointer to pointer to the segment in the path string */
2804:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
2805:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
2806:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
2807:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE b, cf;
2808:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WCHAR wc, *lfn;
2809:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD uc;
2810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i, ni, si, di;
2811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR *p;
2812:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Create LFN into LFN working buffer */
2815:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	p = *path; lfn = dp->obj.fs->lfnbuf; di = 0;
2816:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (;;) {
2817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		uc = tchar2uni(&p);			/* Get a character */
2818:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (uc == 0xFFFFFFFF) return FR_INVALID_NAME;		/* Invalid code or UTF decode error */
2819:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (uc >= 0x10000) lfn[di++] = (WCHAR)(uc >> 16);	/* Store high surrogate if needed */
2820:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		wc = (WCHAR)uc;
2821:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wc < ' ' || IsSeparator(wc)) break;	/* Break if end of the path or a separator is found */
2822:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wc < 0x80 && strchr("*:<>|\"\?\x7F", (int)wc)) return FR_INVALID_NAME;	/* Reject illegal char
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 51


2823:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (di >= FF_MAX_LFN) return FR_INVALID_NAME;	/* Reject too long name */
2824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		lfn[di++] = wc;				/* Store the Unicode character */
2825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (wc < ' ') {				/* Stopped at end of the path? */
2827:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cf = NS_LAST;			/* Last segment */
2828:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} else {					/* Stopped at a separator */
2829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		while (IsSeparator(*p)) p++;	/* Skip duplicated separators if exist */
2830:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cf = 0;					/* Next segment may follow */
2831:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (IsTerminator(*p)) cf = NS_LAST;	/* Ignore terminating separator */
2832:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2833:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*path = p;					/* Return pointer to the next segment */
2834:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2835:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH != 0
2836:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if ((di == 1 && lfn[di - 1] == '.') ||
2837:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		(di == 2 && lfn[di - 1] == '.' && lfn[di - 2] == '.')) {	/* Is this segment a dot name? */
2838:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		lfn[di] = 0;
2839:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		for (i = 0; i < 11; i++) {	/* Create dot name for SFN entry */
2840:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			dp->fn[i] = (i < di) ? '.' : ' ';
2841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2842:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->fn[i] = cf | NS_DOT;	/* This is a dot entry */
2843:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return FR_OK;
2844:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2845:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2846:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	while (di) {					/* Snip off trailing spaces and dots if exist */
2847:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		wc = lfn[di - 1];
2848:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wc != ' ' && wc != '.') break;
2849:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		di--;
2850:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2851:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	lfn[di] = 0;							/* LFN is created into the working buffer */
2852:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (di == 0) return FR_INVALID_NAME;	/* Reject null name */
2853:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2854:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Create SFN in directory form */
2855:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (si = 0; lfn[si] == ' '; si++) ;	/* Remove leading spaces */
2856:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (si > 0 || lfn[si] == '.') cf |= NS_LOSS | NS_LFN;	/* Is there any leading space or dot? */
2857:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	while (di > 0 && lfn[di - 1] != '.') di--;	/* Find last dot (di<=si: no extension) */
2858:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2859:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	memset(dp->fn, ' ', 11);
2860:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	i = b = 0; ni = 8;
2861:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (;;) {
2862:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		wc = lfn[si++];					/* Get an LFN character */
2863:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wc == 0) break;				/* Break on end of the LFN */
2864:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wc == ' ' || (wc == '.' && si != di)) {	/* Remove embedded spaces and dots */
2865:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			cf |= NS_LOSS | NS_LFN;
2866:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			continue;
2867:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2868:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2869:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (i >= ni || si == di) {		/* End of field? */
2870:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ni == 11) {				/* Name extension overflow? */
2871:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				cf |= NS_LOSS | NS_LFN;
2872:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				break;
2873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
2874:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (si != di) cf |= NS_LOSS | NS_LFN;	/* Name body overflow? */
2875:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (si > di) break;						/* No name extension? */
2876:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			si = di; i = 8; ni = 11; b <<= 2;		/* Enter name extension */
2877:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			continue;
2878:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2879:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 52


2880:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wc >= 0x80) {	/* Is this an extended character? */
2881:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			cf |= NS_LFN;	/* LFN entry needs to be created */
2882:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_CODE_PAGE == 0
2883:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ExCvt) {	/* In SBCS cfg */
2884:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				wc = ff_uni2oem(wc, CODEPAGE);			/* Unicode ==> ANSI/OEM code */
2885:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (wc & 0x80) wc = ExCvt[wc & 0x7F];	/* Convert extended character to upper (SBCS) */
2886:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {		/* In DBCS cfg */
2887:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				wc = ff_uni2oem(ff_wtoupper(wc), CODEPAGE);	/* Unicode ==> Up-convert ==> ANSI/OEM code */
2888:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
2889:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #elif FF_CODE_PAGE < 900	/* In SBCS cfg */
2890:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			wc = ff_uni2oem(wc, CODEPAGE);			/* Unicode ==> ANSI/OEM code */
2891:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (wc & 0x80) wc = ExCvt[wc & 0x7F];	/* Convert extended character to upper (SBCS) */
2892:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else						/* In DBCS cfg */
2893:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			wc = ff_uni2oem(ff_wtoupper(wc), CODEPAGE);	/* Unicode ==> Up-convert ==> ANSI/OEM code */
2894:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2895:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2896:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2897:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wc >= 0x100) {				/* Is this a DBC? */
2898:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (i >= ni - 1) {			/* Field overflow? */
2899:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				cf |= NS_LOSS | NS_LFN;
2900:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				i = ni; continue;		/* Next field */
2901:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
2902:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			dp->fn[i++] = (BYTE)(wc >> 8);	/* Put 1st byte */
2903:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {						/* SBC */
2904:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (wc == 0 || strchr("+,;=[]", (int)wc)) {	/* Replace illegal characters for SFN */
2905:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				wc = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
2906:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
2907:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (IsUpper(wc)) {		/* ASCII upper case? */
2908:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					b |= 2;
2909:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
2910:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (IsLower(wc)) {		/* ASCII lower case? */
2911:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					b |= 1; wc -= 0x20;
2912:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
2913:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
2914:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2915:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->fn[i++] = (BYTE)wc;
2916:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2917:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2918:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->fn[0] == DDEM) dp->fn[0] = RDDEM;	/* If the first character collides with DDEM, replace it
2919:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2920:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (ni == 8) b <<= 2;				/* Shift capital flags if no extension */
2921:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* LFN entry needs to be created if co
2922:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (!(cf & NS_LFN)) {				/* When LFN is in 8.3 format without extended character, NT flags are cre
2923:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (b & 0x01) cf |= NS_EXT;		/* NT flag (Extension has small capital letters only) */
2924:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (b & 0x04) cf |= NS_BODY;	/* NT flag (Body has small capital letters only) */
2925:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2926:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2927:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->fn[NSFLAG] = cf;	/* SFN is created into dp->fn[] */
2928:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2929:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return FR_OK;
2930:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2931:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2932:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else	/* FF_USE_LFN : Non-LFN configuration */
2933:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE c, d, *sfn;
2934:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT ni, si, i;
2935:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const char *p;
2936:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 53


2937:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Create file name in directory form */
2938:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	p = *path; sfn = dp->fn;
2939:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	memset(sfn, ' ', 11);
2940:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	si = i = 0; ni = 8;
2941:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH != 0
2942:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (p[si] == '.') { /* Is this a dot entry? */
2943:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		for (;;) {
2944:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			c = (BYTE)p[si++];
2945:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (c != '.' || si >= 3) break;
2946:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sfn[i++] = c;
2947:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2948:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!IsSeparator(c) && c > ' ') return FR_INVALID_NAME;
2949:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		*path = p + si;					/* Return pointer to the next segment */
2950:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		sfn[NSFLAG] = (c <= ' ') ? NS_LAST | NS_DOT : NS_DOT;	/* Set last segment flag if end of the path
2951:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return FR_OK;
2952:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2953:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2954:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (;;) {
2955:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (BYTE)p[si++];				/* Get a byte */
2956:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
2957:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (IsSeparator(c)) {			/* Break if a separator is found */
2958:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			while (IsSeparator(p[si])) si++;	/* Skip duplicated separator if exist */
2959:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
2960:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2961:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == '.' || i >= ni) {		/* End of body or field overflow? */
2962:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Field overflow or invalid dot? */
2963:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			i = 8; ni = 11;				/* Enter file extension field */
2964:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			continue;
2965:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2966:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_CODE_PAGE == 0
2967:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (ExCvt && c >= 0x80) {		/* Is SBC extended character? */
2968:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			c = ExCvt[c & 0x7F];		/* To upper SBC extended character */
2969:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2970:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #elif FF_CODE_PAGE < 900
2971:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c >= 0x80) {				/* Is SBC extended character? */
2972:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			c = ExCvt[c & 0x7F];		/* To upper SBC extended character */
2973:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2974:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
2975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (dbc_1st(c)) {				/* Check if it is a DBC 1st byte */
2976:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
2977:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!dbc_2nd(d) || i >= ni - 1) return FR_INVALID_NAME;	/* Reject invalid DBC */
2978:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sfn[i++] = c;
2979:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sfn[i++] = d;
2980:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {						/* SBC */
2981:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (strchr("*+,:;<=>[]|\"\?\x7F", (int)c)) return FR_INVALID_NAME;	/* Reject illegal chrs for SF
2982:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
2983:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sfn[i++] = c;
2984:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
2985:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
2986:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
2987:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (i == 0) return FR_INVALID_NAME;	/* Reject nul string */
2988:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* If the first character collides with DDEM, replace it with 
2990:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sfn[NSFLAG] = (c <= ' ' || p[si] <= ' ') ? NS_LAST : 0;	/* Set last segment flag if end of the pat
2991:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2992:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return FR_OK;
2993:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif /* FF_USE_LFN */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 54


2994:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
2995:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2996:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2997:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2998:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
2999:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3000:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Follow a file path                                                    */
3001:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3002:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3003:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
3004:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,					/* Directory object to return last directory and found object */
3005:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR* path			/* Full-path string to find a file or directory */
3006:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
3007:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
3008:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
3009:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE ns;
3010:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
3011:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3012:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3013:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH != 0
3014:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (!IsSeparator(*path) && (FF_STR_VOLUME_ID != 2 || !IsTerminator(*path))) {	/* Without heading s
3015:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.sclust = fs->cdir;			/* Start at the current directory */
3016:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} else
3017:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3018:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	{										/* With heading separator */
3019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		while (IsSeparator(*path)) path++;	/* Strip separators */
3020:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.sclust = 0;					/* Start from the root directory */
3021:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3022:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
3023:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->obj.n_frag = 0;	/* Invalidate last fragment counter of the object */
3024:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH != 0
3025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_EXFAT && dp->obj.sclust) {	/* exFAT: Retrieve the sub-directory's status */
3026:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		DIR dj;
3027:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3028:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.c_scl = fs->cdc_scl;
3029:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.c_size = fs->cdc_size;
3030:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.c_ofs = fs->cdc_ofs;
3031:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = load_obj_xdir(&dj, &dp->obj);
3032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) return res;
3033:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.objsize = ld_dword(fs->dirbuf + XDIR_FileSize);
3034:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3035:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3036:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3037:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3038:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3039:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if ((UINT)*path < ' ') {				/* Null path name is the origin directory itself */
3040:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
3041:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = dir_sdi(dp, 0);
3042:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3043:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} else {								/* Follow path */
3044:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		for (;;) {
3045:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
3046:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
3047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
3048:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ns = dp->fn[NSFLAG];
3049:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
3050:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 55


3051:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (FF_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
3052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
3053:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dp->fn[NSFLAG] = NS_NONAME;
3054:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = FR_OK;
3055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} else {							/* Could not find the object */
3056:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (!(ns & NS_LAST)) res = FR_NO_PATH;	/* Adjust error code if not last segment */
3057:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
3058:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
3059:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				break;
3060:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3061:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ns & NS_LAST) break;		/* Last segment matched. Function completed. */
3062:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			/* Get into the sub-directory */
3063:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!(dp->obj.attr & AM_DIR)) {	/* It is not a sub-directory and cannot follow */
3064:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_NO_PATH; break;
3065:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3066:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
3067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->fs_type == FS_EXFAT) {	/* Save containing directory information for next dir */
3068:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->obj.c_scl = dp->obj.sclust;
3069:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->obj.c_size = ((DWORD)dp->obj.objsize & 0xFFFFFF00) | dp->obj.stat;
3070:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->obj.c_ofs = dp->blk_ofs;
3071:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				init_alloc_info(fs, &dp->obj);	/* Open next directory */
3072:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else
3073:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3074:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			{
3075:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->obj.sclust = ld_clust(fs, fs->win + dp->dptr % SS(fs));	/* Open next directory */
3076:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3077:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3078:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3079:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3080:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
3081:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
3082:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3083:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3084:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3085:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3086:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3087:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Get logical drive number from path name                               */
3088:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3089:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3090:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static int get_ldnumber (	/* Returns logical drive number (-1:invalid drive number or null pointer)
3091:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR** path		/* Pointer to pointer to the path name */
3092:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
3093:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
  30              		.loc 1 3093 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
3094:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR *tp, *tt;
  35              		.loc 1 3094 2 view .LVU1
3095:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	TCHAR tc;
  36              		.loc 1 3095 2 view .LVU2
3096:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	int i;
  37              		.loc 1 3096 2 view .LVU3
3097:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	int vol = -1;
  38              		.loc 1 3097 2 view .LVU4
3098:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_STR_VOLUME_ID		/* Find string volume ID */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 56


3099:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const char *sp;
3100:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	char c;
3101:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3102:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3103:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	tt = tp = *path;
  39              		.loc 1 3103 2 view .LVU5
  40              		.loc 1 3103 10 is_stmt 0 view .LVU6
  41 0000 0168     		ldr	r1, [r0]
  42              	.LVL1:
3104:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (!tp) return vol;	/* Invalid path name? */
  43              		.loc 1 3104 2 is_stmt 1 view .LVU7
  44              		.loc 1 3104 5 is_stmt 0 view .LVU8
  45 0002 61B1     		cbz	r1, .L11
  46 0004 0A46     		mov	r2, r1
  47 0006 01E0     		b	.L3
  48              	.LVL2:
  49              	.L14:
3105:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	do tc = *tt++; while (!IsTerminator(tc) && tc != ':');	/* Find a colon in the path */
  50              		.loc 1 3105 42 discriminator 1 view .LVU9
  51 0008 3A2B     		cmp	r3, #58
  52 000a 05D0     		beq	.L13
  53              	.LVL3:
  54              	.L3:
  55              		.loc 1 3105 2 is_stmt 1 discriminator 2 view .LVU10
  56              		.loc 1 3105 5 discriminator 2 view .LVU11
  57              		.loc 1 3105 8 is_stmt 0 discriminator 2 view .LVU12
  58 000c 12F8013B 		ldrb	r3, [r2], #1	@ zero_extendqisi2
  59              	.LVL4:
  60              		.loc 1 3105 23 is_stmt 1 discriminator 2 view .LVU13
  61              		.loc 1 3105 2 is_stmt 0 discriminator 2 view .LVU14
  62 0010 202B     		cmp	r3, #32
  63 0012 F9D8     		bhi	.L14
3106:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3107:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (tc == ':') {	/* DOS/Windows style volume ID? */
3108:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		i = FF_VOLUMES;
3109:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (IsDigit(*tp) && tp + 2 == tt) {	/* Is there a numeric volume ID + colon? */
3110:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			i = (int)*tp - '0';	/* Get the LD number */
3111:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3112:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_STR_VOLUME_ID == 1	/* Arbitrary string is enabled */
3113:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		else {
3114:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			i = 0;
3115:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			do {
3116:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				sp = VolumeStr[i]; tp = *path;	/* This string volume ID and path name */
3117:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				do {	/* Compare the volume ID with path name */
3118:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					c = *sp++; tc = *tp++;
3119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (IsLower(c)) c -= 0x20;
3120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (IsLower(tc)) tc -= 0x20;
3121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} while (c && (TCHAR)c == tc);
3122:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} while ((c || tp != tt) && ++i < FF_VOLUMES);	/* Repeat for each id until pattern match */
3123:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3124:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3125:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (i < FF_VOLUMES) {	/* If a volume ID is found, get the drive number and strip it */
3126:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			vol = i;		/* Drive number */
3127:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*path = tt;		/* Snip the drive prefix off */
3128:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3129:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return vol;
3130:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 57


3131:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_STR_VOLUME_ID == 2		/* Unix style volume ID is enabled */
3132:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (*tp == '/') {			/* Is there a volume ID? */
3133:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		while (*(tp + 1) == '/') tp++;	/* Skip duplicated separator */
3134:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		i = 0;
3135:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		do {
3136:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			tt = tp; sp = VolumeStr[i]; /* Path name and this string volume ID */
3137:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			do {	/* Compare the volume ID with path name */
3138:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				c = *sp++; tc = *(++tt);
3139:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (IsLower(c)) c -= 0x20;
3140:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (IsLower(tc)) tc -= 0x20;
3141:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} while (c && (TCHAR)c == tc);
3142:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} while ((c || (tc != '/' && !IsTerminator(tc))) && ++i < FF_VOLUMES);	/* Repeat for each ID unti
3143:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (i < FF_VOLUMES) {	/* If a volume ID is found, get the drive number and strip it */
3144:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			vol = i;		/* Drive number */
3145:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*path = tt;		/* Snip the drive prefix off */
3146:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3147:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return vol;
3148:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3149:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3150:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* No drive prefix is found */
3151:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH != 0
3152:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	vol = CurrVol;	/* Default drive is current drive */
3153:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
3154:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	vol = 0;		/* Default drive is 0 */
3155:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3156:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return vol;		/* Return the default drive */
  64              		.loc 1 3156 9 view .LVU15
  65 0014 0020     		movs	r0, #0
  66              	.LVL5:
  67              		.loc 1 3156 9 view .LVU16
  68 0016 7047     		bx	lr
  69              	.LVL6:
  70              	.L13:
3107:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		i = FF_VOLUMES;
  71              		.loc 1 3107 2 is_stmt 1 view .LVU17
3108:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (IsDigit(*tp) && tp + 2 == tt) {	/* Is there a numeric volume ID + colon? */
  72              		.loc 1 3108 3 view .LVU18
3109:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			i = (int)*tp - '0';	/* Get the LD number */
  73              		.loc 1 3109 3 view .LVU19
3109:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			i = (int)*tp - '0';	/* Get the LD number */
  74              		.loc 1 3109 26 is_stmt 0 view .LVU20
  75 0018 8B1C     		adds	r3, r1, #2
  76              	.LVL7:
3109:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			i = (int)*tp - '0';	/* Get the LD number */
  77              		.loc 1 3109 20 view .LVU21
  78 001a 9A42     		cmp	r2, r3
  79 001c 02D0     		beq	.L5
  80              	.LVL8:
  81              	.L11:
3104:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	do tc = *tt++; while (!IsTerminator(tc) && tc != ':');	/* Find a colon in the path */
  82              		.loc 1 3104 18 view .LVU22
  83 001e 4FF0FF30 		mov	r0, #-1
  84              	.LVL9:
3157:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
  85              		.loc 1 3157 1 view .LVU23
  86 0022 7047     		bx	lr
  87              	.LVL10:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 58


  88              	.L5:
3110:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
  89              		.loc 1 3110 4 is_stmt 1 view .LVU24
3125:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			vol = i;		/* Drive number */
  90              		.loc 1 3125 3 view .LVU25
3125:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			vol = i;		/* Drive number */
  91              		.loc 1 3125 6 is_stmt 0 view .LVU26
  92 0024 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
  93              	.LVL11:
3125:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			vol = i;		/* Drive number */
  94              		.loc 1 3125 6 view .LVU27
  95 0026 3029     		cmp	r1, #48
  96 0028 F9D1     		bne	.L11
3126:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*path = tt;		/* Snip the drive prefix off */
  97              		.loc 1 3126 4 is_stmt 1 view .LVU28
  98              	.LVL12:
3127:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
  99              		.loc 1 3127 4 view .LVU29
3127:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 100              		.loc 1 3127 10 is_stmt 0 view .LVU30
 101 002a 0260     		str	r2, [r0]
 102              	.LVL13:
3110:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 103              		.loc 1 3110 6 view .LVU31
 104 002c 0020     		movs	r0, #0
 105              	.LVL14:
3110:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 106              		.loc 1 3110 6 view .LVU32
 107 002e 7047     		bx	lr
 108              		.cfi_endproc
 109              	.LFE27:
 111              		.section	.text.validate,"ax",%progbits
 112              		.align	1
 113              		.p2align 2,,3
 114              		.syntax unified
 115              		.thumb
 116              		.thumb_func
 117              		.fpu fpv4-sp-d16
 119              	validate:
 120              	.LVL15:
 121              	.LFB31:
3158:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3159:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3160:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3161:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3162:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3163:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* GPT support functions                                                 */
3164:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3165:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3166:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_LBA64
3167:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3168:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Calculate CRC32 in byte-by-byte */
3169:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3170:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static DWORD crc32 (	/* Returns next CRC value */
3171:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD crc,			/* Current CRC value */
3172:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE d				/* A byte to be processed */
3173:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 59


3174:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
3175:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE b;
3176:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3177:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3178:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (b = 1; b; b <<= 1) {
3179:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		crc ^= (d & b) ? 1 : 0;
3180:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		crc = (crc & 1) ? crc >> 1 ^ 0xEDB88320 : crc >> 1;
3181:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3182:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return crc;
3183:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
3184:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3185:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3186:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Check validity of GPT header */
3187:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3188:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static int test_gpt_header (	/* 0:Invalid, 1:Valid */
3189:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const BYTE* gpth			/* Pointer to the GPT header */
3190:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
3191:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
3192:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i;
3193:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD bcc;
3194:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3195:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3196:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (memcmp(gpth + GPTH_Sign, "EFI PART" "\0\0\1\0" "\x5C\0\0", 16)) return 0;	/* Check sign, versi
3197:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (i = 0, bcc = 0xFFFFFFFF; i < 92; i++) {		/* Check header BCC */
3198:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		bcc = crc32(bcc, i - GPTH_Bcc < 4 ? 0 : gpth[i]);
3199:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3200:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (~bcc != ld_dword(gpth + GPTH_Bcc)) return 0;
3201:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (ld_dword(gpth + GPTH_PteSize) != SZ_GPTE) return 0;	/* Table entry size (must be SZ_GPTE bytes
3202:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (ld_dword(gpth + GPTH_PtNum) > 128) return 0;	/* Table size (must be 128 entries or less) */
3203:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3204:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return 1;
3205:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
3206:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3207:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY && FF_USE_MKFS
3208:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3209:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Generate random value */
3210:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static DWORD make_rand (
3211:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD seed,		/* Seed value */
3212:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE* buff,		/* Output buffer */
3213:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT n			/* Data length */
3214:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
3215:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
3216:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT r;
3217:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3218:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3219:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (seed == 0) seed = 1;
3220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	do {
3221:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		for (r = 0; r < 8; r++) seed = seed & 1 ? seed >> 1 ^ 0xA3000000 : seed >> 1;	/* Shift 8 bits the
3222:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		*buff++ = (BYTE)seed;
3223:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (--n);
3224:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return seed;
3225:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
3226:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3227:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3228:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3229:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3230:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 60


3231:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3232:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3233:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Load a sector and check if it is an FAT VBR                           */
3234:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3235:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3236:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Check what the sector is */
3237:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3238:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static UINT check_fs (	/* 0:FAT/FAT32 VBR, 1:exFAT VBR, 2:Not FAT and valid BS, 3:Not FAT and inval
3239:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,			/* Filesystem object */
3240:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t sect			/* Sector to load and check if it is an FAT-VBR or not */
3241:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
3242:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
3243:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WORD w, sign;
3244:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE b;
3245:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3246:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3247:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fs->wflag = 0; fs->winsect = (LBA_t)0 - 1;		/* Invaidate window */
3248:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load the boot sector */
3249:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sign = ld_word(fs->win + BS_55AA);
3250:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
3251:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (sign == 0xAA55 && !memcmp(fs->win + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11)) return 1;	/* I
3252:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3253:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	b = fs->win[BS_JmpBoot];
3254:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (b == 0xEB || b == 0xE9 || b == 0xE8) {	/* Valid JumpBoot code? (short jump, near jump or near 
3255:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (sign == 0xAA55 && !memcmp(fs->win + BS_FilSysType32, "FAT32   ", 8)) {
3256:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			return 0;	/* It is an FAT32 VBR */
3257:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3258:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		/* FAT volumes formatted with early MS-DOS lack BS_55AA and BS_FilSysType, so FAT VBR needs to be
3259:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		w = ld_word(fs->win + BPB_BytsPerSec);
3260:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		b = fs->win[BPB_SecPerClus];
3261:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if ((w & (w - 1)) == 0 && w >= FF_MIN_SS && w <= FF_MAX_SS	/* Properness of sector size (512-4096
3262:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& b != 0 && (b & (b - 1)) == 0				/* Properness of cluster size (2^n) */
3263:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_RsvdSecCnt) != 0	/* Properness of reserved sectors (MNBZ) */
3264:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& (UINT)fs->win[BPB_NumFATs] - 1 <= 1		/* Properness of FATs (1 or 2) */
3265:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_RootEntCnt) != 0	/* Properness of root dir entries (MNBZ) */
3266:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& (ld_word(fs->win + BPB_TotSec16) >= 128 || ld_dword(fs->win + BPB_TotSec32) >= 0x10000)	/* Pr
3267:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_FATSz16) != 0) {	/* Properness of FAT size (MNBZ) */
3268:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				return 0;	/* It can be presumed an FAT VBR */
3269:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3270:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3271:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return sign == 0xAA55 ? 2 : 3;	/* Not an FAT VBR (valid or invalid BS) */
3272:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
3273:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3274:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3275:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Find an FAT volume */
3276:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* (It supports only generic partitioning rules, MBR, GPT and SFD) */
3277:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3278:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static UINT find_volume (	/* Returns BS status found in the hosting drive */
3279:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
3280:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT part		/* Partition to fined = 0:auto, 1..:forced */
3281:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
3282:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
3283:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT fmt, i;
3284:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD mbr_pt[4];
3285:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3286:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3287:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fmt = check_fs(fs, 0);				/* Load sector 0 and check if it is an FAT VBR as SFD format */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 61


3288:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fmt != 2 && (fmt >= 3 || part == 0)) return fmt;	/* Returns if it is an FAT VBR as auto scan, 
3289:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3290:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Sector 0 is not an FAT VBR or forced partition number wants a partition */
3291:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3292:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_LBA64
3293:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->win[MBR_Table + PTE_System] == 0xEE) {	/* GPT protective MBR? */
3294:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		DWORD n_ent, v_ent, ofs;
3295:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		QWORD pt_lba;
3296:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3297:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (move_window(fs, 1) != FR_OK) return 4;	/* Load GPT header sector (next to MBR) */
3298:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!test_gpt_header(fs->win)) return 3;	/* Check if GPT header is valid */
3299:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		n_ent = ld_dword(fs->win + GPTH_PtNum);		/* Number of entries */
3300:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		pt_lba = ld_qword(fs->win + GPTH_PtOfs);	/* Table location */
3301:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		for (v_ent = i = 0; i < n_ent; i++) {		/* Find FAT partition */
3302:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (move_window(fs, pt_lba + i * SZ_GPTE / SS(fs)) != FR_OK) return 4;	/* PT sector */
3303:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ofs = i * SZ_GPTE % SS(fs);												/* Offset in the sector */
3304:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!memcmp(fs->win + ofs + GPTE_PtGuid, GUID_MS_Basic, 16)) {	/* MS basic data partition? */
3305:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				v_ent++;
3306:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fmt = check_fs(fs, ld_qword(fs->win + ofs + GPTE_FstLba));	/* Load VBR and check status */
3307:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (part == 0 && fmt <= 1) return fmt;			/* Auto search (valid FAT volume found first) */
3308:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (part != 0 && v_ent == part) return fmt;		/* Forced partition order (regardless of it is val
3309:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3310:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3311:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return 3;	/* Not found */
3312:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3313:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3314:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (FF_MULTI_PARTITION && part > 4) return 3;	/* MBR has 4 partitions max */
3315:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (i = 0; i < 4; i++) {		/* Load partition offset in the MBR */
3316:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		mbr_pt[i] = ld_dword(fs->win + MBR_Table + i * SZ_PTE + PTE_StLba);
3317:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3318:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	i = part ? part - 1 : 0;		/* Table index to find first */
3319:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	do {							/* Find an FAT volume */
3320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fmt = mbr_pt[i] ? check_fs(fs, mbr_pt[i]) : 3;	/* Check if the partition is FAT */
3321:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (part == 0 && fmt >= 2 && ++i < 4);
3322:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fmt;
3323:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
3324:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3325:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3326:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3327:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3328:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3329:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Determine logical drive number and mount the volume if needed         */
3330:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3331:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3332:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT mount_volume (	/* FR_OK(0): successful, !=0: an error occurred */
3333:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR** path,			/* Pointer to pointer to the path name (drive number) */
3334:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS** rfs,				/* Pointer to pointer to the found filesystem object */
3335:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE mode					/* !=0: Check write protection for write access */
3336:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
3337:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
3338:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	int vol;
3339:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DSTATUS stat;
3340:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t bsect;
3341:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD tsect, sysect, fasize, nclst, szbfat;
3342:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WORD nrsv;
3343:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
3344:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT fmt;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 62


3345:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3346:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3347:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Get logical drive number */
3348:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*rfs = 0;
3349:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	vol = get_ldnumber(path);
3350:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3351:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3352:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Check if the filesystem object is valid or not */
3353:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fs = FatFs[vol];					/* Get pointer to the filesystem object */
3354:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the filesystem object available? */
3355:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_REENTRANT
3356:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (!lock_fs(fs)) return FR_TIMEOUT;	/* Lock the volume */
3357:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3358:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*rfs = fs;							/* Return pointer to the filesystem object */
3359:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3360:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	mode &= (BYTE)~FA_READ;				/* Desired access mode, write access or not */
3361:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type != 0) {				/* If the volume has been mounted */
3362:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		stat = disk_status(fs->pdrv);
3363:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
3364:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!FF_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
3365:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				return FR_WRITE_PROTECTED;
3366:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3367:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			return FR_OK;				/* The filesystem object is already valid */
3368:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3369:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3370:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3371:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* The filesystem object is not valid. */
3372:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Following code attempts to mount the volume. (find an FAT volume, analyze the BPB and initializ
3373:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3374:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fs->fs_type = 0;					/* Clear the filesystem object */
3375:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fs->pdrv = LD2PD(vol);				/* Volume hosting physical drive */
3376:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	stat = disk_initialize(fs->pdrv);	/* Initialize the physical drive */
3377:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
3378:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
3379:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3380:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (!FF_FS_READONLY && mode && (stat & STA_PROTECT)) { /* Check disk write protection if needed */
3381:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return FR_WRITE_PROTECTED;
3382:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3383:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_MAX_SS != FF_MIN_SS				/* Get sector size (multiple sector size cfg only) */
3384:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (disk_ioctl(fs->pdrv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK) return FR_DISK_ERR;
3385:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (SS(fs) > FF_MAX_SS || SS(fs) < FF_MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
3386:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3387:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3388:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Find an FAT volume on the drive */
3389:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fmt = find_volume(fs, LD2PT(vol));
3390:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fmt == 4) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
3391:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
3392:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	bsect = fs->winsect;					/* Volume offset */
3393:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3394:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* An FAT volume is found (bsect). Following code initializes the filesystem object */
3395:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3396:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
3397:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fmt == 1) {
3398:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		QWORD maxlba;
3399:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		DWORD so, cv, bcl, i;
3400:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3401:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		for (i = BPB_ZeroedEx; i < BPB_ZeroedEx + 53 && fs->win[i] == 0; i++) ;	/* Check zero filler */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 63


3402:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (i < BPB_ZeroedEx + 53) return FR_NO_FILESYSTEM;
3403:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3404:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (ld_word(fs->win + BPB_FSVerEx) != 0x100) return FR_NO_FILESYSTEM;	/* Check exFAT version (mus
3405:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3406:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (1 << fs->win[BPB_BytsPerSecEx] != SS(fs)) {	/* (BPB_BytsPerSecEx must be equal to the physica
3407:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			return FR_NO_FILESYSTEM;
3408:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3409:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3410:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		maxlba = ld_qword(fs->win + BPB_TotSecEx) + bsect;	/* Last LBA of the volume + 1 */
3411:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!FF_LBA64 && maxlba >= 0x100000000) return FR_NO_FILESYSTEM;	/* (It cannot be accessed in 32-
3412:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3413:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsize = ld_dword(fs->win + BPB_FatSzEx);	/* Number of sectors per FAT */
3414:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3415:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATsEx];			/* Number of FATs */
3416:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->n_fats != 1) return FR_NO_FILESYSTEM;	/* (Supports only 1 FAT) */
3417:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3418:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->csize = 1 << fs->win[BPB_SecPerClusEx];		/* Cluster size */
3419:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->csize == 0)	return FR_NO_FILESYSTEM;	/* (Must be 1..32768 sectors) */
3420:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3421:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		nclst = ld_dword(fs->win + BPB_NumClusEx);		/* Number of clusters */
3422:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nclst > MAX_EXFAT) return FR_NO_FILESYSTEM;	/* (Too many clusters) */
3423:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->n_fatent = nclst + 2;
3424:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3425:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		/* Boundaries and Limits */
3426:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->volbase = bsect;
3427:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->database = bsect + ld_dword(fs->win + BPB_DataOfsEx);
3428:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fatbase = bsect + ld_dword(fs->win + BPB_FatOfsEx);
3429:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (maxlba < (QWORD)fs->database + nclst * fs->csize) return FR_NO_FILESYSTEM;	/* (Volume size mu
3430:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->dirbase = ld_dword(fs->win + BPB_RootClusEx);
3431:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3432:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		/* Get bitmap location and check if it is contiguous (implementation assumption) */
3433:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		so = i = 0;
3434:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		for (;;) {	/* Find the bitmap entry in the root directory (in only first cluster) */
3435:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (i == 0) {
3436:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (so >= fs->csize) return FR_NO_FILESYSTEM;	/* Not found? */
3437:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (move_window(fs, clst2sect(fs, (DWORD)fs->dirbase) + so) != FR_OK) return FR_DISK_ERR;
3438:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				so++;
3439:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3440:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->win[i] == ET_BITMAP) break;			/* Is it a bitmap entry? */
3441:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			i = (i + SZDIRE) % SS(fs);	/* Next entry */
3442:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3443:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		bcl = ld_dword(fs->win + i + 20);				/* Bitmap cluster */
3444:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (bcl < 2 || bcl >= fs->n_fatent) return FR_NO_FILESYSTEM;	/* (Wrong cluster#) */
3445:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->bitbase = fs->database + fs->csize * (bcl - 2);	/* Bitmap sector */
3446:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		for (;;) {	/* Check if bitmap is contiguous */
3447:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (move_window(fs, fs->fatbase + bcl / (SS(fs) / 4)) != FR_OK) return FR_DISK_ERR;
3448:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			cv = ld_dword(fs->win + bcl % (SS(fs) / 4) * 4);
3449:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (cv == 0xFFFFFFFF) break;				/* Last link? */
3450:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (cv != ++bcl) return FR_NO_FILESYSTEM;	/* Fragmented? */
3451:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3452:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3453:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
3454:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
3455:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3456:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fmt = FS_EXFAT;			/* FAT sub-type */
3457:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} else
3458:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* FF_FS_EXFAT */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 64


3459:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	{
3460:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (ld_word(fs->win + BPB_BytsPerSec) != SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_BytsPerSec must
3461:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3462:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fasize = ld_word(fs->win + BPB_FATSz16);		/* Number of sectors per FAT */
3463:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
3464:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsize = fasize;
3465:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3466:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATs];				/* Number of FATs */
3467:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
3468:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
3469:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3470:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->csize = fs->win[BPB_SecPerClus];			/* Cluster size */
3471:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
3472:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3473:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->n_rootdir = ld_word(fs->win + BPB_RootEntCnt);	/* Number of root directory entries */
3474:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
3475:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3476:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		tsect = ld_word(fs->win + BPB_TotSec16);		/* Number of sectors on the volume */
3477:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
3478:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3479:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		nrsv = ld_word(fs->win + BPB_RsvdSecCnt);		/* Number of reserved sectors */
3480:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
3481:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3482:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		/* Determine the FAT sub type */
3483:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		sysect = nrsv + fasize + fs->n_rootdir / (SS(fs) / SZDIRE);	/* RSV + FAT + DIR */
3484:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
3485:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
3486:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
3487:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fmt = 0;
3488:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nclst <= MAX_FAT32) fmt = FS_FAT32;
3489:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
3490:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
3491:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fmt == 0) return FR_NO_FILESYSTEM;
3492:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3493:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		/* Boundaries and Limits */
3494:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->n_fatent = nclst + 2;						/* Number of FAT entries */
3495:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
3496:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
3497:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
3498:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fmt == FS_FAT32) {
3499:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
3500:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->n_rootdir != 0) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
3501:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
3502:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
3503:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {
3504:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->n_rootdir == 0)	return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must not be 0) */
3505:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
3506:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
3507:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
3508:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3509:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->fsize < (szbfat + (SS(fs) - 1)) / SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_FATSz must not
3510:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3511:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
3512:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		/* Get FSInfo if available */
3513:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
3514:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsi_flag = 0x80;
3515:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if (FF_FS_NOFSINFO & 3) != 3
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 65


3516:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fmt == FS_FAT32				/* Allow to update FSInfo only if BPB_FSInfo32 == 1 */
3517:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
3518:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
3519:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		{
3520:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->fsi_flag = 0;
3521:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSInfo data if available */
3522:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
3523:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
3524:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			{
3525:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if (FF_FS_NOFSINFO & 1) == 0
3526:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->free_clst = ld_dword(fs->win + FSI_Free_Count);
3527:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3528:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if (FF_FS_NOFSINFO & 2) == 0
3529:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->last_clst = ld_dword(fs->win + FSI_Nxt_Free);
3530:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3531:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3532:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3533:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* (FF_FS_NOFSINFO & 3) != 3 */
3534:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* !FF_FS_READONLY */
3535:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3536:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3537:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fs->fs_type = (BYTE)fmt;/* FAT sub-type */
3538:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fs->id = ++Fsid;		/* Volume mount ID */
3539:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN == 1
3540:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fs->lfnbuf = LfnBuf;	/* Static LFN working buffer */
3541:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
3542:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fs->dirbuf = DirBuf;	/* Static directory block scratchpad buuffer */
3543:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3544:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3545:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH != 0
3546:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fs->cdir = 0;			/* Initialize current directory */
3547:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3548:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0			/* Clear file lock semaphores */
3549:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	clear_lock(fs);
3550:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3551:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return FR_OK;
3552:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
3553:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3554:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3555:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3556:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3557:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3558:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Check if the file/directory object is valid or not                    */
3559:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3560:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3561:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** static FRESULT validate (	/* Returns FR_OK or FR_INVALID_OBJECT */
3562:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FFOBJID* obj,			/* Pointer to the FFOBJID, the 1st member in the FIL/DIR object, to check validity
3563:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS** rfs				/* Pointer to pointer to the owner filesystem object to return */
3564:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
3565:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 122              		.loc 1 3565 1 is_stmt 1 view -0
 123              		.cfi_startproc
 124              		@ args = 0, pretend = 0, frame = 0
 125              		@ frame_needed = 0, uses_anonymous_args = 0
3566:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 126              		.loc 1 3566 2 view .LVU34
3567:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 66


3568:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3569:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (obj && obj->fs && obj->fs->fs_type && obj->id == obj->fs->id) {	/* Test if the object is valid
 127              		.loc 1 3569 2 view .LVU35
3565:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 128              		.loc 1 3565 1 is_stmt 0 view .LVU36
 129 0000 38B5     		push	{r3, r4, r5, lr}
 130              		.cfi_def_cfa_offset 16
 131              		.cfi_offset 3, -16
 132              		.cfi_offset 4, -12
 133              		.cfi_offset 5, -8
 134              		.cfi_offset 14, -4
3565:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 135              		.loc 1 3565 1 view .LVU37
 136 0002 0D46     		mov	r5, r1
 137              		.loc 1 3569 5 view .LVU38
 138 0004 40B1     		cbz	r0, .L18
 139              		.loc 1 3569 16 discriminator 1 view .LVU39
 140 0006 0368     		ldr	r3, [r0]
 141 0008 0446     		mov	r4, r0
 142              		.loc 1 3569 10 discriminator 1 view .LVU40
 143 000a 2BB1     		cbz	r3, .L18
 144              		.loc 1 3569 21 discriminator 2 view .LVU41
 145 000c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 146 000e 1AB1     		cbz	r2, .L18
 147              		.loc 1 3569 41 discriminator 3 view .LVU42
 148 0010 8088     		ldrh	r0, [r0, #4]
 149              	.LVL16:
 150              		.loc 1 3569 41 discriminator 3 view .LVU43
 151 0012 D988     		ldrh	r1, [r3, #6]
 152              	.LVL17:
 153              		.loc 1 3569 41 discriminator 3 view .LVU44
 154 0014 8842     		cmp	r0, r1
 155 0016 03D0     		beq	.L26
 156              	.LVL18:
 157              	.L18:
3566:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 158              		.loc 1 3566 10 view .LVU45
 159 0018 0920     		movs	r0, #9
3570:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_REENTRANT
3571:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (lock_fs(obj->fs)) {	/* Obtain the filesystem object */
3572:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!(disk_status(obj->fs->pdrv) & STA_NOINIT)) { /* Test if the phsical drive is kept initializ
3573:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_OK;
3574:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
3575:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				unlock_fs(obj->fs, FR_OK);
3576:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3577:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {
3578:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_TIMEOUT;
3579:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3580:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
3581:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!(disk_status(obj->fs->pdrv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialize
3582:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_OK;
3583:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3584:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3585:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3586:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*rfs = (res == FR_OK) ? obj->fs : 0;	/* Corresponding filesystem object */
 160              		.loc 1 3586 34 view .LVU46
 161 001a 0024     		movs	r4, #0
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 67


 162              	.LVL19:
 163              	.L17:
 164              		.loc 1 3586 7 discriminator 4 view .LVU47
 165 001c 2C60     		str	r4, [r5]
3587:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
 166              		.loc 1 3587 2 is_stmt 1 discriminator 4 view .LVU48
3588:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 167              		.loc 1 3588 1 is_stmt 0 discriminator 4 view .LVU49
 168 001e 38BD     		pop	{r3, r4, r5, pc}
 169              	.LVL20:
 170              	.L26:
3581:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_OK;
 171              		.loc 1 3581 3 is_stmt 1 view .LVU50
3581:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_OK;
 172              		.loc 1 3581 9 is_stmt 0 view .LVU51
 173 0020 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 174 0022 FFF7FEFF 		bl	disk_status
 175              	.LVL21:
3581:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_OK;
 176              		.loc 1 3581 6 view .LVU52
 177 0026 10F00100 		ands	r0, r0, #1
 178 002a F5D1     		bne	.L18
3582:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 179              		.loc 1 3582 4 is_stmt 1 view .LVU53
 180              	.LVL22:
3586:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
 181              		.loc 1 3586 2 view .LVU54
3586:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
 182              		.loc 1 3586 34 is_stmt 0 view .LVU55
 183 002c 2468     		ldr	r4, [r4]
 184              	.LVL23:
3586:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
 185              		.loc 1 3586 34 view .LVU56
 186 002e F5E7     		b	.L17
 187              		.cfi_endproc
 188              	.LFE31:
 190              		.section	.text.get_fileinfo.isra.0.part.0,"ax",%progbits
 191              		.align	1
 192              		.p2align 2,,3
 193              		.syntax unified
 194              		.thumb
 195              		.thumb_func
 196              		.fpu fpv4-sp-d16
 198              	get_fileinfo.isra.0.part.0:
 199              	.LVL24:
 200              	.LFB51:
2586:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
 201              		.loc 1 2586 13 is_stmt 1 view -0
 202              		.cfi_startproc
 203              		@ args = 0, pretend = 0, frame = 0
 204              		@ frame_needed = 0, uses_anonymous_args = 0
 205              		@ link register save eliminated.
2693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (TCHAR)dp->dir[si++];
 206              		.loc 1 2693 8 view .LVU58
2586:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
 207              		.loc 1 2586 13 is_stmt 0 view .LVU59
 208 0000 70B4     		push	{r4, r5, r6}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 68


 209              		.cfi_def_cfa_offset 12
 210              		.cfi_offset 4, -12
 211              		.cfi_offset 5, -8
 212              		.cfi_offset 6, -4
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 213              		.loc 1 2694 16 view .LVU60
 214 0002 0268     		ldr	r2, [r0]
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 215              		.loc 1 2694 3 is_stmt 1 view .LVU61
 216              	.LVL25:
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 217              		.loc 1 2694 5 is_stmt 0 view .LVU62
 218 0004 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 219              	.LVL26:
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 220              		.loc 1 2695 3 is_stmt 1 view .LVU63
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 221              		.loc 1 2695 6 is_stmt 0 view .LVU64
 222 0006 202B     		cmp	r3, #32
 223 0008 7FD0     		beq	.L50
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 224              		.loc 1 2696 3 is_stmt 1 view .LVU65
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 225              		.loc 1 2696 21 is_stmt 0 view .LVU66
 226 000a 052B     		cmp	r3, #5
 227 000c 08BF     		it	eq
 228 000e E523     		moveq	r3, #229
 229              	.LVL27:
2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
 230              		.loc 1 2697 3 is_stmt 1 view .LVU67
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 231              		.loc 1 2698 3 view .LVU68
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 232              		.loc 1 2698 20 is_stmt 0 view .LVU69
 233 0010 4B72     		strb	r3, [r1, #9]
 234              	.LVL28:
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 235              		.loc 1 2698 16 view .LVU70
 236 0012 0123     		movs	r3, #1
 237              	.LVL29:
 238              	.L28:
2693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (TCHAR)dp->dir[si++];
 239              		.loc 1 2693 8 is_stmt 1 view .LVU71
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 240              		.loc 1 2694 3 view .LVU72
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 241              		.loc 1 2694 5 is_stmt 0 view .LVU73
 242 0014 5078     		ldrb	r0, [r2, #1]	@ zero_extendqisi2
 243              	.LVL30:
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 244              		.loc 1 2695 3 is_stmt 1 view .LVU74
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 245              		.loc 1 2695 6 is_stmt 0 view .LVU75
 246 0016 2028     		cmp	r0, #32
 247 0018 05D0     		beq	.L30
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 248              		.loc 1 2696 3 is_stmt 1 view .LVU76
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 69


2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 249              		.loc 1 2698 20 is_stmt 0 view .LVU77
 250 001a CC18     		adds	r4, r1, r3
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 251              		.loc 1 2696 21 view .LVU78
 252 001c 0528     		cmp	r0, #5
 253 001e 08BF     		it	eq
 254 0020 E520     		moveq	r0, #229
 255              	.LVL31:
2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
 256              		.loc 1 2697 3 is_stmt 1 view .LVU79
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 257              		.loc 1 2698 3 view .LVU80
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 258              		.loc 1 2698 20 is_stmt 0 view .LVU81
 259 0022 6072     		strb	r0, [r4, #9]
 260              	.LVL32:
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 261              		.loc 1 2698 16 view .LVU82
 262 0024 0133     		adds	r3, r3, #1
 263              	.LVL33:
 264              	.L30:
2693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (TCHAR)dp->dir[si++];
 265              		.loc 1 2693 8 is_stmt 1 view .LVU83
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 266              		.loc 1 2694 3 view .LVU84
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 267              		.loc 1 2694 5 is_stmt 0 view .LVU85
 268 0026 9578     		ldrb	r5, [r2, #2]	@ zero_extendqisi2
 269              	.LVL34:
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 270              		.loc 1 2695 3 is_stmt 1 view .LVU86
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 271              		.loc 1 2695 6 is_stmt 0 view .LVU87
 272 0028 202D     		cmp	r5, #32
 273 002a 05D0     		beq	.L32
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 274              		.loc 1 2696 3 is_stmt 1 view .LVU88
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 275              		.loc 1 2698 20 is_stmt 0 view .LVU89
 276 002c CE18     		adds	r6, r1, r3
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 277              		.loc 1 2696 21 view .LVU90
 278 002e 052D     		cmp	r5, #5
 279 0030 08BF     		it	eq
 280 0032 E525     		moveq	r5, #229
 281              	.LVL35:
2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
 282              		.loc 1 2697 3 is_stmt 1 view .LVU91
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 283              		.loc 1 2698 3 view .LVU92
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 284              		.loc 1 2698 20 is_stmt 0 view .LVU93
 285 0034 7572     		strb	r5, [r6, #9]
 286              	.LVL36:
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 287              		.loc 1 2698 16 view .LVU94
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 70


 288 0036 0133     		adds	r3, r3, #1
 289              	.LVL37:
 290              	.L32:
2693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (TCHAR)dp->dir[si++];
 291              		.loc 1 2693 8 is_stmt 1 view .LVU95
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 292              		.loc 1 2694 3 view .LVU96
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 293              		.loc 1 2694 5 is_stmt 0 view .LVU97
 294 0038 D078     		ldrb	r0, [r2, #3]	@ zero_extendqisi2
 295              	.LVL38:
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 296              		.loc 1 2695 3 is_stmt 1 view .LVU98
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 297              		.loc 1 2695 6 is_stmt 0 view .LVU99
 298 003a 2028     		cmp	r0, #32
 299 003c 05D0     		beq	.L34
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 300              		.loc 1 2696 3 is_stmt 1 view .LVU100
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 301              		.loc 1 2698 20 is_stmt 0 view .LVU101
 302 003e CC18     		adds	r4, r1, r3
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 303              		.loc 1 2696 21 view .LVU102
 304 0040 0528     		cmp	r0, #5
 305 0042 08BF     		it	eq
 306 0044 E520     		moveq	r0, #229
 307              	.LVL39:
2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
 308              		.loc 1 2697 3 is_stmt 1 view .LVU103
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 309              		.loc 1 2698 3 view .LVU104
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 310              		.loc 1 2698 20 is_stmt 0 view .LVU105
 311 0046 6072     		strb	r0, [r4, #9]
 312              	.LVL40:
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 313              		.loc 1 2698 16 view .LVU106
 314 0048 0133     		adds	r3, r3, #1
 315              	.LVL41:
 316              	.L34:
2693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (TCHAR)dp->dir[si++];
 317              		.loc 1 2693 8 is_stmt 1 view .LVU107
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 318              		.loc 1 2694 3 view .LVU108
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 319              		.loc 1 2694 5 is_stmt 0 view .LVU109
 320 004a 1579     		ldrb	r5, [r2, #4]	@ zero_extendqisi2
 321              	.LVL42:
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 322              		.loc 1 2695 3 is_stmt 1 view .LVU110
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 323              		.loc 1 2695 6 is_stmt 0 view .LVU111
 324 004c 202D     		cmp	r5, #32
 325 004e 05D0     		beq	.L36
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 326              		.loc 1 2696 3 is_stmt 1 view .LVU112
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 71


2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 327              		.loc 1 2698 20 is_stmt 0 view .LVU113
 328 0050 CE18     		adds	r6, r1, r3
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 329              		.loc 1 2696 21 view .LVU114
 330 0052 052D     		cmp	r5, #5
 331 0054 08BF     		it	eq
 332 0056 E525     		moveq	r5, #229
 333              	.LVL43:
2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
 334              		.loc 1 2697 3 is_stmt 1 view .LVU115
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 335              		.loc 1 2698 3 view .LVU116
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 336              		.loc 1 2698 20 is_stmt 0 view .LVU117
 337 0058 7572     		strb	r5, [r6, #9]
 338              	.LVL44:
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 339              		.loc 1 2698 16 view .LVU118
 340 005a 0133     		adds	r3, r3, #1
 341              	.LVL45:
 342              	.L36:
2693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (TCHAR)dp->dir[si++];
 343              		.loc 1 2693 8 is_stmt 1 view .LVU119
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 344              		.loc 1 2694 3 view .LVU120
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 345              		.loc 1 2694 5 is_stmt 0 view .LVU121
 346 005c 5079     		ldrb	r0, [r2, #5]	@ zero_extendqisi2
 347              	.LVL46:
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 348              		.loc 1 2695 3 is_stmt 1 view .LVU122
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 349              		.loc 1 2695 6 is_stmt 0 view .LVU123
 350 005e 2028     		cmp	r0, #32
 351 0060 05D0     		beq	.L38
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 352              		.loc 1 2696 3 is_stmt 1 view .LVU124
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 353              		.loc 1 2698 20 is_stmt 0 view .LVU125
 354 0062 CC18     		adds	r4, r1, r3
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 355              		.loc 1 2696 21 view .LVU126
 356 0064 0528     		cmp	r0, #5
 357 0066 08BF     		it	eq
 358 0068 E520     		moveq	r0, #229
 359              	.LVL47:
2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
 360              		.loc 1 2697 3 is_stmt 1 view .LVU127
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 361              		.loc 1 2698 3 view .LVU128
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 362              		.loc 1 2698 20 is_stmt 0 view .LVU129
 363 006a 6072     		strb	r0, [r4, #9]
 364              	.LVL48:
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 365              		.loc 1 2698 16 view .LVU130
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 72


 366 006c 0133     		adds	r3, r3, #1
 367              	.LVL49:
 368              	.L38:
2693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (TCHAR)dp->dir[si++];
 369              		.loc 1 2693 8 is_stmt 1 view .LVU131
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 370              		.loc 1 2694 3 view .LVU132
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 371              		.loc 1 2694 5 is_stmt 0 view .LVU133
 372 006e 9579     		ldrb	r5, [r2, #6]	@ zero_extendqisi2
 373              	.LVL50:
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 374              		.loc 1 2695 3 is_stmt 1 view .LVU134
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 375              		.loc 1 2695 6 is_stmt 0 view .LVU135
 376 0070 202D     		cmp	r5, #32
 377 0072 05D0     		beq	.L40
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 378              		.loc 1 2696 3 is_stmt 1 view .LVU136
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 379              		.loc 1 2698 20 is_stmt 0 view .LVU137
 380 0074 CE18     		adds	r6, r1, r3
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 381              		.loc 1 2696 21 view .LVU138
 382 0076 052D     		cmp	r5, #5
 383 0078 08BF     		it	eq
 384 007a E525     		moveq	r5, #229
 385              	.LVL51:
2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
 386              		.loc 1 2697 3 is_stmt 1 view .LVU139
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 387              		.loc 1 2698 3 view .LVU140
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 388              		.loc 1 2698 20 is_stmt 0 view .LVU141
 389 007c 7572     		strb	r5, [r6, #9]
 390              	.LVL52:
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 391              		.loc 1 2698 16 view .LVU142
 392 007e 0133     		adds	r3, r3, #1
 393              	.LVL53:
 394              	.L40:
2693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (TCHAR)dp->dir[si++];
 395              		.loc 1 2693 8 is_stmt 1 view .LVU143
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 396              		.loc 1 2694 3 view .LVU144
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 397              		.loc 1 2694 5 is_stmt 0 view .LVU145
 398 0080 D079     		ldrb	r0, [r2, #7]	@ zero_extendqisi2
 399              	.LVL54:
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 400              		.loc 1 2695 3 is_stmt 1 view .LVU146
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 401              		.loc 1 2695 6 is_stmt 0 view .LVU147
 402 0082 2028     		cmp	r0, #32
 403 0084 05D0     		beq	.L42
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 404              		.loc 1 2696 3 is_stmt 1 view .LVU148
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 73


2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 405              		.loc 1 2698 20 is_stmt 0 view .LVU149
 406 0086 CC18     		adds	r4, r1, r3
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 407              		.loc 1 2696 21 view .LVU150
 408 0088 0528     		cmp	r0, #5
 409 008a 08BF     		it	eq
 410 008c E520     		moveq	r0, #229
 411              	.LVL55:
2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
 412              		.loc 1 2697 3 is_stmt 1 view .LVU151
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 413              		.loc 1 2698 3 view .LVU152
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 414              		.loc 1 2698 20 is_stmt 0 view .LVU153
 415 008e 6072     		strb	r0, [r4, #9]
 416              	.LVL56:
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 417              		.loc 1 2698 16 view .LVU154
 418 0090 0133     		adds	r3, r3, #1
 419              	.LVL57:
 420              	.L42:
2693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (TCHAR)dp->dir[si++];
 421              		.loc 1 2693 8 is_stmt 1 view .LVU155
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 422              		.loc 1 2694 3 view .LVU156
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 423              		.loc 1 2694 5 is_stmt 0 view .LVU157
 424 0092 107A     		ldrb	r0, [r2, #8]	@ zero_extendqisi2
 425              	.LVL58:
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 426              		.loc 1 2695 3 is_stmt 1 view .LVU158
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 427              		.loc 1 2695 6 is_stmt 0 view .LVU159
 428 0094 2028     		cmp	r0, #32
 429 0096 09D0     		beq	.L44
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 430              		.loc 1 2696 3 is_stmt 1 view .LVU160
2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
 431              		.loc 1 2697 29 is_stmt 0 view .LVU161
 432 0098 5C1C     		adds	r4, r3, #1
2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
 433              		.loc 1 2697 33 view .LVU162
 434 009a CD18     		adds	r5, r1, r3
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 435              		.loc 1 2696 21 view .LVU163
 436 009c 0528     		cmp	r0, #5
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 437              		.loc 1 2698 20 view .LVU164
 438 009e 0C44     		add	r4, r4, r1
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 439              		.loc 1 2696 21 view .LVU165
 440 00a0 08BF     		it	eq
 441 00a2 E520     		moveq	r0, #229
 442              	.LVL59:
2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
 443              		.loc 1 2697 3 is_stmt 1 view .LVU166
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 74


2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
 444              		.loc 1 2697 16 view .LVU167
2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
 445              		.loc 1 2697 33 is_stmt 0 view .LVU168
 446 00a4 2E26     		movs	r6, #46
 447 00a6 6E72     		strb	r6, [r5, #9]
 448              	.LVL60:
2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
 449              		.loc 1 2697 33 view .LVU169
 450 00a8 0233     		adds	r3, r3, #2
 451              	.LVL61:
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 452              		.loc 1 2698 3 is_stmt 1 view .LVU170
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 453              		.loc 1 2698 20 is_stmt 0 view .LVU171
 454 00aa 6072     		strb	r0, [r4, #9]
 455              	.L44:
2693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (TCHAR)dp->dir[si++];
 456              		.loc 1 2693 8 is_stmt 1 view .LVU172
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 457              		.loc 1 2694 3 view .LVU173
 458              	.LVL62:
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 459              		.loc 1 2694 5 is_stmt 0 view .LVU174
 460 00ac 507A     		ldrb	r0, [r2, #9]	@ zero_extendqisi2
 461              	.LVL63:
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 462              		.loc 1 2695 3 is_stmt 1 view .LVU175
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 463              		.loc 1 2695 6 is_stmt 0 view .LVU176
 464 00ae 2028     		cmp	r0, #32
 465 00b0 05D0     		beq	.L46
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 466              		.loc 1 2696 3 is_stmt 1 view .LVU177
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 467              		.loc 1 2698 20 is_stmt 0 view .LVU178
 468 00b2 CC18     		adds	r4, r1, r3
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 469              		.loc 1 2696 21 view .LVU179
 470 00b4 0528     		cmp	r0, #5
 471 00b6 08BF     		it	eq
 472 00b8 E520     		moveq	r0, #229
 473              	.LVL64:
2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
 474              		.loc 1 2697 3 is_stmt 1 view .LVU180
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 475              		.loc 1 2698 3 view .LVU181
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 476              		.loc 1 2698 20 is_stmt 0 view .LVU182
 477 00ba 6072     		strb	r0, [r4, #9]
 478              	.LVL65:
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 479              		.loc 1 2698 16 view .LVU183
 480 00bc 0133     		adds	r3, r3, #1
 481              	.LVL66:
 482              	.L46:
2693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (TCHAR)dp->dir[si++];
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 75


 483              		.loc 1 2693 8 is_stmt 1 view .LVU184
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 484              		.loc 1 2694 3 view .LVU185
2694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == ' ') continue;		/* Skip padding spaces */
 485              		.loc 1 2694 5 is_stmt 0 view .LVU186
 486 00be 957A     		ldrb	r5, [r2, #10]	@ zero_extendqisi2
 487              	.LVL67:
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 488              		.loc 1 2695 3 is_stmt 1 view .LVU187
2695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == RDDEM) c = DDEM;	/* Restore replaced DDEM character */
 489              		.loc 1 2695 6 is_stmt 0 view .LVU188
 490 00c0 202D     		cmp	r5, #32
 491 00c2 05D0     		beq	.L48
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 492              		.loc 1 2696 3 is_stmt 1 view .LVU189
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 493              		.loc 1 2698 20 is_stmt 0 view .LVU190
 494 00c4 CE18     		adds	r6, r1, r3
2696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (si == 9) fno->fname[di++] = '.';/* Insert a . if extension is exist */
 495              		.loc 1 2696 21 view .LVU191
 496 00c6 052D     		cmp	r5, #5
 497 00c8 08BF     		it	eq
 498 00ca E525     		moveq	r5, #229
 499              	.LVL68:
2697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fno->fname[di++] = c;
 500              		.loc 1 2697 3 is_stmt 1 view .LVU192
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 501              		.loc 1 2698 3 view .LVU193
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 502              		.loc 1 2698 20 is_stmt 0 view .LVU194
 503 00cc 7572     		strb	r5, [r6, #9]
 504              	.LVL69:
2698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 505              		.loc 1 2698 16 view .LVU195
 506 00ce 0133     		adds	r3, r3, #1
 507              	.LVL70:
 508              	.L48:
2693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (TCHAR)dp->dir[si++];
 509              		.loc 1 2693 8 is_stmt 1 view .LVU196
2700:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 510              		.loc 1 2700 2 view .LVU197
2700:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 511              		.loc 1 2700 17 is_stmt 0 view .LVU198
 512 00d0 0B44     		add	r3, r3, r1
 513              	.LVL71:
2700:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 514              		.loc 1 2700 17 view .LVU199
 515 00d2 0020     		movs	r0, #0
 516 00d4 5872     		strb	r0, [r3, #9]
2703:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);		/* Size */
 517              		.loc 1 2703 2 is_stmt 1 view .LVU200
2703:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);		/* Size */
 518              		.loc 1 2703 35 is_stmt 0 view .LVU201
 519 00d6 92F80BC0 		ldrb	ip, [r2, #11]	@ zero_extendqisi2
 520 00da 0CF03F03 		and	r3, ip, #63
2703:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);		/* Size */
 521              		.loc 1 2703 15 view .LVU202
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 76


 522 00de 0B72     		strb	r3, [r1, #8]
2704:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fno->ftime = ld_word(dp->dir + DIR_ModTime + 0);	/* Time */
 523              		.loc 1 2704 2 is_stmt 1 view .LVU203
 524              	.LVL72:
 525              	.LBB308:
 526              	.LBI308:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 527              		.loc 1 623 14 view .LVU204
 528              	.LBB309:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 529              		.loc 1 625 2 view .LVU205
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 530              		.loc 1 627 2 view .LVU206
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 531              		.loc 1 628 2 view .LVU207
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 532              		.loc 1 629 2 view .LVU208
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 533              		.loc 1 628 5 is_stmt 0 view .LVU209
 534 00e0 D48B     		ldrh	r4, [r2, #30]	@ unaligned
 535              	.LVL73:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 536              		.loc 1 630 2 is_stmt 1 view .LVU210
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 537              		.loc 1 629 20 is_stmt 0 view .LVU211
 538 00e2 557F     		ldrb	r5, [r2, #29]	@ zero_extendqisi2
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 539              		.loc 1 630 20 view .LVU212
 540 00e4 167F     		ldrb	r6, [r2, #28]	@ zero_extendqisi2
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 541              		.loc 1 629 5 view .LVU213
 542 00e6 45EA0420 		orr	r0, r5, r4, lsl #8
 543              	.LVL74:
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 544              		.loc 1 631 2 is_stmt 1 view .LVU214
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 545              		.loc 1 630 5 is_stmt 0 view .LVU215
 546 00ea 46EA0023 		orr	r3, r6, r0, lsl #8
 547              	.LBE309:
 548              	.LBE308:
2704:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fno->ftime = ld_word(dp->dir + DIR_ModTime + 0);	/* Time */
 549              		.loc 1 2704 13 view .LVU216
 550 00ee 0B60     		str	r3, [r1]
2705:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fno->fdate = ld_word(dp->dir + DIR_ModTime + 2);	/* Date */
 551              		.loc 1 2705 2 is_stmt 1 view .LVU217
 552              	.LVL75:
 553              	.LBB310:
 554              	.LBI310:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 555              		.loc 1 614 13 view .LVU218
 556              	.LBB311:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 557              		.loc 1 616 2 view .LVU219
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 558              		.loc 1 618 2 view .LVU220
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 559              		.loc 1 619 2 view .LVU221
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 77


 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 560              		.loc 1 620 2 view .LVU222
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 561              		.loc 1 619 10 is_stmt 0 view .LVU223
 562 00f0 D47D     		ldrb	r4, [r2, #23]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 563              		.loc 1 619 20 view .LVU224
 564 00f2 957D     		ldrb	r5, [r2, #22]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 565              		.loc 1 619 15 view .LVU225
 566 00f4 45EA0426 		orr	r6, r5, r4, lsl #8
 567              	.LBE311:
 568              	.LBE310:
2705:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fno->fdate = ld_word(dp->dir + DIR_ModTime + 2);	/* Date */
 569              		.loc 1 2705 13 view .LVU226
 570 00f8 CE80     		strh	r6, [r1, #6]	@ movhi
2706:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 571              		.loc 1 2706 2 is_stmt 1 view .LVU227
 572              	.LVL76:
 573              	.LBB312:
 574              	.LBI312:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 575              		.loc 1 614 13 view .LVU228
 576              	.LBB313:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 577              		.loc 1 616 2 view .LVU229
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 578              		.loc 1 618 2 view .LVU230
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 579              		.loc 1 619 2 view .LVU231
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 580              		.loc 1 620 2 view .LVU232
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 581              		.loc 1 619 10 is_stmt 0 view .LVU233
 582 00fa 92F819C0 		ldrb	ip, [r2, #25]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 583              		.loc 1 619 20 view .LVU234
 584 00fe 127E     		ldrb	r2, [r2, #24]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 585              		.loc 1 619 15 view .LVU235
 586 0100 42EA0C20 		orr	r0, r2, ip, lsl #8
 587              	.LBE313:
 588              	.LBE312:
2707:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 589              		.loc 1 2707 1 view .LVU236
 590 0104 70BC     		pop	{r4, r5, r6}
 591              		.cfi_remember_state
 592              		.cfi_restore 6
 593              		.cfi_restore 5
 594              		.cfi_restore 4
 595              		.cfi_def_cfa_offset 0
2706:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 596              		.loc 1 2706 13 view .LVU237
 597 0106 8880     		strh	r0, [r1, #4]	@ movhi
2707:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 598              		.loc 1 2707 1 view .LVU238
 599 0108 7047     		bx	lr
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 78


 600              	.LVL77:
 601              	.L50:
 602              		.cfi_restore_state
2692:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	while (si < 11) {		/* Copy name body and extension */
 603              		.loc 1 2692 10 view .LVU239
 604 010a 0023     		movs	r3, #0
 605              	.LVL78:
2692:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	while (si < 11) {		/* Copy name body and extension */
 606              		.loc 1 2692 10 view .LVU240
 607 010c 82E7     		b	.L28
 608              		.cfi_endproc
 609              	.LFE51:
 611 010e 00BF     		.section	.text.sync_window.part.0,"ax",%progbits
 612              		.align	1
 613              		.p2align 2,,3
 614              		.syntax unified
 615              		.thumb
 616              		.thumb_func
 617              		.fpu fpv4-sp-d16
 619              	sync_window.part.0:
 620              	.LVL79:
 621              	.LFB52:
1025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs			/* Filesystem object */
 622              		.loc 1 1025 16 is_stmt 1 view -0
 623              		.cfi_startproc
 624              		@ args = 0, pretend = 0, frame = 0
 625              		@ frame_needed = 0, uses_anonymous_args = 0
1033:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 0;	/* Clear window dirty flag */
 626              		.loc 1 1033 3 view .LVU242
1025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs			/* Filesystem object */
 627              		.loc 1 1025 16 is_stmt 0 view .LVU243
 628 0000 70B5     		push	{r4, r5, r6, lr}
 629              		.cfi_def_cfa_offset 16
 630              		.cfi_offset 4, -16
 631              		.cfi_offset 5, -12
 632              		.cfi_offset 6, -8
 633              		.cfi_offset 14, -4
1033:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 0;	/* Clear window dirty flag */
 634              		.loc 1 1033 30 view .LVU244
 635 0002 00F13006 		add	r6, r0, #48
1033:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 0;	/* Clear window dirty flag */
 636              		.loc 1 1033 7 view .LVU245
 637 0006 C26A     		ldr	r2, [r0, #44]
1025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs			/* Filesystem object */
 638              		.loc 1 1025 16 view .LVU246
 639 0008 0446     		mov	r4, r0
1033:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 0;	/* Clear window dirty flag */
 640              		.loc 1 1033 7 view .LVU247
 641 000a 3146     		mov	r1, r6
 642 000c 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 643              	.LVL80:
1033:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 0;	/* Clear window dirty flag */
 644              		.loc 1 1033 7 view .LVU248
 645 000e 0123     		movs	r3, #1
 646 0010 FFF7FEFF 		bl	disk_write
 647              	.LVL81:
1033:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 0;	/* Clear window dirty flag */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 79


 648              		.loc 1 1033 6 view .LVU249
 649 0014 60B9     		cbnz	r0, .L66
1035:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fs->n_fats == 2) disk_write(fs->pdrv, fs->win, fs->winsect + fs->fsize, 1);	/* Reflect it t
 650              		.loc 1 1035 10 view .LVU250
 651 0016 E16A     		ldr	r1, [r4, #44]
1035:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fs->n_fats == 2) disk_write(fs->pdrv, fs->win, fs->winsect + fs->fsize, 1);	/* Reflect it t
 652              		.loc 1 1035 20 view .LVU251
 653 0018 236A     		ldr	r3, [r4, #32]
1035:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fs->n_fats == 2) disk_write(fs->pdrv, fs->win, fs->winsect + fs->fsize, 1);	/* Reflect it t
 654              		.loc 1 1035 38 view .LVU252
 655 001a A269     		ldr	r2, [r4, #24]
1034:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->winsect - fs->fatbase < fs->fsize) {	/* Is it in the 1st FAT? */
 656              		.loc 1 1034 14 view .LVU253
 657 001c E070     		strb	r0, [r4, #3]
 658 001e 0546     		mov	r5, r0
1034:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->winsect - fs->fatbase < fs->fsize) {	/* Is it in the 1st FAT? */
 659              		.loc 1 1034 4 is_stmt 1 view .LVU254
1035:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fs->n_fats == 2) disk_write(fs->pdrv, fs->win, fs->winsect + fs->fsize, 1);	/* Reflect it t
 660              		.loc 1 1035 4 view .LVU255
1035:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fs->n_fats == 2) disk_write(fs->pdrv, fs->win, fs->winsect + fs->fsize, 1);	/* Reflect it t
 661              		.loc 1 1035 20 is_stmt 0 view .LVU256
 662 0020 C81A     		subs	r0, r1, r3
1035:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fs->n_fats == 2) disk_write(fs->pdrv, fs->win, fs->winsect + fs->fsize, 1);	/* Reflect it t
 663              		.loc 1 1035 7 view .LVU257
 664 0022 9042     		cmp	r0, r2
 665 0024 02D2     		bcs	.L65
1036:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 666              		.loc 1 1036 5 is_stmt 1 view .LVU258
1036:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 667              		.loc 1 1036 8 is_stmt 0 view .LVU259
 668 0026 A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 669 0028 022B     		cmp	r3, #2
 670 002a 04D0     		beq	.L68
 671              	.L65:
 672              	.LVL82:
1042:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 673              		.loc 1 1042 2 is_stmt 1 view .LVU260
1043:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 674              		.loc 1 1043 1 is_stmt 0 view .LVU261
 675 002c 2846     		mov	r0, r5
 676 002e 70BD     		pop	{r4, r5, r6, pc}
 677              	.LVL83:
 678              	.L66:
1039:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 679              		.loc 1 1039 8 view .LVU262
 680 0030 0125     		movs	r5, #1
 681              	.LVL84:
1042:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 682              		.loc 1 1042 2 is_stmt 1 view .LVU263
1043:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 683              		.loc 1 1043 1 is_stmt 0 view .LVU264
 684 0032 2846     		mov	r0, r5
 685 0034 70BD     		pop	{r4, r5, r6, pc}
 686              	.LVL85:
 687              	.L68:
1036:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 688              		.loc 1 1036 26 is_stmt 1 view .LVU265
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 80


 689 0036 0A44     		add	r2, r2, r1
 690 0038 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 691 003a 3146     		mov	r1, r6
 692 003c 0123     		movs	r3, #1
 693 003e FFF7FEFF 		bl	disk_write
 694              	.LVL86:
 695 0042 F3E7     		b	.L65
 696              		.cfi_endproc
 697              	.LFE52:
 699              		.section	.text.dir_clear,"ax",%progbits
 700              		.align	1
 701              		.p2align 2,,3
 702              		.syntax unified
 703              		.thumb
 704              		.thumb_func
 705              		.fpu fpv4-sp-d16
 707              	dir_clear:
 708              	.LVL87:
 709              	.LFB14:
1631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t sect;
 710              		.loc 1 1631 1 view -0
 711              		.cfi_startproc
 712              		@ args = 0, pretend = 0, frame = 0
 713              		@ frame_needed = 0, uses_anonymous_args = 0
1632:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT n, szb;
 714              		.loc 1 1632 2 view .LVU267
1633:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE *ibuf;
 715              		.loc 1 1633 2 view .LVU268
1634:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 716              		.loc 1 1634 2 view .LVU269
1637:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sect = clst2sect(fs, clst);		/* Top of the cluster */
 717              		.loc 1 1637 2 view .LVU270
1631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t sect;
 718              		.loc 1 1631 1 is_stmt 0 view .LVU271
 719 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 720              		.cfi_def_cfa_offset 24
 721              		.cfi_offset 3, -24
 722              		.cfi_offset 4, -20
 723              		.cfi_offset 5, -16
 724              		.cfi_offset 6, -12
 725              		.cfi_offset 7, -8
 726              		.cfi_offset 14, -4
 727              	.LBB314:
 728              	.LBB315:
1032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (disk_write(fs->pdrv, fs->win, fs->winsect, 1) == RES_OK) {	/* Write it back into the volume *
 729              		.loc 1 1032 5 view .LVU272
 730 0002 C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
 731              	.LBE315:
 732              	.LBE314:
1631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t sect;
 733              		.loc 1 1631 1 view .LVU273
 734 0004 0546     		mov	r5, r0
 735              	.LVL88:
 736              	.LBB319:
 737              	.LBI314:
1025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs			/* Filesystem object */
 738              		.loc 1 1025 16 is_stmt 1 view .LVU274
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 81


 739              	.LBB316:
1029:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 740              		.loc 1 1029 2 view .LVU275
1032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (disk_write(fs->pdrv, fs->win, fs->winsect, 1) == RES_OK) {	/* Write it back into the volume *
 741              		.loc 1 1032 2 view .LVU276
 742              	.LBE316:
 743              	.LBE319:
1631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t sect;
 744              		.loc 1 1631 1 is_stmt 0 view .LVU277
 745 0006 0E46     		mov	r6, r1
 746              	.LBB320:
 747              	.LBB317:
1032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (disk_write(fs->pdrv, fs->win, fs->winsect, 1) == RES_OK) {	/* Write it back into the volume *
 748              		.loc 1 1032 5 view .LVU278
 749 0008 3BBB     		cbnz	r3, .L70
 750              	.LVL89:
 751              	.L74:
1032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (disk_write(fs->pdrv, fs->win, fs->winsect, 1) == RES_OK) {	/* Write it back into the volume *
 752              		.loc 1 1032 5 view .LVU279
 753              	.LBE317:
 754              	.LBE320:
1638:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fs->winsect = sect;				/* Set window to top of the cluster */
 755              		.loc 1 1638 2 is_stmt 1 view .LVU280
 756              	.LBB321:
 757              	.LBI321:
1114:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 758              		.loc 1 1114 14 view .LVU281
 759              	.LBB322:
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 760              		.loc 1 1119 2 view .LVU282
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 761              		.loc 1 1120 27 is_stmt 0 view .LVU283
 762 000a 6869     		ldr	r0, [r5, #20]
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 763              		.loc 1 1119 7 view .LVU284
 764 000c B11E     		subs	r1, r6, #2
 765              	.LVL90:
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 766              		.loc 1 1120 2 is_stmt 1 view .LVU285
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 767              		.loc 1 1120 27 is_stmt 0 view .LVU286
 768 000e 821E     		subs	r2, r0, #2
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 769              		.loc 1 1120 5 view .LVU287
 770 0010 9142     		cmp	r1, r2
 771 0012 28D2     		bcs	.L83
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 772              		.loc 1 1121 2 is_stmt 1 view .LVU288
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 773              		.loc 1 1121 24 is_stmt 0 view .LVU289
 774 0014 6C89     		ldrh	r4, [r5, #10]
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 775              		.loc 1 1121 22 view .LVU290
 776 0016 AF6A     		ldr	r7, [r5, #40]
 777 0018 01FB0476 		mla	r6, r1, r4, r7
 778              	.LVL91:
 779              	.L71:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 82


1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 780              		.loc 1 1121 22 view .LVU291
 781              	.LBE322:
 782              	.LBE321:
1639:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	memset(fs->win, 0, sizeof fs->win);	/* Clear window buffer */
 783              		.loc 1 1639 2 is_stmt 1 view .LVU292
1640:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN == 3		/* Quick table clear by using multi-secter write */
 784              		.loc 1 1640 11 is_stmt 0 view .LVU293
 785 001c 05F13007 		add	r7, r5, #48
1639:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	memset(fs->win, 0, sizeof fs->win);	/* Clear window buffer */
 786              		.loc 1 1639 14 view .LVU294
 787 0020 EE62     		str	r6, [r5, #44]
1640:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN == 3		/* Quick table clear by using multi-secter write */
 788              		.loc 1 1640 2 is_stmt 1 view .LVU295
 789 0022 3846     		mov	r0, r7
 790 0024 4FF40072 		mov	r2, #512
 791 0028 0021     		movs	r1, #0
 792              	.LVL92:
1640:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN == 3		/* Quick table clear by using multi-secter write */
 793              		.loc 1 1640 2 is_stmt 0 view .LVU296
 794 002a FFF7FEFF 		bl	memset
 795              	.LVL93:
1652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		for (n = 0; n < fs->csize && disk_write(fs->pdrv, ibuf, sect + n, szb) == RES_OK; n += szb) ;	/* 
 796              		.loc 1 1652 3 is_stmt 1 view .LVU297
1652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		for (n = 0; n < fs->csize && disk_write(fs->pdrv, ibuf, sect + n, szb) == RES_OK; n += szb) ;	/* 
 797              		.loc 1 1652 19 view .LVU298
1653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 798              		.loc 1 1653 3 view .LVU299
1653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 799              		.loc 1 1653 15 view .LVU300
1653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 800              		.loc 1 1653 3 is_stmt 0 view .LVU301
 801 002e 6B89     		ldrh	r3, [r5, #10]
1653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 802              		.loc 1 1653 10 view .LVU302
 803 0030 1C46     		mov	r4, r3
1653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 804              		.loc 1 1653 3 view .LVU303
 805 0032 73B1     		cbz	r3, .L76
1653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 806              		.loc 1 1653 10 view .LVU304
 807 0034 0024     		movs	r4, #0
 808 0036 03E0     		b	.L75
 809              	.LVL94:
 810              	.L77:
1653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 811              		.loc 1 1653 21 discriminator 4 view .LVU305
 812 0038 6B89     		ldrh	r3, [r5, #10]
1653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 813              		.loc 1 1653 87 discriminator 4 view .LVU306
 814 003a 0134     		adds	r4, r4, #1
 815              	.LVL95:
1653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 816              		.loc 1 1653 15 is_stmt 1 discriminator 4 view .LVU307
1653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 817              		.loc 1 1653 3 is_stmt 0 discriminator 4 view .LVU308
 818 003c A342     		cmp	r3, r4
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 83


 819 003e 08D9     		bls	.L76
 820              	.LVL96:
 821              	.L75:
1653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 822              		.loc 1 1653 32 discriminator 3 view .LVU309
 823 0040 6878     		ldrb	r0, [r5, #1]	@ zero_extendqisi2
 824 0042 0123     		movs	r3, #1
 825 0044 3219     		adds	r2, r6, r4
 826 0046 3946     		mov	r1, r7
 827 0048 FFF7FEFF 		bl	disk_write
 828              	.LVL97:
1653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 829              		.loc 1 1653 95 is_stmt 1 discriminator 3 view .LVU310
1653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 830              		.loc 1 1653 85 discriminator 3 view .LVU311
1653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 831              		.loc 1 1653 29 is_stmt 0 discriminator 3 view .LVU312
 832 004c 0028     		cmp	r0, #0
 833 004e F3D0     		beq	.L77
 834 0050 6B89     		ldrh	r3, [r5, #10]
 835              	.LVL98:
 836              	.L76:
1655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 837              		.loc 1 1655 2 is_stmt 1 view .LVU313
1655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 838              		.loc 1 1655 34 is_stmt 0 view .LVU314
 839 0052 E01A     		subs	r0, r4, r3
 840 0054 18BF     		it	ne
 841 0056 0120     		movne	r0, #1
1656:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* !FF_FS_READONLY */
 842              		.loc 1 1656 1 view .LVU315
 843 0058 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 844              	.LVL99:
 845              	.L70:
 846              	.LBB324:
 847              	.LBB318:
1656:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* !FF_FS_READONLY */
 848              		.loc 1 1656 1 view .LVU316
 849 005a FFF7FEFF 		bl	sync_window.part.0
 850              	.LVL100:
1042:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 851              		.loc 1 1042 2 is_stmt 1 view .LVU317
1042:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 852              		.loc 1 1042 2 is_stmt 0 view .LVU318
 853              	.LBE318:
 854              	.LBE324:
1637:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sect = clst2sect(fs, clst);		/* Top of the cluster */
 855              		.loc 1 1637 5 view .LVU319
 856 005e 0028     		cmp	r0, #0
 857 0060 D3D0     		beq	.L74
1637:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sect = clst2sect(fs, clst);		/* Top of the cluster */
 858              		.loc 1 1637 39 view .LVU320
 859 0062 0120     		movs	r0, #1
1656:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* !FF_FS_READONLY */
 860              		.loc 1 1656 1 view .LVU321
 861 0064 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 862              	.LVL101:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 84


 863              	.L83:
 864              	.LBB325:
 865              	.LBB323:
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 866              		.loc 1 1120 39 view .LVU322
 867 0066 0026     		movs	r6, #0
 868              	.LVL102:
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 869              		.loc 1 1120 39 view .LVU323
 870 0068 D8E7     		b	.L71
 871              	.LBE323:
 872              	.LBE325:
 873              		.cfi_endproc
 874              	.LFE14:
 876 006a 00BF     		.section	.text.sync_fs,"ax",%progbits
 877              		.align	1
 878              		.p2align 2,,3
 879              		.syntax unified
 880              		.thumb
 881              		.thumb_func
 882              		.fpu fpv4-sp-d16
 884              	sync_fs:
 885              	.LVL103:
 886              	.LFB8:
1081:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 887              		.loc 1 1081 1 is_stmt 1 view -0
 888              		.cfi_startproc
 889              		@ args = 0, pretend = 0, frame = 0
 890              		@ frame_needed = 0, uses_anonymous_args = 0
1082:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 891              		.loc 1 1082 2 view .LVU325
1085:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
 892              		.loc 1 1085 2 view .LVU326
1081:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 893              		.loc 1 1081 1 is_stmt 0 view .LVU327
 894 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 895              		.cfi_def_cfa_offset 24
 896              		.cfi_offset 3, -24
 897              		.cfi_offset 4, -20
 898              		.cfi_offset 5, -16
 899              		.cfi_offset 6, -12
 900              		.cfi_offset 7, -8
 901              		.cfi_offset 14, -4
 902              	.LBB326:
 903              	.LBB327:
1032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (disk_write(fs->pdrv, fs->win, fs->winsect, 1) == RES_OK) {	/* Write it back into the volume *
 904              		.loc 1 1032 5 view .LVU328
 905 0002 C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
 906              	.LBE327:
 907              	.LBE326:
1081:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 908              		.loc 1 1081 1 view .LVU329
 909 0004 0446     		mov	r4, r0
 910              	.LVL104:
 911              	.LBB330:
 912              	.LBI326:
1025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs			/* Filesystem object */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 85


 913              		.loc 1 1025 16 is_stmt 1 view .LVU330
 914              	.LBB328:
1029:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 915              		.loc 1 1029 2 view .LVU331
1032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (disk_write(fs->pdrv, fs->win, fs->winsect, 1) == RES_OK) {	/* Write it back into the volume *
 916              		.loc 1 1032 2 view .LVU332
1032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (disk_write(fs->pdrv, fs->win, fs->winsect, 1) == RES_OK) {	/* Write it back into the volume *
 917              		.loc 1 1032 5 is_stmt 0 view .LVU333
 918 0006 5BB9     		cbnz	r3, .L85
 919              	.LVL105:
1032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (disk_write(fs->pdrv, fs->win, fs->winsect, 1) == RES_OK) {	/* Write it back into the volume *
 920              		.loc 1 1032 5 view .LVU334
 921              	.LBE328:
 922              	.LBE330:
1087:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			/* Create FSInfo structure */
 923              		.loc 1 1087 3 is_stmt 1 view .LVU335
1087:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			/* Create FSInfo structure */
 924              		.loc 1 1087 6 is_stmt 0 view .LVU336
 925 0008 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 926              	.LVL106:
1087:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			/* Create FSInfo structure */
 927              		.loc 1 1087 6 view .LVU337
 928 000a 0328     		cmp	r0, #3
 929 000c 0FD0     		beq	.L95
 930              	.L87:
1100:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 931              		.loc 1 1100 3 is_stmt 1 view .LVU338
1100:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 932              		.loc 1 1100 7 is_stmt 0 view .LVU339
 933 000e 0022     		movs	r2, #0
 934 0010 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 935 0012 1146     		mov	r1, r2
 936 0014 FFF7FEFF 		bl	disk_ioctl
 937              	.LVL107:
1100:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 938              		.loc 1 1100 57 view .LVU340
 939 0018 0038     		subs	r0, r0, #0
 940 001a 18BF     		it	ne
 941 001c 0120     		movne	r0, #1
 942              	.L89:
 943              	.LVL108:
1103:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 944              		.loc 1 1103 2 is_stmt 1 view .LVU341
1104:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 945              		.loc 1 1104 1 is_stmt 0 view .LVU342
 946 001e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 947              	.LVL109:
 948              	.L85:
 949              	.LBB331:
 950              	.LBB329:
1104:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 951              		.loc 1 1104 1 view .LVU343
 952 0020 FFF7FEFF 		bl	sync_window.part.0
 953              	.LVL110:
1042:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 954              		.loc 1 1042 2 is_stmt 1 view .LVU344
1042:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 86


 955              		.loc 1 1042 2 is_stmt 0 view .LVU345
 956              	.LBE329:
 957              	.LBE331:
1086:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {	/* FAT32: Update FSInfo sector if needed */
 958              		.loc 1 1086 2 is_stmt 1 view .LVU346
1086:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {	/* FAT32: Update FSInfo sector if needed */
 959              		.loc 1 1086 5 is_stmt 0 view .LVU347
 960 0024 0028     		cmp	r0, #0
 961 0026 FAD1     		bne	.L89
 962              	.LVL111:
1087:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			/* Create FSInfo structure */
 963              		.loc 1 1087 3 is_stmt 1 view .LVU348
1087:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			/* Create FSInfo structure */
 964              		.loc 1 1087 6 is_stmt 0 view .LVU349
 965 0028 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 966 002a 0328     		cmp	r0, #3
 967 002c EFD1     		bne	.L87
 968              	.L95:
1087:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			/* Create FSInfo structure */
 969              		.loc 1 1087 31 discriminator 1 view .LVU350
 970 002e 2579     		ldrb	r5, [r4, #4]	@ zero_extendqisi2
 971 0030 012D     		cmp	r5, #1
 972 0032 ECD1     		bne	.L87
1089:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);					/* Boot signature */
 973              		.loc 1 1089 4 is_stmt 1 view .LVU351
 974 0034 4FF40072 		mov	r2, #512
 975 0038 0021     		movs	r1, #0
1089:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);					/* Boot signature */
 976              		.loc 1 1089 13 is_stmt 0 view .LVU352
 977 003a 04F13000 		add	r0, r4, #48
1089:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);					/* Boot signature */
 978              		.loc 1 1089 4 view .LVU353
 979 003e FFF7FEFF 		bl	memset
 980              	.LVL112:
 981 0042 0146     		mov	r1, r0
1090:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_dword(fs->win + FSI_LeadSig, 0x41615252);		/* Leading signature */
 982              		.loc 1 1090 4 is_stmt 1 view .LVU354
 983              	.LVL113:
 984              	.LBB332:
 985              	.LBI332:
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 986              		.loc 1 652 13 view .LVU355
 987              	.LBB333:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 988              		.loc 1 654 2 view .LVU356
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 989              		.loc 1 654 2 is_stmt 0 view .LVU357
 990              	.LBE333:
 991              	.LBE332:
1094:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->winsect = fs->volbase + 1;						/* Write it into the FSInfo sector (Next to VBR) */
 992              		.loc 1 1094 4 view .LVU358
 993 0044 D4E90306 		ldrd	r0, r6, [r4, #12]
 994              	.LBB338:
 995              	.LBB339:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 996              		.loc 1 660 26 view .LVU359
 997 0048 370A     		lsrs	r7, r6, #8
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 87


 998              	.LBE339:
 999              	.LBE338:
1095:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			disk_write(fs->pdrv, fs->win, fs->winsect, 1);
 1000              		.loc 1 1095 30 view .LVU360
 1001 004a E269     		ldr	r2, [r4, #28]
 1002              	.LBB344:
 1003              	.LBB340:
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1004              		.loc 1 661 11 view .LVU361
 1005 004c 84F81972 		strb	r7, [r4, #537]
 1006              	.LBE340:
 1007              	.LBE344:
1096:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->fsi_flag = 0;
 1008              		.loc 1 1096 4 view .LVU362
 1009 0050 2B46     		mov	r3, r5
 1010              	.LBB345:
 1011              	.LBB346:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1012              		.loc 1 660 26 view .LVU363
 1013 0052 070A     		lsrs	r7, r0, #8
 1014              	.LBE346:
 1015              	.LBE345:
 1016              	.LBB350:
 1017              	.LBB341:
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1018              		.loc 1 661 26 view .LVU364
 1019 0054 350C     		lsrs	r5, r6, #16
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1020              		.loc 1 660 11 view .LVU365
 1021 0056 84F81862 		strb	r6, [r4, #536]
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1022              		.loc 1 662 11 view .LVU366
 1023 005a 84F81A52 		strb	r5, [r4, #538]
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1024              		.loc 1 662 26 view .LVU367
 1025 005e 360E     		lsrs	r6, r6, #24
 1026              	.LBE341:
 1027              	.LBE350:
 1028              	.LBB351:
 1029              	.LBB347:
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1030              		.loc 1 661 26 view .LVU368
 1031 0060 050C     		lsrs	r5, r0, #16
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1032              		.loc 1 660 11 view .LVU369
 1033 0062 84F81C02 		strb	r0, [r4, #540]
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1034              		.loc 1 661 11 view .LVU370
 1035 0066 84F81D72 		strb	r7, [r4, #541]
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1036              		.loc 1 662 26 view .LVU371
 1037 006a 000E     		lsrs	r0, r0, #24
 1038              	.LBE347:
 1039              	.LBE351:
 1040              	.LBB352:
 1041              	.LBB334:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 88


 1042              		.loc 1 655 9 view .LVU372
 1043 006c AA27     		movs	r7, #170
 1044              	.LBE334:
 1045              	.LBE352:
1095:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			disk_write(fs->pdrv, fs->win, fs->winsect, 1);
 1046              		.loc 1 1095 30 view .LVU373
 1047 006e 0132     		adds	r2, r2, #1
 1048              	.LBB353:
 1049              	.LBB342:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1050              		.loc 1 663 11 view .LVU374
 1051 0070 84F81B62 		strb	r6, [r4, #539]
 1052              	.LBE342:
 1053              	.LBE353:
 1054              	.LBB354:
 1055              	.LBB335:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1056              		.loc 1 654 9 view .LVU375
 1057 0074 4FF0550C 		mov	ip, #85
 1058              	.LBE335:
 1059              	.LBE354:
 1060              	.LBB355:
 1061              	.LBB348:
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1062              		.loc 1 662 11 view .LVU376
 1063 0078 84F81E52 		strb	r5, [r4, #542]
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1064              		.loc 1 663 11 view .LVU377
 1065 007c 84F81F02 		strb	r0, [r4, #543]
 1066              	.LBE348:
 1067              	.LBE355:
 1068              	.LBB356:
 1069              	.LBB357:
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1070              		.loc 1 662 9 view .LVU378
 1071 0080 6126     		movs	r6, #97
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1072              		.loc 1 660 9 view .LVU379
 1073 0082 5220     		movs	r0, #82
 1074              	.LBE357:
 1075              	.LBE356:
 1076              	.LBB363:
 1077              	.LBB336:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1078              		.loc 1 655 9 view .LVU380
 1079 0084 84F82F72 		strb	r7, [r4, #559]
 1080              	.LBE336:
 1081              	.LBE363:
 1082              	.LBB364:
 1083              	.LBB358:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1084              		.loc 1 663 9 view .LVU381
 1085 0088 4125     		movs	r5, #65
 1086              	.LBE358:
 1087              	.LBE364:
 1088              	.LBB365:
 1089              	.LBB366:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 89


 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1090              		.loc 1 660 9 view .LVU382
 1091 008a 7227     		movs	r7, #114
 1092              	.LBE366:
 1093              	.LBE365:
1095:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			disk_write(fs->pdrv, fs->win, fs->winsect, 1);
 1094              		.loc 1 1095 16 view .LVU383
 1095 008c E262     		str	r2, [r4, #44]
 1096              	.LBB369:
 1097              	.LBB359:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1098              		.loc 1 660 9 view .LVU384
 1099 008e 84F83000 		strb	r0, [r4, #48]
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1100              		.loc 1 661 9 view .LVU385
 1101 0092 84F83100 		strb	r0, [r4, #49]
 1102              	.LBE359:
 1103              	.LBE369:
 1104              	.LBB370:
 1105              	.LBB337:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1106              		.loc 1 654 9 view .LVU386
 1107 0096 84F82EC2 		strb	ip, [r4, #558]
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1108              		.loc 1 654 22 is_stmt 1 view .LVU387
 1109              	.LVL114:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1110              		.loc 1 655 2 view .LVU388
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1111              		.loc 1 655 2 is_stmt 0 view .LVU389
 1112              	.LBE337:
 1113              	.LBE370:
1091:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_dword(fs->win + FSI_StrucSig, 0x61417272);		/* Structure signature */
 1114              		.loc 1 1091 4 is_stmt 1 view .LVU390
 1115              	.LBB371:
 1116              	.LBI356:
 658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 1117              		.loc 1 658 13 view .LVU391
 1118              	.LBB360:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1119              		.loc 1 660 2 view .LVU392
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1120              		.loc 1 660 22 view .LVU393
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1121              		.loc 1 661 2 view .LVU394
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1122              		.loc 1 661 22 view .LVU395
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1123              		.loc 1 662 2 view .LVU396
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1124              		.loc 1 662 2 is_stmt 0 view .LVU397
 1125              	.LBE360:
 1126              	.LBE371:
1096:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->fsi_flag = 0;
 1127              		.loc 1 1096 4 view .LVU398
 1128 009a 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 1129              	.LBB372:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 90


 1130              	.LBB361:
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1131              		.loc 1 662 9 view .LVU399
 1132 009c 84F83260 		strb	r6, [r4, #50]
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1133              		.loc 1 662 22 is_stmt 1 view .LVU400
 1134              	.LVL115:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1135              		.loc 1 663 2 view .LVU401
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1136              		.loc 1 663 2 is_stmt 0 view .LVU402
 1137              	.LBE361:
 1138              	.LBE372:
 1139              	.LBB373:
 1140              	.LBB367:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1141              		.loc 1 663 9 view .LVU403
 1142 00a0 84F81762 		strb	r6, [r4, #535]
 1143              	.LBE367:
 1144              	.LBE373:
 1145              	.LBB374:
 1146              	.LBB362:
 1147 00a4 84F83350 		strb	r5, [r4, #51]
 1148              	.LVL116:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1149              		.loc 1 663 9 view .LVU404
 1150              	.LBE362:
 1151              	.LBE374:
1092:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_dword(fs->win + FSI_Free_Count, fs->free_clst);	/* Number of free clusters */
 1152              		.loc 1 1092 4 is_stmt 1 view .LVU405
 1153              	.LBB375:
 1154              	.LBI365:
 658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 1155              		.loc 1 658 13 view .LVU406
 1156              	.LBB368:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1157              		.loc 1 660 2 view .LVU407
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1158              		.loc 1 662 9 is_stmt 0 view .LVU408
 1159 00a8 84F81652 		strb	r5, [r4, #534]
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1160              		.loc 1 660 9 view .LVU409
 1161 00ac 84F81472 		strb	r7, [r4, #532]
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1162              		.loc 1 660 22 is_stmt 1 view .LVU410
 1163              	.LVL117:
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1164              		.loc 1 661 2 view .LVU411
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1165              		.loc 1 661 9 is_stmt 0 view .LVU412
 1166 00b0 84F81572 		strb	r7, [r4, #533]
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1167              		.loc 1 661 22 is_stmt 1 view .LVU413
 1168              	.LVL118:
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1169              		.loc 1 662 2 view .LVU414
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 91


 1170              		.loc 1 662 22 view .LVU415
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1171              		.loc 1 663 2 view .LVU416
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1172              		.loc 1 663 2 is_stmt 0 view .LVU417
 1173              	.LBE368:
 1174              	.LBE375:
1093:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_dword(fs->win + FSI_Nxt_Free, fs->last_clst);	/* Last allocated culuster */
 1175              		.loc 1 1093 4 is_stmt 1 view .LVU418
 1176              	.LBB376:
 1177              	.LBI338:
 658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 1178              		.loc 1 658 13 view .LVU419
 1179              	.LBB343:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1180              		.loc 1 660 2 view .LVU420
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1181              		.loc 1 660 22 view .LVU421
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1182              		.loc 1 661 2 view .LVU422
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1183              		.loc 1 661 22 view .LVU423
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1184              		.loc 1 662 2 view .LVU424
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1185              		.loc 1 662 22 view .LVU425
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1186              		.loc 1 663 2 view .LVU426
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1187              		.loc 1 663 2 is_stmt 0 view .LVU427
 1188              	.LBE343:
 1189              	.LBE376:
1094:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->winsect = fs->volbase + 1;						/* Write it into the FSInfo sector (Next to VBR) */
 1190              		.loc 1 1094 4 is_stmt 1 view .LVU428
 1191              	.LBB377:
 1192              	.LBI345:
 658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 1193              		.loc 1 658 13 view .LVU429
 1194              	.LBB349:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1195              		.loc 1 660 2 view .LVU430
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1196              		.loc 1 660 22 view .LVU431
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1197              		.loc 1 661 2 view .LVU432
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 1198              		.loc 1 661 22 view .LVU433
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1199              		.loc 1 662 2 view .LVU434
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1200              		.loc 1 662 22 view .LVU435
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1201              		.loc 1 663 2 view .LVU436
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1202              		.loc 1 663 2 is_stmt 0 view .LVU437
 1203              	.LBE349:
 1204              	.LBE377:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 92


1095:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			disk_write(fs->pdrv, fs->win, fs->winsect, 1);
 1205              		.loc 1 1095 4 is_stmt 1 view .LVU438
1096:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->fsi_flag = 0;
 1206              		.loc 1 1096 4 view .LVU439
 1207 00b4 FFF7FEFF 		bl	disk_write
 1208              	.LVL119:
1097:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 1209              		.loc 1 1097 4 view .LVU440
1097:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 1210              		.loc 1 1097 17 is_stmt 0 view .LVU441
 1211 00b8 0022     		movs	r2, #0
 1212 00ba 2271     		strb	r2, [r4, #4]
 1213 00bc A7E7     		b	.L87
 1214              		.cfi_endproc
 1215              	.LFE8:
 1217 00be 00BF     		.section	.text.move_window.part.0,"ax",%progbits
 1218              		.align	1
 1219              		.p2align 2,,3
 1220              		.syntax unified
 1221              		.thumb
 1222              		.thumb_func
 1223              		.fpu fpv4-sp-d16
 1225              	move_window.part.0:
 1226              	.LVL120:
 1227              	.LFB53:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 1228              		.loc 1 1047 16 is_stmt 1 view -0
 1229              		.cfi_startproc
 1230              		@ args = 0, pretend = 0, frame = 0
 1231              		@ frame_needed = 0, uses_anonymous_args = 0
1057:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 1232              		.loc 1 1057 3 view .LVU443
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 1233              		.loc 1 1047 16 is_stmt 0 view .LVU444
 1234 0000 38B5     		push	{r3, r4, r5, lr}
 1235              		.cfi_def_cfa_offset 16
 1236              		.cfi_offset 3, -16
 1237              		.cfi_offset 4, -12
 1238              		.cfi_offset 5, -8
 1239              		.cfi_offset 14, -4
 1240              	.LBB378:
 1241              	.LBB379:
1032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (disk_write(fs->pdrv, fs->win, fs->winsect, 1) == RES_OK) {	/* Write it back into the volume *
 1242              		.loc 1 1032 5 view .LVU445
 1243 0002 C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
 1244              	.LBE379:
 1245              	.LBE378:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 1246              		.loc 1 1047 16 view .LVU446
 1247 0004 0446     		mov	r4, r0
 1248              	.LVL121:
 1249              	.LBB383:
 1250              	.LBI378:
1025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs			/* Filesystem object */
 1251              		.loc 1 1025 16 is_stmt 1 view .LVU447
 1252              	.LBB380:
1029:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 93


 1253              		.loc 1 1029 2 view .LVU448
1032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (disk_write(fs->pdrv, fs->win, fs->winsect, 1) == RES_OK) {	/* Write it back into the volume *
 1254              		.loc 1 1032 2 view .LVU449
 1255              	.LBE380:
 1256              	.LBE383:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 1257              		.loc 1 1047 16 is_stmt 0 view .LVU450
 1258 0006 0D46     		mov	r5, r1
 1259              	.LBB384:
 1260              	.LBB381:
1032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (disk_write(fs->pdrv, fs->win, fs->winsect, 1) == RES_OK) {	/* Write it back into the volume *
 1261              		.loc 1 1032 5 view .LVU451
 1262 0008 6BB9     		cbnz	r3, .L97
 1263              	.LVL122:
 1264              	.L99:
1032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (disk_write(fs->pdrv, fs->win, fs->winsect, 1) == RES_OK) {	/* Write it back into the volume *
 1265              		.loc 1 1032 5 view .LVU452
 1266              	.LBE381:
 1267              	.LBE384:
1060:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				sect = (LBA_t)0 - 1;	/* Invalidate window if read data is not valid */
 1268              		.loc 1 1060 4 is_stmt 1 view .LVU453
1060:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				sect = (LBA_t)0 - 1;	/* Invalidate window if read data is not valid */
 1269              		.loc 1 1060 8 is_stmt 0 view .LVU454
 1270 000a 2A46     		mov	r2, r5
 1271 000c 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 1272 000e 0123     		movs	r3, #1
 1273 0010 04F13001 		add	r1, r4, #48
 1274 0014 FFF7FEFF 		bl	disk_read
 1275              	.LVL123:
1062:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 1276              		.loc 1 1062 9 view .LVU455
 1277 0018 0028     		cmp	r0, #0
 1278 001a 1CBF     		itt	ne
 1279 001c 4FF0FF35 		movne	r5, #-1
 1280              	.LVL124:
1062:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 1281              		.loc 1 1062 9 view .LVU456
 1282 0020 0120     		movne	r0, #1
 1283              	.LVL125:
1064:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 1284              		.loc 1 1064 4 is_stmt 1 view .LVU457
1064:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 1285              		.loc 1 1064 16 is_stmt 0 view .LVU458
 1286 0022 E562     		str	r5, [r4, #44]
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1287              		.loc 1 1067 2 is_stmt 1 view .LVU459
1068:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1288              		.loc 1 1068 1 is_stmt 0 view .LVU460
 1289 0024 38BD     		pop	{r3, r4, r5, pc}
 1290              	.LVL126:
 1291              	.L97:
 1292              	.LBB385:
 1293              	.LBB382:
1068:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1294              		.loc 1 1068 1 view .LVU461
 1295 0026 FFF7FEFF 		bl	sync_window.part.0
 1296              	.LVL127:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 94


1042:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1297              		.loc 1 1042 2 is_stmt 1 view .LVU462
1042:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1298              		.loc 1 1042 2 is_stmt 0 view .LVU463
 1299              	.LBE382:
 1300              	.LBE385:
1059:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (disk_read(fs->pdrv, fs->win, sect, 1) != RES_OK) {
 1301              		.loc 1 1059 3 is_stmt 1 view .LVU464
1059:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (disk_read(fs->pdrv, fs->win, sect, 1) != RES_OK) {
 1302              		.loc 1 1059 6 is_stmt 0 view .LVU465
 1303 002a 0028     		cmp	r0, #0
 1304 002c EDD0     		beq	.L99
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1305              		.loc 1 1067 2 is_stmt 1 view .LVU466
1068:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1306              		.loc 1 1068 1 is_stmt 0 view .LVU467
 1307 002e 38BD     		pop	{r3, r4, r5, pc}
1068:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1308              		.loc 1 1068 1 view .LVU468
 1309              		.cfi_endproc
 1310              	.LFE53:
 1312              		.section	.rodata.check_fs.str1.4,"aMS",%progbits,1
 1313              		.align	2
 1314              	.LC0:
 1315 0000 46415433 		.ascii	"FAT32   \000"
 1315      32202020 
 1315      00
 1316              		.section	.text.check_fs,"ax",%progbits
 1317              		.align	1
 1318              		.p2align 2,,3
 1319              		.syntax unified
 1320              		.thumb
 1321              		.thumb_func
 1322              		.fpu fpv4-sp-d16
 1324              	check_fs:
 1325              	.LVL128:
 1326              	.LFB28:
3242:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WORD w, sign;
 1327              		.loc 1 3242 1 is_stmt 1 view -0
 1328              		.cfi_startproc
 1329              		@ args = 0, pretend = 0, frame = 0
 1330              		@ frame_needed = 0, uses_anonymous_args = 0
3243:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE b;
 1331              		.loc 1 3243 2 view .LVU470
3244:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1332              		.loc 1 3244 2 view .LVU471
3247:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load the boot sector */
 1333              		.loc 1 3247 2 view .LVU472
3242:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WORD w, sign;
 1334              		.loc 1 3242 1 is_stmt 0 view .LVU473
 1335 0000 38B5     		push	{r3, r4, r5, lr}
 1336              		.cfi_def_cfa_offset 16
 1337              		.cfi_offset 3, -16
 1338              		.cfi_offset 4, -12
 1339              		.cfi_offset 5, -8
 1340              		.cfi_offset 14, -4
3247:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load the boot sector */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 95


 1341              		.loc 1 3247 29 view .LVU474
 1342 0002 4FF0FF33 		mov	r3, #-1
3247:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load the boot sector */
 1343              		.loc 1 3247 12 view .LVU475
 1344 0006 0022     		movs	r2, #0
 1345              	.LBB386:
 1346              	.LBB387:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1347              		.loc 1 1055 5 view .LVU476
 1348 0008 9942     		cmp	r1, r3
 1349              	.LBE387:
 1350              	.LBE386:
3242:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WORD w, sign;
 1351              		.loc 1 3242 1 view .LVU477
 1352 000a 0446     		mov	r4, r0
3247:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load the boot sector */
 1353              		.loc 1 3247 12 view .LVU478
 1354 000c C270     		strb	r2, [r0, #3]
3247:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load the boot sector */
 1355              		.loc 1 3247 17 is_stmt 1 view .LVU479
3247:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load the boot sector */
 1356              		.loc 1 3247 29 is_stmt 0 view .LVU480
 1357 000e C362     		str	r3, [r0, #44]
3248:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sign = ld_word(fs->win + BS_55AA);
 1358              		.loc 1 3248 2 is_stmt 1 view .LVU481
 1359              	.LVL129:
 1360              	.LBB389:
 1361              	.LBI386:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 1362              		.loc 1 1047 16 view .LVU482
 1363              	.LBB388:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1364              		.loc 1 1052 2 view .LVU483
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1365              		.loc 1 1055 2 view .LVU484
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1366              		.loc 1 1055 5 is_stmt 0 view .LVU485
 1367 0010 03D0     		beq	.L113
 1368 0012 FFF7FEFF 		bl	move_window.part.0
 1369              	.LVL130:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1370              		.loc 1 1067 2 is_stmt 1 view .LVU486
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1371              		.loc 1 1067 2 is_stmt 0 view .LVU487
 1372              	.LBE388:
 1373              	.LBE389:
3248:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sign = ld_word(fs->win + BS_55AA);
 1374              		.loc 1 3248 5 view .LVU488
 1375 0016 0028     		cmp	r0, #0
 1376 0018 44D1     		bne	.L149
 1377              	.L113:
3249:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 1378              		.loc 1 3249 2 is_stmt 1 view .LVU489
 1379              	.LVL131:
 1380              	.LBB390:
 1381              	.LBI390:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 96


 1382              		.loc 1 614 13 view .LVU490
 1383              	.LBB391:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1384              		.loc 1 616 2 view .LVU491
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 1385              		.loc 1 618 2 view .LVU492
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1386              		.loc 1 619 2 view .LVU493
 1387              	.LBE391:
 1388              	.LBE390:
3253:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (b == 0xEB || b == 0xE9 || b == 0xE8) {	/* Valid JumpBoot code? (short jump, near jump or near 
 1389              		.loc 1 3253 4 is_stmt 0 view .LVU494
 1390 001a 94F83010 		ldrb	r1, [r4, #48]	@ zero_extendqisi2
 1391              	.LBB394:
 1392              	.LBB392:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1393              		.loc 1 619 10 view .LVU495
 1394 001e 94F82F02 		ldrb	r0, [r4, #559]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1395              		.loc 1 619 20 view .LVU496
 1396 0022 94F82E52 		ldrb	r5, [r4, #558]	@ zero_extendqisi2
 1397              	.LBE392:
 1398              	.LBE394:
3254:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (sign == 0xAA55 && !memcmp(fs->win + BS_FilSysType32, "FAT32   ", 8)) {
 1399              		.loc 1 3254 5 view .LVU497
 1400 0026 EB29     		cmp	r1, #235
 1401              	.LBB395:
 1402              	.LBB393:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1403              		.loc 1 619 5 view .LVU498
 1404 0028 45EA0025 		orr	r5, r5, r0, lsl #8
 1405              	.LVL132:
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1406              		.loc 1 620 2 is_stmt 1 view .LVU499
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1407              		.loc 1 620 2 is_stmt 0 view .LVU500
 1408              	.LBE393:
 1409              	.LBE395:
3253:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (b == 0xEB || b == 0xE9 || b == 0xE8) {	/* Valid JumpBoot code? (short jump, near jump or near 
 1410              		.loc 1 3253 2 is_stmt 1 view .LVU501
3254:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (sign == 0xAA55 && !memcmp(fs->win + BS_FilSysType32, "FAT32   ", 8)) {
 1411              		.loc 1 3254 2 view .LVU502
3254:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (sign == 0xAA55 && !memcmp(fs->win + BS_FilSysType32, "FAT32   ", 8)) {
 1412              		.loc 1 3254 5 is_stmt 0 view .LVU503
 1413 002c 0AD0     		beq	.L110
3254:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (sign == 0xAA55 && !memcmp(fs->win + BS_FilSysType32, "FAT32   ", 8)) {
 1414              		.loc 1 3254 29 discriminator 2 view .LVU504
 1415 002e 1831     		adds	r1, r1, #24
 1416              	.LVL133:
3254:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (sign == 0xAA55 && !memcmp(fs->win + BS_FilSysType32, "FAT32   ", 8)) {
 1417              		.loc 1 3254 29 discriminator 2 view .LVU505
 1418 0030 CAB2     		uxtb	r2, r1
 1419 0032 012A     		cmp	r2, #1
 1420 0034 06D9     		bls	.L110
 1421              	.LVL134:
 1422              	.L114:
3271:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 97


 1423              		.loc 1 3271 2 is_stmt 1 view .LVU506
3271:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1424              		.loc 1 3271 28 is_stmt 0 view .LVU507
 1425 0036 4AF65521 		movw	r1, #43605
 1426 003a 8D42     		cmp	r5, r1
 1427 003c 14BF     		ite	ne
 1428 003e 0320     		movne	r0, #3
 1429 0040 0220     		moveq	r0, #2
 1430              	.L108:
3272:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1431              		.loc 1 3272 1 view .LVU508
 1432 0042 38BD     		pop	{r3, r4, r5, pc}
 1433              	.LVL135:
 1434              	.L110:
3255:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			return 0;	/* It is an FAT32 VBR */
 1435              		.loc 1 3255 3 is_stmt 1 view .LVU509
3255:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			return 0;	/* It is an FAT32 VBR */
 1436              		.loc 1 3255 6 is_stmt 0 view .LVU510
 1437 0044 4AF6552C 		movw	ip, #43605
 1438 0048 6545     		cmp	r5, ip
 1439 004a 11D0     		beq	.L150
3259:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		b = fs->win[BPB_SecPerClus];
 1440              		.loc 1 3259 3 is_stmt 1 view .LVU511
 1441              	.LVL136:
 1442              	.LBB396:
 1443              	.LBI396:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 1444              		.loc 1 614 13 view .LVU512
 1445              	.LBB397:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1446              		.loc 1 616 2 view .LVU513
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 1447              		.loc 1 618 2 view .LVU514
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1448              		.loc 1 619 2 view .LVU515
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1449              		.loc 1 619 10 is_stmt 0 view .LVU516
 1450 004c 94F83C00 		ldrb	r0, [r4, #60]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1451              		.loc 1 619 20 view .LVU517
 1452 0050 94F83B30 		ldrb	r3, [r4, #59]	@ zero_extendqisi2
 1453              	.LBE397:
 1454              	.LBE396:
3260:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if ((w & (w - 1)) == 0 && w >= FF_MIN_SS && w <= FF_MAX_SS	/* Properness of sector size (512-4096
 1455              		.loc 1 3260 5 view .LVU518
 1456 0054 94F83D10 		ldrb	r1, [r4, #61]	@ zero_extendqisi2
 1457              	.LBB401:
 1458              	.LBB398:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1459              		.loc 1 619 5 view .LVU519
 1460 0058 43EA002C 		orr	ip, r3, r0, lsl #8
 1461              	.LVL137:
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1462              		.loc 1 620 2 is_stmt 1 view .LVU520
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1463              		.loc 1 620 2 is_stmt 0 view .LVU521
 1464              	.LBE398:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 98


 1465              	.LBE401:
3260:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if ((w & (w - 1)) == 0 && w >= FF_MIN_SS && w <= FF_MAX_SS	/* Properness of sector size (512-4096
 1466              		.loc 1 3260 3 is_stmt 1 view .LVU522
3261:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& b != 0 && (b & (b - 1)) == 0				/* Properness of cluster size (2^n) */
 1467              		.loc 1 3261 3 view .LVU523
3261:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& b != 0 && (b & (b - 1)) == 0				/* Properness of cluster size (2^n) */
 1468              		.loc 1 3261 15 is_stmt 0 view .LVU524
 1469 005c 0CF1FF32 		add	r2, ip, #-1
3261:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& b != 0 && (b & (b - 1)) == 0				/* Properness of cluster size (2^n) */
 1470              		.loc 1 3261 6 view .LVU525
 1471 0060 12EA0C0F 		tst	r2, ip
 1472 0064 02D1     		bne	.L148
3261:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& b != 0 && (b & (b - 1)) == 0				/* Properness of cluster size (2^n) */
 1473              		.loc 1 3261 44 view .LVU526
 1474 0066 BCF5007F 		cmp	ip, #512
 1475 006a 1DD0     		beq	.L151
 1476              	.L148:
3271:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1477              		.loc 1 3271 28 view .LVU527
 1478 006c 0320     		movs	r0, #3
3272:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1479              		.loc 1 3272 1 view .LVU528
 1480 006e 38BD     		pop	{r3, r4, r5, pc}
 1481              	.LVL138:
 1482              	.L150:
3255:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			return 0;	/* It is an FAT32 VBR */
 1483              		.loc 1 3255 26 discriminator 1 view .LVU529
 1484 0070 2C49     		ldr	r1, .L152
 1485 0072 0822     		movs	r2, #8
 1486 0074 04F18200 		add	r0, r4, #130
 1487 0078 FFF7FEFF 		bl	memcmp
 1488              	.LVL139:
3255:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			return 0;	/* It is an FAT32 VBR */
 1489              		.loc 1 3255 22 discriminator 1 view .LVU530
 1490 007c 0028     		cmp	r0, #0
 1491 007e E0D0     		beq	.L108
3259:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		b = fs->win[BPB_SecPerClus];
 1492              		.loc 1 3259 3 is_stmt 1 view .LVU531
 1493              	.LVL140:
 1494              	.LBB402:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 1495              		.loc 1 614 13 view .LVU532
 1496              	.LBB399:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1497              		.loc 1 616 2 view .LVU533
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 1498              		.loc 1 618 2 view .LVU534
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1499              		.loc 1 619 2 view .LVU535
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1500              		.loc 1 619 10 is_stmt 0 view .LVU536
 1501 0080 94F83CE0 		ldrb	lr, [r4, #60]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1502              		.loc 1 619 20 view .LVU537
 1503 0084 94F83B30 		ldrb	r3, [r4, #59]	@ zero_extendqisi2
 1504              	.LBE399:
 1505              	.LBE402:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 99


3260:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if ((w & (w - 1)) == 0 && w >= FF_MIN_SS && w <= FF_MAX_SS	/* Properness of sector size (512-4096
 1506              		.loc 1 3260 5 view .LVU538
 1507 0088 94F83D10 		ldrb	r1, [r4, #61]	@ zero_extendqisi2
 1508              	.LBB403:
 1509              	.LBB400:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1510              		.loc 1 619 5 view .LVU539
 1511 008c 43EA0E2C 		orr	ip, r3, lr, lsl #8
 1512              	.LVL141:
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1513              		.loc 1 620 2 is_stmt 1 view .LVU540
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1514              		.loc 1 620 2 is_stmt 0 view .LVU541
 1515              	.LBE400:
 1516              	.LBE403:
3260:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if ((w & (w - 1)) == 0 && w >= FF_MIN_SS && w <= FF_MAX_SS	/* Properness of sector size (512-4096
 1517              		.loc 1 3260 3 is_stmt 1 view .LVU542
3261:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& b != 0 && (b & (b - 1)) == 0				/* Properness of cluster size (2^n) */
 1518              		.loc 1 3261 3 view .LVU543
3261:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& b != 0 && (b & (b - 1)) == 0				/* Properness of cluster size (2^n) */
 1519              		.loc 1 3261 15 is_stmt 0 view .LVU544
 1520 0090 0CF1FF32 		add	r2, ip, #-1
3261:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& b != 0 && (b & (b - 1)) == 0				/* Properness of cluster size (2^n) */
 1521              		.loc 1 3261 6 view .LVU545
 1522 0094 12EA0C0F 		tst	r2, ip
 1523 0098 02D1     		bne	.L147
3261:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& b != 0 && (b & (b - 1)) == 0				/* Properness of cluster size (2^n) */
 1524              		.loc 1 3261 44 view .LVU546
 1525 009a BCF5007F 		cmp	ip, #512
 1526 009e 3AD0     		beq	.L120
 1527              	.L147:
3271:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1528              		.loc 1 3271 28 view .LVU547
 1529 00a0 0220     		movs	r0, #2
3272:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1530              		.loc 1 3272 1 view .LVU548
 1531 00a2 38BD     		pop	{r3, r4, r5, pc}
 1532              	.LVL142:
 1533              	.L149:
3248:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sign = ld_word(fs->win + BS_55AA);
 1534              		.loc 1 3248 45 view .LVU549
 1535 00a4 0420     		movs	r0, #4
3272:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1536              		.loc 1 3272 1 view .LVU550
 1537 00a6 38BD     		pop	{r3, r4, r5, pc}
 1538              	.LVL143:
 1539              	.L151:
3262:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_RsvdSecCnt) != 0	/* Properness of reserved sectors (MNBZ) */
 1540              		.loc 1 3262 4 view .LVU551
 1541 00a8 0029     		cmp	r1, #0
 1542 00aa DFD0     		beq	.L148
3262:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_RsvdSecCnt) != 0	/* Properness of reserved sectors (MNBZ) */
 1543              		.loc 1 3262 25 view .LVU552
 1544 00ac 481E     		subs	r0, r1, #1
3262:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_RsvdSecCnt) != 0	/* Properness of reserved sectors (MNBZ) */
 1545              		.loc 1 3262 14 view .LVU553
 1546 00ae 0842     		tst	r0, r1
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 100


 1547 00b0 DCD1     		bne	.L148
 1548              	.L123:
 1549              	.LVL144:
 1550              	.LBB404:
 1551              	.LBI404:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 1552              		.loc 1 614 13 is_stmt 1 view .LVU554
 1553              	.LBB405:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1554              		.loc 1 616 2 view .LVU555
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 1555              		.loc 1 618 2 view .LVU556
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1556              		.loc 1 619 2 view .LVU557
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1557              		.loc 1 620 2 view .LVU558
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1558              		.loc 1 619 10 is_stmt 0 view .LVU559
 1559 00b2 94F83F10 		ldrb	r1, [r4, #63]	@ zero_extendqisi2
 1560              	.LVL145:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1561              		.loc 1 619 20 view .LVU560
 1562 00b6 94F83E30 		ldrb	r3, [r4, #62]	@ zero_extendqisi2
 1563              	.LBE405:
 1564              	.LBE404:
3263:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& (UINT)fs->win[BPB_NumFATs] - 1 <= 1		/* Properness of FATs (1 or 2) */
 1565              		.loc 1 3263 4 view .LVU561
 1566 00ba 53EA0123 		orrs	r3, r3, r1, lsl #8
 1567 00be BAD0     		beq	.L114
3264:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_RootEntCnt) != 0	/* Properness of root dir entries (MNBZ) */
 1568              		.loc 1 3264 7 view .LVU562
 1569 00c0 94F840C0 		ldrb	ip, [r4, #64]	@ zero_extendqisi2
 1570              	.LVL146:
3264:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_RootEntCnt) != 0	/* Properness of root dir entries (MNBZ) */
 1571              		.loc 1 3264 34 view .LVU563
 1572 00c4 0CF1FF32 		add	r2, ip, #-1
3264:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_RootEntCnt) != 0	/* Properness of root dir entries (MNBZ) */
 1573              		.loc 1 3264 4 view .LVU564
 1574 00c8 012A     		cmp	r2, #1
 1575 00ca B4D8     		bhi	.L114
 1576              	.LVL147:
 1577              	.LBB406:
 1578              	.LBI406:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 1579              		.loc 1 614 13 is_stmt 1 view .LVU565
 1580              	.LBB407:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1581              		.loc 1 616 2 view .LVU566
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 1582              		.loc 1 618 2 view .LVU567
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1583              		.loc 1 619 2 view .LVU568
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1584              		.loc 1 620 2 view .LVU569
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1585              		.loc 1 619 10 is_stmt 0 view .LVU570
 1586 00cc 94F84200 		ldrb	r0, [r4, #66]	@ zero_extendqisi2
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 101


 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1587              		.loc 1 619 20 view .LVU571
 1588 00d0 94F84110 		ldrb	r1, [r4, #65]	@ zero_extendqisi2
 1589              	.LBE407:
 1590              	.LBE406:
3265:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& (ld_word(fs->win + BPB_TotSec16) >= 128 || ld_dword(fs->win + BPB_TotSec32) >= 0x10000)	/* Pr
 1591              		.loc 1 3265 4 view .LVU572
 1592 00d4 51EA0023 		orrs	r3, r1, r0, lsl #8
 1593 00d8 ADD0     		beq	.L114
 1594              	.LVL148:
 1595              	.LBB408:
 1596              	.LBI408:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 1597              		.loc 1 614 13 is_stmt 1 view .LVU573
 1598              	.LBB409:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1599              		.loc 1 616 2 view .LVU574
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 1600              		.loc 1 618 2 view .LVU575
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1601              		.loc 1 619 2 view .LVU576
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1602              		.loc 1 620 2 view .LVU577
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1603              		.loc 1 619 10 is_stmt 0 view .LVU578
 1604 00da 94F844C0 		ldrb	ip, [r4, #68]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1605              		.loc 1 619 20 view .LVU579
 1606 00de 94F84330 		ldrb	r3, [r4, #67]	@ zero_extendqisi2
 1607              	.LBE409:
 1608              	.LBE408:
3266:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_FATSz16) != 0) {	/* Properness of FAT size (MNBZ) */
 1609              		.loc 1 3266 4 view .LVU580
 1610 00e2 43EA0C22 		orr	r2, r3, ip, lsl #8
 1611 00e6 7F2A     		cmp	r2, #127
 1612 00e8 0CD8     		bhi	.L117
 1613              	.LVL149:
 1614              	.LBB410:
 1615              	.LBI410:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 1616              		.loc 1 623 14 is_stmt 1 discriminator 1 view .LVU581
 1617              	.LBB411:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1618              		.loc 1 625 2 discriminator 1 view .LVU582
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 1619              		.loc 1 627 2 discriminator 1 view .LVU583
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 1620              		.loc 1 628 2 discriminator 1 view .LVU584
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 1621              		.loc 1 629 2 discriminator 1 view .LVU585
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 1622              		.loc 1 628 5 is_stmt 0 discriminator 1 view .LVU586
 1623 00ea B4F85200 		ldrh	r0, [r4, #82]	@ unaligned
 1624              	.LVL150:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1625              		.loc 1 630 2 is_stmt 1 discriminator 1 view .LVU587
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 102


 1626              		.loc 1 629 20 is_stmt 0 discriminator 1 view .LVU588
 1627 00ee 94F85110 		ldrb	r1, [r4, #81]	@ zero_extendqisi2
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1628              		.loc 1 630 20 discriminator 1 view .LVU589
 1629 00f2 94F850C0 		ldrb	ip, [r4, #80]	@ zero_extendqisi2
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 1630              		.loc 1 629 5 discriminator 1 view .LVU590
 1631 00f6 41EA0023 		orr	r3, r1, r0, lsl #8
 1632              	.LVL151:
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1633              		.loc 1 631 2 is_stmt 1 discriminator 1 view .LVU591
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1634              		.loc 1 630 5 is_stmt 0 discriminator 1 view .LVU592
 1635 00fa 4CEA0322 		orr	r2, ip, r3, lsl #8
 1636              	.LBE411:
 1637              	.LBE410:
3266:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_FATSz16) != 0) {	/* Properness of FAT size (MNBZ) */
 1638              		.loc 1 3266 47 discriminator 1 view .LVU593
 1639 00fe B2F5803F 		cmp	r2, #65536
 1640 0102 98D3     		bcc	.L114
 1641              	.L117:
 1642              	.LVL152:
 1643              	.LBB412:
 1644              	.LBI412:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 1645              		.loc 1 614 13 is_stmt 1 view .LVU594
 1646              	.LBB413:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1647              		.loc 1 616 2 view .LVU595
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 1648              		.loc 1 618 2 view .LVU596
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1649              		.loc 1 619 2 view .LVU597
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1650              		.loc 1 620 2 view .LVU598
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1651              		.loc 1 619 10 is_stmt 0 view .LVU599
 1652 0104 94F84700 		ldrb	r0, [r4, #71]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1653              		.loc 1 619 20 view .LVU600
 1654 0108 94F84640 		ldrb	r4, [r4, #70]	@ zero_extendqisi2
 1655              	.LVL153:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 1656              		.loc 1 619 20 view .LVU601
 1657              	.LBE413:
 1658              	.LBE412:
3267:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				return 0;	/* It can be presumed an FAT VBR */
 1659              		.loc 1 3267 4 view .LVU602
 1660 010c 54EA0023 		orrs	r3, r4, r0, lsl #8
 1661 0110 91D0     		beq	.L114
3256:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 1662              		.loc 1 3256 11 view .LVU603
 1663 0112 0020     		movs	r0, #0
3272:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1664              		.loc 1 3272 1 view .LVU604
 1665 0114 38BD     		pop	{r3, r4, r5, pc}
 1666              	.LVL154:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 103


 1667              	.L120:
3262:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_RsvdSecCnt) != 0	/* Properness of reserved sectors (MNBZ) */
 1668              		.loc 1 3262 4 view .LVU605
 1669 0116 0029     		cmp	r1, #0
 1670 0118 C2D0     		beq	.L147
3262:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_RsvdSecCnt) != 0	/* Properness of reserved sectors (MNBZ) */
 1671              		.loc 1 3262 25 view .LVU606
 1672 011a 481E     		subs	r0, r1, #1
3262:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_RsvdSecCnt) != 0	/* Properness of reserved sectors (MNBZ) */
 1673              		.loc 1 3262 14 view .LVU607
 1674 011c 0842     		tst	r0, r1
 1675 011e BFD1     		bne	.L147
 1676 0120 C7E7     		b	.L123
 1677              	.L153:
 1678 0122 00BF     		.align	2
 1679              	.L152:
 1680 0124 00000000 		.word	.LC0
 1681              		.cfi_endproc
 1682              	.LFE28:
 1684              		.section	.text.dir_remove,"ax",%progbits
 1685              		.align	1
 1686              		.p2align 2,,3
 1687              		.syntax unified
 1688              		.thumb
 1689              		.thumb_func
 1690              		.fpu fpv4-sp-d16
 1692              	dir_remove:
 1693              	.LVL155:
 1694              	.LFB23:
2543:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 1695              		.loc 1 2543 1 is_stmt 1 view -0
 1696              		.cfi_startproc
 1697              		@ args = 0, pretend = 0, frame = 0
 1698              		@ frame_needed = 0, uses_anonymous_args = 0
2544:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
 1699              		.loc 1 2544 2 view .LVU609
2545:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
 1700              		.loc 1 2545 2 view .LVU610
2543:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 1701              		.loc 1 2543 1 is_stmt 0 view .LVU611
 1702 0000 38B5     		push	{r3, r4, r5, lr}
 1703              		.cfi_def_cfa_offset 16
 1704              		.cfi_offset 3, -16
 1705              		.cfi_offset 4, -12
 1706              		.cfi_offset 5, -8
 1707              		.cfi_offset 14, -4
2545:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
 1708              		.loc 1 2545 9 view .LVU612
 1709 0002 0568     		ldr	r5, [r0]
 1710              	.LVL156:
2567:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
 1711              		.loc 1 2567 2 is_stmt 1 view .LVU613
2567:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
 1712              		.loc 1 2567 8 is_stmt 0 view .LVU614
 1713 0004 8169     		ldr	r1, [r0, #24]
 1714              	.LVL157:
 1715              	.LBB414:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 104


 1716              	.LBI414:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 1717              		.loc 1 1047 16 is_stmt 1 view .LVU615
 1718              	.LBB415:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1719              		.loc 1 1052 2 view .LVU616
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1720              		.loc 1 1055 2 view .LVU617
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1721              		.loc 1 1055 5 is_stmt 0 view .LVU618
 1722 0006 EB6A     		ldr	r3, [r5, #44]
 1723 0008 9942     		cmp	r1, r3
 1724              	.LBE415:
 1725              	.LBE414:
2543:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 1726              		.loc 1 2543 1 view .LVU619
 1727 000a 0446     		mov	r4, r0
 1728              	.LBB417:
 1729              	.LBB416:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1730              		.loc 1 1055 5 view .LVU620
 1731 000c 03D0     		beq	.L157
 1732 000e 2846     		mov	r0, r5
 1733              	.LVL158:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1734              		.loc 1 1055 5 view .LVU621
 1735 0010 FFF7FEFF 		bl	move_window.part.0
 1736              	.LVL159:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1737              		.loc 1 1067 2 is_stmt 1 view .LVU622
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1738              		.loc 1 1067 2 is_stmt 0 view .LVU623
 1739              	.LBE416:
 1740              	.LBE417:
2568:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->dir[DIR_Name] = DDEM;	/* Mark the entry 'deleted'.*/
 1741              		.loc 1 2568 2 is_stmt 1 view .LVU624
2568:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->dir[DIR_Name] = DDEM;	/* Mark the entry 'deleted'.*/
 1742              		.loc 1 2568 5 is_stmt 0 view .LVU625
 1743 0014 28B9     		cbnz	r0, .L156
 1744              	.LVL160:
 1745              	.L157:
2569:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->wflag = 1;
 1746              		.loc 1 2569 3 is_stmt 1 view .LVU626
2569:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->wflag = 1;
 1747              		.loc 1 2569 5 is_stmt 0 view .LVU627
 1748 0016 E269     		ldr	r2, [r4, #28]
2569:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->wflag = 1;
 1749              		.loc 1 2569 21 view .LVU628
 1750 0018 E521     		movs	r1, #229
2570:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 1751              		.loc 1 2570 13 view .LVU629
 1752 001a 0124     		movs	r4, #1
 1753              	.LVL161:
2569:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->wflag = 1;
 1754              		.loc 1 2569 21 view .LVU630
 1755 001c 1170     		strb	r1, [r2]
2570:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 105


 1756              		.loc 1 2570 3 is_stmt 1 view .LVU631
2570:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 1757              		.loc 1 2570 13 is_stmt 0 view .LVU632
 1758 001e 0020     		movs	r0, #0
 1759 0020 EC70     		strb	r4, [r5, #3]
 1760              	.L156:
2574:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1761              		.loc 1 2574 2 is_stmt 1 view .LVU633
2575:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1762              		.loc 1 2575 1 is_stmt 0 view .LVU634
 1763 0022 38BD     		pop	{r3, r4, r5, pc}
2575:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1764              		.loc 1 2575 1 view .LVU635
 1765              		.cfi_endproc
 1766              	.LFE23:
 1768              		.section	.text.put_fat.part.0,"ax",%progbits
 1769              		.align	1
 1770              		.p2align 2,,3
 1771              		.syntax unified
 1772              		.thumb
 1773              		.thumb_func
 1774              		.fpu fpv4-sp-d16
 1776              	put_fat.part.0:
 1777              	.LVL162:
 1778              	.LFB54:
1209:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Corresponding filesystem object */
 1779              		.loc 1 1209 16 is_stmt 1 view -0
 1780              		.cfi_startproc
 1781              		@ args = 0, pretend = 0, frame = 0
 1782              		@ frame_needed = 0, uses_anonymous_args = 0
1221:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		case FS_FAT12:
 1783              		.loc 1 1221 3 view .LVU637
1209:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Corresponding filesystem object */
 1784              		.loc 1 1209 16 is_stmt 0 view .LVU638
 1785 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1786              		.cfi_def_cfa_offset 32
 1787              		.cfi_offset 3, -32
 1788              		.cfi_offset 4, -28
 1789              		.cfi_offset 5, -24
 1790              		.cfi_offset 6, -20
 1791              		.cfi_offset 7, -16
 1792              		.cfi_offset 8, -12
 1793              		.cfi_offset 9, -8
 1794              		.cfi_offset 14, -4
1221:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		case FS_FAT12:
 1795              		.loc 1 1221 13 view .LVU639
 1796 0004 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
1221:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		case FS_FAT12:
 1797              		.loc 1 1221 3 view .LVU640
 1798 0006 022B     		cmp	r3, #2
1209:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Corresponding filesystem object */
 1799              		.loc 1 1209 16 view .LVU641
 1800 0008 0446     		mov	r4, r0
 1801 000a 0D46     		mov	r5, r1
 1802 000c 1646     		mov	r6, r2
1221:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		case FS_FAT12:
 1803              		.loc 1 1221 3 view .LVU642
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 106


 1804 000e 06D0     		beq	.L163
 1805 0010 032B     		cmp	r3, #3
 1806 0012 52D0     		beq	.L164
 1807 0014 012B     		cmp	r3, #1
 1808 0016 1BD0     		beq	.L194
 1809 0018 0220     		movs	r0, #2
 1810              	.LVL163:
 1811              	.L184:
1258:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1812              		.loc 1 1258 1 view .LVU643
 1813 001a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1814              	.LVL164:
 1815              	.L163:
1237:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 1816              		.loc 1 1237 4 is_stmt 1 view .LVU644
1237:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 1817              		.loc 1 1237 10 is_stmt 0 view .LVU645
 1818 001e 016A     		ldr	r1, [r0, #32]
 1819              	.LVL165:
 1820              	.LBB418:
 1821              	.LBB419:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1822              		.loc 1 1055 5 view .LVU646
 1823 0020 C26A     		ldr	r2, [r0, #44]
 1824              	.LVL166:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1825              		.loc 1 1055 5 view .LVU647
 1826              	.LBE419:
 1827              	.LBE418:
1237:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 1828              		.loc 1 1237 10 view .LVU648
 1829 0022 01EB1521 		add	r1, r1, r5, lsr #8
 1830              	.LVL167:
 1831              	.LBB421:
 1832              	.LBI418:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 1833              		.loc 1 1047 16 is_stmt 1 view .LVU649
 1834              	.LBB420:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1835              		.loc 1 1052 2 view .LVU650
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1836              		.loc 1 1055 2 view .LVU651
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1837              		.loc 1 1055 5 is_stmt 0 view .LVU652
 1838 0026 9142     		cmp	r1, r2
 1839 0028 03D0     		beq	.L176
 1840 002a FFF7FEFF 		bl	move_window.part.0
 1841              	.LVL168:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1842              		.loc 1 1067 2 is_stmt 1 view .LVU653
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1843              		.loc 1 1067 2 is_stmt 0 view .LVU654
 1844              	.LBE420:
 1845              	.LBE421:
1238:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);	/* Simple WORD array */
 1846              		.loc 1 1238 4 is_stmt 1 view .LVU655
1238:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);	/* Simple WORD array */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 107


 1847              		.loc 1 1238 7 is_stmt 0 view .LVU656
 1848 002e 0028     		cmp	r0, #0
 1849 0030 F3D1     		bne	.L184
 1850              	.LVL169:
 1851              	.L176:
1239:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 1852              		.loc 1 1239 4 is_stmt 1 view .LVU657
1239:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 1853              		.loc 1 1239 27 is_stmt 0 view .LVU658
 1854 0032 6800     		lsls	r0, r5, #1
1239:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 1855              		.loc 1 1239 31 view .LVU659
 1856 0034 00F4FF77 		and	r7, r0, #510
1239:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 1857              		.loc 1 1239 12 view .LVU660
 1858 0038 04F13003 		add	r3, r4, #48
1239:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 1859              		.loc 1 1239 4 view .LVU661
 1860 003c DD19     		adds	r5, r3, r7
 1861              	.LVL170:
 1862              	.LBB422:
 1863              	.LBI422:
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 1864              		.loc 1 652 13 is_stmt 1 view .LVU662
 1865              	.LBB423:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1866              		.loc 1 654 2 view .LVU663
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1867              		.loc 1 654 11 is_stmt 0 view .LVU664
 1868 003e DE55     		strb	r6, [r3, r7]
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1869              		.loc 1 654 26 view .LVU665
 1870 0040 C6F30721 		ubfx	r1, r6, #8, #8
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 1871              		.loc 1 654 22 is_stmt 1 view .LVU666
 1872              	.LVL171:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1873              		.loc 1 655 2 view .LVU667
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1874              		.loc 1 655 2 is_stmt 0 view .LVU668
 1875              	.LBE423:
 1876              	.LBE422:
1240:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 1877              		.loc 1 1240 14 view .LVU669
 1878 0044 0126     		movs	r6, #1
 1879              	.LVL172:
 1880              	.LBB425:
 1881              	.LBB424:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1882              		.loc 1 655 11 view .LVU670
 1883 0046 6970     		strb	r1, [r5, #1]
 1884              	.LVL173:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1885              		.loc 1 655 11 view .LVU671
 1886              	.LBE424:
 1887              	.LBE425:
1240:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 108


 1888              		.loc 1 1240 4 is_stmt 1 view .LVU672
1240:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 1889              		.loc 1 1240 14 is_stmt 0 view .LVU673
 1890 0048 E670     		strb	r6, [r4, #3]
1241:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1891              		.loc 1 1241 4 is_stmt 1 view .LVU674
 1892 004a 0020     		movs	r0, #0
1258:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1893              		.loc 1 1258 1 is_stmt 0 view .LVU675
 1894 004c BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1895              	.LVL174:
 1896              	.L194:
1223:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 1897              		.loc 1 1223 4 is_stmt 1 view .LVU676
1223:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 1898              		.loc 1 1223 21 view .LVU677
1224:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 1899              		.loc 1 1224 10 is_stmt 0 view .LVU678
 1900 0050 026A     		ldr	r2, [r0, #32]
 1901              	.LVL175:
 1902              	.LBB426:
 1903              	.LBB427:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1904              		.loc 1 1055 5 view .LVU679
 1905 0052 C36A     		ldr	r3, [r0, #44]
 1906              	.LBE427:
 1907              	.LBE426:
1223:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 1908              		.loc 1 1223 24 view .LVU680
 1909 0054 01EB5107 		add	r7, r1, r1, lsr #1
 1910              	.LVL176:
1224:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 1911              		.loc 1 1224 4 is_stmt 1 view .LVU681
1224:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 1912              		.loc 1 1224 10 is_stmt 0 view .LVU682
 1913 0058 02EB5721 		add	r1, r2, r7, lsr #9
 1914              	.LVL177:
 1915              	.LBB429:
 1916              	.LBI426:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 1917              		.loc 1 1047 16 is_stmt 1 view .LVU683
 1918              	.LBB428:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1919              		.loc 1 1052 2 view .LVU684
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1920              		.loc 1 1055 2 view .LVU685
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1921              		.loc 1 1055 5 is_stmt 0 view .LVU686
 1922 005c 9942     		cmp	r1, r3
 1923 005e 03D0     		beq	.L169
 1924 0060 FFF7FEFF 		bl	move_window.part.0
 1925              	.LVL178:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1926              		.loc 1 1067 2 is_stmt 1 view .LVU687
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1927              		.loc 1 1067 2 is_stmt 0 view .LVU688
 1928              	.LBE428:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 109


 1929              	.LBE429:
1225:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			p = fs->win + bc++ % SS(fs);
 1930              		.loc 1 1225 4 is_stmt 1 view .LVU689
1225:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			p = fs->win + bc++ % SS(fs);
 1931              		.loc 1 1225 7 is_stmt 0 view .LVU690
 1932 0064 0028     		cmp	r0, #0
 1933 0066 D8D1     		bne	.L184
 1934              	.LVL179:
 1935              	.L169:
1226:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;	/* Update 1st byte */
 1936              		.loc 1 1226 4 is_stmt 1 view .LVU691
1227:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 1937              		.loc 1 1227 7 is_stmt 0 view .LVU692
 1938 0068 EB07     		lsls	r3, r5, #31
1226:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;	/* Update 1st byte */
 1939              		.loc 1 1226 8 view .LVU693
 1940 006a 04F13009 		add	r9, r4, #48
1226:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;	/* Update 1st byte */
 1941              		.loc 1 1226 23 view .LVU694
 1942 006e 07F10108 		add	r8, r7, #1
 1943              	.LVL180:
1226:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;	/* Update 1st byte */
 1944              		.loc 1 1226 23 view .LVU695
 1945 0072 C7F30800 		ubfx	r0, r7, #0, #9
 1946              	.LVL181:
1227:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 1947              		.loc 1 1227 4 is_stmt 1 view .LVU696
1227:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 1948              		.loc 1 1227 7 is_stmt 0 view .LVU697
 1949 0076 43D5     		bpl	.L195
1227:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 1950              		.loc 1 1227 27 view .LVU698
 1951 0078 19F80050 		ldrb	r5, [r9, r0]	@ zero_extendqisi2
 1952              	.LVL182:
1227:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 1953              		.loc 1 1227 27 view .LVU699
 1954 007c 05F00F03 		and	r3, r5, #15
1227:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 1955              		.loc 1 1227 35 view .LVU700
 1956 0080 43EA0612 		orr	r2, r3, r6, lsl #4
1227:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 1957              		.loc 1 1227 7 view .LVU701
 1958 0084 09F80020 		strb	r2, [r9, r0]
1228:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 1959              		.loc 1 1228 4 is_stmt 1 view .LVU702
1229:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 1960              		.loc 1 1229 10 is_stmt 0 view .LVU703
 1961 0088 206A     		ldr	r0, [r4, #32]
 1962              	.LVL183:
 1963              	.LBB430:
 1964              	.LBB431:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1965              		.loc 1 1055 5 view .LVU704
 1966 008a E76A     		ldr	r7, [r4, #44]
 1967              	.LVL184:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1968              		.loc 1 1055 5 view .LVU705
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 110


 1969              	.LBE431:
 1970              	.LBE430:
1229:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 1971              		.loc 1 1229 10 view .LVU706
 1972 008c 00EB5821 		add	r1, r0, r8, lsr #9
1228:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 1973              		.loc 1 1228 14 view .LVU707
 1974 0090 0125     		movs	r5, #1
 1975              	.LBB437:
 1976              	.LBB432:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1977              		.loc 1 1055 5 view .LVU708
 1978 0092 B942     		cmp	r1, r7
 1979              	.LBE432:
 1980              	.LBE437:
1228:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 1981              		.loc 1 1228 14 view .LVU709
 1982 0094 E570     		strb	r5, [r4, #3]
1229:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 1983              		.loc 1 1229 4 is_stmt 1 view .LVU710
 1984              	.LVL185:
 1985              	.LBB438:
 1986              	.LBI430:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 1987              		.loc 1 1047 16 view .LVU711
 1988              	.LBB433:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 1989              		.loc 1 1052 2 view .LVU712
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1990              		.loc 1 1055 2 view .LVU713
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 1991              		.loc 1 1055 5 is_stmt 0 view .LVU714
 1992 0096 04D0     		beq	.L191
 1993 0098 2046     		mov	r0, r4
 1994 009a FFF7FEFF 		bl	move_window.part.0
 1995              	.LVL186:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1996              		.loc 1 1067 2 is_stmt 1 view .LVU715
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 1997              		.loc 1 1067 2 is_stmt 0 view .LVU716
 1998              	.LBE433:
 1999              	.LBE438:
1230:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			p = fs->win + bc % SS(fs);
 2000              		.loc 1 1230 4 is_stmt 1 view .LVU717
1230:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			p = fs->win + bc % SS(fs);
 2001              		.loc 1 1230 7 is_stmt 0 view .LVU718
 2002 009e 0028     		cmp	r0, #0
 2003 00a0 BBD1     		bne	.L184
 2004              	.LVL187:
 2005              	.L191:
1231:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));	/* Update 2nd by
 2006              		.loc 1 1231 4 is_stmt 1 view .LVU719
1231:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));	/* Update 2nd by
 2007              		.loc 1 1231 21 is_stmt 0 view .LVU720
 2008 00a2 C8F3080C 		ubfx	ip, r8, #0, #9
1231:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));	/* Update 2nd by
 2009              		.loc 1 1231 6 view .LVU721
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 111


 2010 00a6 CC44     		add	ip, ip, r9
 2011              	.LVL188:
1232:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 2012              		.loc 1 1232 4 is_stmt 1 view .LVU722
1232:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 2013              		.loc 1 1232 7 is_stmt 0 view .LVU723
 2014 00a8 C6F30717 		ubfx	r7, r6, #4, #8
 2015              	.LVL189:
 2016              	.L174:
1233:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2017              		.loc 1 1233 14 view .LVU724
 2018 00ac 0121     		movs	r1, #1
1232:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 2019              		.loc 1 1232 7 view .LVU725
 2020 00ae 8CF80070 		strb	r7, [ip]
1233:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2021              		.loc 1 1233 4 is_stmt 1 view .LVU726
1233:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2022              		.loc 1 1233 14 is_stmt 0 view .LVU727
 2023 00b2 E170     		strb	r1, [r4, #3]
1234:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2024              		.loc 1 1234 4 is_stmt 1 view .LVU728
 2025 00b4 0020     		movs	r0, #0
1258:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2026              		.loc 1 1258 1 is_stmt 0 view .LVU729
 2027 00b6 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2028              	.LVL190:
 2029              	.L164:
1247:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 2030              		.loc 1 1247 4 is_stmt 1 view .LVU730
1247:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 2031              		.loc 1 1247 10 is_stmt 0 view .LVU731
 2032 00ba 026A     		ldr	r2, [r0, #32]
 2033              	.LVL191:
 2034              	.LBB439:
 2035              	.LBB440:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2036              		.loc 1 1055 5 view .LVU732
 2037 00bc C76A     		ldr	r7, [r0, #44]
 2038              	.LBE440:
 2039              	.LBE439:
1247:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 2040              		.loc 1 1247 10 view .LVU733
 2041 00be 02EBD111 		add	r1, r2, r1, lsr #7
 2042              	.LVL192:
 2043              	.LBB442:
 2044              	.LBI439:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 2045              		.loc 1 1047 16 is_stmt 1 view .LVU734
 2046              	.LBB441:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2047              		.loc 1 1052 2 view .LVU735
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2048              		.loc 1 1055 2 view .LVU736
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2049              		.loc 1 1055 5 is_stmt 0 view .LVU737
 2050 00c2 B942     		cmp	r1, r7
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 112


 2051 00c4 03D0     		beq	.L178
 2052 00c6 FFF7FEFF 		bl	move_window.part.0
 2053              	.LVL193:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2054              		.loc 1 1067 2 is_stmt 1 view .LVU738
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2055              		.loc 1 1067 2 is_stmt 0 view .LVU739
 2056              	.LBE441:
 2057              	.LBE442:
1248:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!FF_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 2058              		.loc 1 1248 4 is_stmt 1 view .LVU740
1248:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!FF_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 2059              		.loc 1 1248 7 is_stmt 0 view .LVU741
 2060 00ca 0028     		cmp	r0, #0
 2061 00cc A5D1     		bne	.L184
 2062              	.LVL194:
 2063              	.L178:
1249:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				val = (val & 0x0FFFFFFF) | (ld_dword(fs->win + clst * 4 % SS(fs)) & 0xF0000000);
 2064              		.loc 1 1249 4 is_stmt 1 view .LVU742
1250:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 2065              		.loc 1 1250 5 view .LVU743
1250:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 2066              		.loc 1 1250 57 is_stmt 0 view .LVU744
 2067 00ce A800     		lsls	r0, r5, #2
1250:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 2068              		.loc 1 1250 42 view .LVU745
 2069 00d0 04F13001 		add	r1, r4, #48
1250:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 2070              		.loc 1 1250 61 view .LVU746
 2071 00d4 00F4FE75 		and	r5, r0, #508
 2072              	.LVL195:
1250:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 2073              		.loc 1 1250 33 view .LVU747
 2074 00d8 4819     		adds	r0, r1, r5
 2075              	.LVL196:
 2076              	.LBB443:
 2077              	.LBI443:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 2078              		.loc 1 623 14 is_stmt 1 view .LVU748
 2079              	.LBB444:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2080              		.loc 1 625 2 view .LVU749
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 2081              		.loc 1 627 2 view .LVU750
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 2082              		.loc 1 628 2 view .LVU751
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 2083              		.loc 1 629 2 view .LVU752
 2084              	.LBE444:
 2085              	.LBE443:
1250:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 2086              		.loc 1 1250 16 is_stmt 0 view .LVU753
 2087 00da 26F07046 		bic	r6, r6, #-268435456
 2088              	.LVL197:
 2089              	.LBB446:
 2090              	.LBB445:
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 113


 2091              		.loc 1 628 5 view .LVU754
 2092 00de 4388     		ldrh	r3, [r0, #2]	@ unaligned
 2093              	.LVL198:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 2094              		.loc 1 630 2 is_stmt 1 view .LVU755
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2095              		.loc 1 631 2 view .LVU756
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 2096              		.loc 1 630 5 is_stmt 0 view .LVU757
 2097 00e0 1A04     		lsls	r2, r3, #16
 2098              	.LBE445:
 2099              	.LBE446:
1250:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 2100              		.loc 1 1250 71 view .LVU758
 2101 00e2 02F07043 		and	r3, r2, #-268435456
1250:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 2102              		.loc 1 1250 9 view .LVU759
 2103 00e6 3343     		orrs	r3, r3, r6
 2104              	.LVL199:
1252:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 2105              		.loc 1 1252 4 is_stmt 1 view .LVU760
 2106              	.LBB447:
 2107              	.LBI447:
 658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 2108              		.loc 1 658 13 view .LVU761
 2109              	.LBB448:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 2110              		.loc 1 660 2 view .LVU762
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 2111              		.loc 1 660 11 is_stmt 0 view .LVU763
 2112 00e8 4B55     		strb	r3, [r1, r5]
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 2113              		.loc 1 660 22 is_stmt 1 view .LVU764
 2114              	.LVL200:
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 2115              		.loc 1 661 2 view .LVU765
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 2116              		.loc 1 660 26 is_stmt 0 view .LVU766
 2117 00ea 1F0A     		lsrs	r7, r3, #8
 2118              	.LVL201:
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 2119              		.loc 1 661 26 view .LVU767
 2120 00ec 1E0C     		lsrs	r6, r3, #16
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 2121              		.loc 1 662 26 view .LVU768
 2122 00ee 1D0E     		lsrs	r5, r3, #24
 2123              	.LBE448:
 2124              	.LBE447:
1253:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2125              		.loc 1 1253 14 view .LVU769
 2126 00f0 0121     		movs	r1, #1
 2127              	.LBB450:
 2128              	.LBB449:
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 2129              		.loc 1 661 11 view .LVU770
 2130 00f2 4770     		strb	r7, [r0, #1]
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 114


 2131              		.loc 1 661 22 is_stmt 1 view .LVU771
 2132              	.LVL202:
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 2133              		.loc 1 662 2 view .LVU772
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 2134              		.loc 1 662 11 is_stmt 0 view .LVU773
 2135 00f4 8670     		strb	r6, [r0, #2]
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 2136              		.loc 1 662 22 is_stmt 1 view .LVU774
 2137              	.LVL203:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2138              		.loc 1 663 2 view .LVU775
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2139              		.loc 1 663 11 is_stmt 0 view .LVU776
 2140 00f6 C570     		strb	r5, [r0, #3]
 2141              	.LVL204:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2142              		.loc 1 663 11 view .LVU777
 2143              	.LBE449:
 2144              	.LBE450:
1253:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2145              		.loc 1 1253 4 is_stmt 1 view .LVU778
1253:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2146              		.loc 1 1253 14 is_stmt 0 view .LVU779
 2147 00f8 E170     		strb	r1, [r4, #3]
1254:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 2148              		.loc 1 1254 4 is_stmt 1 view .LVU780
 2149 00fa 0020     		movs	r0, #0
1258:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2150              		.loc 1 1258 1 is_stmt 0 view .LVU781
 2151 00fc BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2152              	.LVL205:
 2153              	.L195:
1227:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 2154              		.loc 1 1227 7 view .LVU782
 2155 0100 09F80060 		strb	r6, [r9, r0]
1228:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2156              		.loc 1 1228 4 is_stmt 1 view .LVU783
1229:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 2157              		.loc 1 1229 10 is_stmt 0 view .LVU784
 2158 0104 256A     		ldr	r5, [r4, #32]
 2159              	.LVL206:
 2160              	.LBB451:
 2161              	.LBB434:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2162              		.loc 1 1055 5 view .LVU785
 2163 0106 E36A     		ldr	r3, [r4, #44]
 2164              	.LBE434:
 2165              	.LBE451:
1229:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 2166              		.loc 1 1229 10 view .LVU786
 2167 0108 05EB5821 		add	r1, r5, r8, lsr #9
1228:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2168              		.loc 1 1228 14 view .LVU787
 2169 010c 0122     		movs	r2, #1
 2170              	.LBB452:
 2171              	.LBB435:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 115


1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2172              		.loc 1 1055 5 view .LVU788
 2173 010e 9942     		cmp	r1, r3
 2174              	.LBE435:
 2175              	.LBE452:
1228:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2176              		.loc 1 1228 14 view .LVU789
 2177 0110 E270     		strb	r2, [r4, #3]
1229:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 2178              		.loc 1 1229 4 is_stmt 1 view .LVU790
 2179              	.LVL207:
 2180              	.LBB453:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 2181              		.loc 1 1047 16 view .LVU791
 2182              	.LBB436:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2183              		.loc 1 1052 2 view .LVU792
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2184              		.loc 1 1055 2 view .LVU793
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2185              		.loc 1 1055 5 is_stmt 0 view .LVU794
 2186 0112 05D0     		beq	.L192
 2187 0114 2046     		mov	r0, r4
 2188              	.LVL208:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2189              		.loc 1 1055 5 view .LVU795
 2190 0116 FFF7FEFF 		bl	move_window.part.0
 2191              	.LVL209:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2192              		.loc 1 1067 2 is_stmt 1 view .LVU796
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2193              		.loc 1 1067 2 is_stmt 0 view .LVU797
 2194              	.LBE436:
 2195              	.LBE453:
1230:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			p = fs->win + bc % SS(fs);
 2196              		.loc 1 1230 4 is_stmt 1 view .LVU798
1230:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			p = fs->win + bc % SS(fs);
 2197              		.loc 1 1230 7 is_stmt 0 view .LVU799
 2198 011a 0028     		cmp	r0, #0
 2199 011c 7FF47DAF 		bne	.L184
 2200              	.LVL210:
 2201              	.L192:
1231:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));	/* Update 2nd by
 2202              		.loc 1 1231 4 is_stmt 1 view .LVU800
1231:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));	/* Update 2nd by
 2203              		.loc 1 1231 21 is_stmt 0 view .LVU801
 2204 0120 C8F3080C 		ubfx	ip, r8, #0, #9
1231:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));	/* Update 2nd by
 2205              		.loc 1 1231 6 view .LVU802
 2206 0124 CC44     		add	ip, ip, r9
 2207              	.LVL211:
1232:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 2208              		.loc 1 1232 4 is_stmt 1 view .LVU803
1232:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 2209              		.loc 1 1232 74 is_stmt 0 view .LVU804
 2210 0126 C6F30327 		ubfx	r7, r6, #8, #4
1232:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 116


 2211              		.loc 1 1232 46 view .LVU805
 2212 012a 9CF80010 		ldrb	r1, [ip]	@ zero_extendqisi2
 2213 012e 21F00F06 		bic	r6, r1, #15
 2214              	.LVL212:
1232:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->wflag = 1;
 2215              		.loc 1 1232 7 view .LVU806
 2216 0132 3743     		orrs	r7, r7, r6
 2217 0134 BAE7     		b	.L174
 2218              		.cfi_endproc
 2219              	.LFE54:
 2221 0136 00BF     		.section	.text.get_fat.isra.0,"ax",%progbits
 2222              		.align	1
 2223              		.p2align 2,,3
 2224              		.syntax unified
 2225              		.thumb
 2226              		.thumb_func
 2227              		.fpu fpv4-sp-d16
 2229              	get_fat.isra.0:
 2230              	.LVL213:
 2231              	.LFB55:
1131:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FFOBJID* obj,	/* Corresponding object */
 2232              		.loc 1 1131 14 is_stmt 1 view -0
 2233              		.cfi_startproc
 2234              		@ args = 0, pretend = 0, frame = 0
 2235              		@ frame_needed = 0, uses_anonymous_args = 0
1136:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD val;
 2236              		.loc 1 1136 2 view .LVU808
1137:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = obj->fs;
 2237              		.loc 1 1137 2 view .LVU809
1138:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2238              		.loc 1 1138 2 view .LVU810
1141:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		val = 1;	/* Internal error */
 2239              		.loc 1 1141 2 view .LVU811
1141:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		val = 1;	/* Internal error */
 2240              		.loc 1 1141 5 is_stmt 0 view .LVU812
 2241 0000 0129     		cmp	r1, #1
 2242 0002 0ED9     		bls	.L211
1131:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FFOBJID* obj,	/* Corresponding object */
 2243              		.loc 1 1131 14 view .LVU813
 2244 0004 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2245              		.cfi_def_cfa_offset 24
 2246              		.cfi_offset 3, -24
 2247              		.cfi_offset 4, -20
 2248              		.cfi_offset 5, -16
 2249              		.cfi_offset 6, -12
 2250              		.cfi_offset 7, -8
 2251              		.cfi_offset 14, -4
1141:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		val = 1;	/* Internal error */
 2252              		.loc 1 1141 15 view .LVU814
 2253 0006 4369     		ldr	r3, [r0, #20]
 2254 0008 9942     		cmp	r1, r3
 2255 000a 0C46     		mov	r4, r1
 2256 000c 0546     		mov	r5, r0
 2257 000e 06D2     		bcs	.L213
1145:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2258              		.loc 1 1145 3 is_stmt 1 view .LVU815
 2259              	.LVL214:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 117


1147:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		case FS_FAT12 :
 2260              		.loc 1 1147 3 view .LVU816
1147:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		case FS_FAT12 :
 2261              		.loc 1 1147 13 is_stmt 0 view .LVU817
 2262 0010 0178     		ldrb	r1, [r0]	@ zero_extendqisi2
 2263              	.LVL215:
1147:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		case FS_FAT12 :
 2264              		.loc 1 1147 3 view .LVU818
 2265 0012 0229     		cmp	r1, #2
 2266 0014 46D0     		beq	.L198
 2267 0016 0329     		cmp	r1, #3
 2268 0018 2CD0     		beq	.L199
 2269 001a 0129     		cmp	r1, #1
 2270 001c 03D0     		beq	.L219
 2271              	.LVL216:
 2272              	.L213:
1147:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		case FS_FAT12 :
 2273              		.loc 1 1147 3 view .LVU819
 2274 001e 0120     		movs	r0, #1
 2275              	.LVL217:
1198:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2276              		.loc 1 1198 2 is_stmt 1 view .LVU820
1199:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2277              		.loc 1 1199 1 is_stmt 0 view .LVU821
 2278 0020 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2279              	.LVL218:
 2280              	.L211:
 2281              		.cfi_def_cfa_offset 0
 2282              		.cfi_restore 3
 2283              		.cfi_restore 4
 2284              		.cfi_restore 5
 2285              		.cfi_restore 6
 2286              		.cfi_restore 7
 2287              		.cfi_restore 14
1142:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2288              		.loc 1 1142 7 view .LVU822
 2289 0022 0120     		movs	r0, #1
 2290              	.LVL219:
1199:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2291              		.loc 1 1199 1 view .LVU823
 2292 0024 7047     		bx	lr
 2293              	.LVL220:
 2294              	.L219:
 2295              		.cfi_def_cfa_offset 24
 2296              		.cfi_offset 3, -24
 2297              		.cfi_offset 4, -20
 2298              		.cfi_offset 5, -16
 2299              		.cfi_offset 6, -12
 2300              		.cfi_offset 7, -8
 2301              		.cfi_offset 14, -4
1149:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2302              		.loc 1 1149 4 is_stmt 1 view .LVU824
1149:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2303              		.loc 1 1149 21 view .LVU825
1150:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			wc = fs->win[bc++ % SS(fs)];		/* Get 1st byte of the entry */
 2304              		.loc 1 1150 26 is_stmt 0 view .LVU826
 2305 0026 066A     		ldr	r6, [r0, #32]
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 118


 2306              	.LBB454:
 2307              	.LBB455:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2308              		.loc 1 1055 16 view .LVU827
 2309 0028 C26A     		ldr	r2, [r0, #44]
 2310              	.LBE455:
 2311              	.LBE454:
1149:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2312              		.loc 1 1149 24 view .LVU828
 2313 002a 04EB5407 		add	r7, r4, r4, lsr #1
 2314              	.LVL221:
1150:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			wc = fs->win[bc++ % SS(fs)];		/* Get 1st byte of the entry */
 2315              		.loc 1 1150 4 is_stmt 1 view .LVU829
1150:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			wc = fs->win[bc++ % SS(fs)];		/* Get 1st byte of the entry */
 2316              		.loc 1 1150 8 is_stmt 0 view .LVU830
 2317 002e 06EB5721 		add	r1, r6, r7, lsr #9
 2318              	.LVL222:
 2319              	.LBB457:
 2320              	.LBI454:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 2321              		.loc 1 1047 16 is_stmt 1 view .LVU831
 2322              	.LBB456:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2323              		.loc 1 1052 2 view .LVU832
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2324              		.loc 1 1055 2 view .LVU833
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2325              		.loc 1 1055 5 is_stmt 0 view .LVU834
 2326 0032 9142     		cmp	r1, r2
 2327 0034 05D0     		beq	.L200
 2328 0036 FFF7FEFF 		bl	move_window.part.0
 2329              	.LVL223:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2330              		.loc 1 1067 2 is_stmt 1 view .LVU835
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2331              		.loc 1 1067 2 is_stmt 0 view .LVU836
 2332              	.LBE456:
 2333              	.LBE457:
1150:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			wc = fs->win[bc++ % SS(fs)];		/* Get 1st byte of the entry */
 2334              		.loc 1 1150 7 view .LVU837
 2335 003a 0028     		cmp	r0, #0
 2336 003c 3BD1     		bne	.L205
 2337 003e 2E6A     		ldr	r6, [r5, #32]
 2338 0040 EA6A     		ldr	r2, [r5, #44]
 2339              	.L200:
1151:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2340              		.loc 1 1151 4 is_stmt 1 view .LVU838
1151:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2341              		.loc 1 1151 22 is_stmt 0 view .LVU839
 2342 0042 C7F3080C 		ubfx	ip, r7, #0, #9
1151:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2343              		.loc 1 1151 19 view .LVU840
 2344 0046 0137     		adds	r7, r7, #1
 2345              	.LVL224:
1152:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;	/* Merge 2nd byte of the entry */
 2346              		.loc 1 1152 8 view .LVU841
 2347 0048 06EB5721 		add	r1, r6, r7, lsr #9
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 119


1151:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2348              		.loc 1 1151 16 view .LVU842
 2349 004c AC44     		add	ip, ip, r5
 2350              	.LBB458:
 2351              	.LBB459:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2352              		.loc 1 1055 5 view .LVU843
 2353 004e 9142     		cmp	r1, r2
 2354              	.LBE459:
 2355              	.LBE458:
1151:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2356              		.loc 1 1151 7 view .LVU844
 2357 0050 9CF83060 		ldrb	r6, [ip, #48]	@ zero_extendqisi2
 2358              	.LVL225:
1152:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;	/* Merge 2nd byte of the entry */
 2359              		.loc 1 1152 4 is_stmt 1 view .LVU845
 2360              	.LBB461:
 2361              	.LBI458:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 2362              		.loc 1 1047 16 view .LVU846
 2363              	.LBB460:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2364              		.loc 1 1052 2 view .LVU847
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2365              		.loc 1 1055 2 view .LVU848
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2366              		.loc 1 1055 5 is_stmt 0 view .LVU849
 2367 0054 03D0     		beq	.L206
 2368 0056 2846     		mov	r0, r5
 2369 0058 FFF7FEFF 		bl	move_window.part.0
 2370              	.LVL226:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2371              		.loc 1 1067 2 is_stmt 1 view .LVU850
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2372              		.loc 1 1067 2 is_stmt 0 view .LVU851
 2373              	.LBE460:
 2374              	.LBE461:
1152:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;	/* Merge 2nd byte of the entry */
 2375              		.loc 1 1152 7 view .LVU852
 2376 005c 58BB     		cbnz	r0, .L205
 2377              	.L206:
1153:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);	/* Adjust bit position */
 2378              		.loc 1 1153 4 is_stmt 1 view .LVU853
1153:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);	/* Adjust bit position */
 2379              		.loc 1 1153 21 is_stmt 0 view .LVU854
 2380 005e C7F30800 		ubfx	r0, r7, #0, #9
1153:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);	/* Adjust bit position */
 2381              		.loc 1 1153 17 view .LVU855
 2382 0062 0544     		add	r5, r5, r0
 2383              	.LVL227:
1154:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2384              		.loc 1 1154 33 view .LVU856
 2385 0064 E307     		lsls	r3, r4, #31
1153:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);	/* Adjust bit position */
 2386              		.loc 1 1153 17 view .LVU857
 2387 0066 95F83050 		ldrb	r5, [r5, #48]	@ zero_extendqisi2
1153:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);	/* Adjust bit position */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 120


 2388              		.loc 1 1153 7 view .LVU858
 2389 006a 46EA0521 		orr	r1, r6, r5, lsl #8
 2390              	.LVL228:
1154:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2391              		.loc 1 1154 4 is_stmt 1 view .LVU859
1154:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2392              		.loc 1 1154 33 is_stmt 0 view .LVU860
 2393 006e 30D5     		bpl	.L220
 2394 0070 0809     		lsrs	r0, r1, #4
1199:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2395              		.loc 1 1199 1 view .LVU861
 2396 0072 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2397              	.LVL229:
 2398              	.L199:
1163:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;	/* Simple DWORD array but mask out upp
 2399              		.loc 1 1163 4 is_stmt 1 view .LVU862
1163:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;	/* Simple DWORD array but mask out upp
 2400              		.loc 1 1163 8 is_stmt 0 view .LVU863
 2401 0074 016A     		ldr	r1, [r0, #32]
 2402              	.LBB462:
 2403              	.LBB463:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2404              		.loc 1 1055 5 view .LVU864
 2405 0076 C36A     		ldr	r3, [r0, #44]
 2406              	.LBE463:
 2407              	.LBE462:
1163:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;	/* Simple DWORD array but mask out upp
 2408              		.loc 1 1163 8 view .LVU865
 2409 0078 01EBD411 		add	r1, r1, r4, lsr #7
 2410              	.LVL230:
 2411              	.LBB465:
 2412              	.LBI462:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 2413              		.loc 1 1047 16 is_stmt 1 view .LVU866
 2414              	.LBB464:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2415              		.loc 1 1052 2 view .LVU867
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2416              		.loc 1 1055 2 view .LVU868
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2417              		.loc 1 1055 5 is_stmt 0 view .LVU869
 2418 007c 9942     		cmp	r1, r3
 2419 007e 02D0     		beq	.L210
 2420 0080 FFF7FEFF 		bl	move_window.part.0
 2421              	.LVL231:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2422              		.loc 1 1067 2 is_stmt 1 view .LVU870
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2423              		.loc 1 1067 2 is_stmt 0 view .LVU871
 2424              	.LBE464:
 2425              	.LBE465:
1163:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;	/* Simple DWORD array but mask out upp
 2426              		.loc 1 1163 7 view .LVU872
 2427 0084 B8B9     		cbnz	r0, .L205
 2428              	.L210:
1164:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2429              		.loc 1 1164 4 is_stmt 1 view .LVU873
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 121


1164:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2430              		.loc 1 1164 34 is_stmt 0 view .LVU874
 2431 0086 A200     		lsls	r2, r4, #2
1164:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2432              		.loc 1 1164 38 view .LVU875
 2433 0088 02F4FE76 		and	r6, r2, #508
1164:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2434              		.loc 1 1164 19 view .LVU876
 2435 008c 3035     		adds	r5, r5, #48
 2436              	.LVL232:
1164:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2437              		.loc 1 1164 10 view .LVU877
 2438 008e AF19     		adds	r7, r5, r6
 2439              	.LVL233:
 2440              	.LBB466:
 2441              	.LBI466:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 2442              		.loc 1 623 14 is_stmt 1 view .LVU878
 2443              	.LBB467:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2444              		.loc 1 625 2 view .LVU879
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 2445              		.loc 1 627 2 view .LVU880
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 2446              		.loc 1 628 2 view .LVU881
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 2447              		.loc 1 629 2 view .LVU882
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 2448              		.loc 1 630 20 is_stmt 0 view .LVU883
 2449 0090 A85D     		ldrb	r0, [r5, r6]	@ zero_extendqisi2
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 2450              		.loc 1 628 5 view .LVU884
 2451 0092 7C88     		ldrh	r4, [r7, #2]	@ unaligned
 2452              	.LVL234:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 2453              		.loc 1 630 2 is_stmt 1 view .LVU885
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 2454              		.loc 1 629 20 is_stmt 0 view .LVU886
 2455 0094 7D78     		ldrb	r5, [r7, #1]	@ zero_extendqisi2
 2456              	.LVL235:
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 2457              		.loc 1 629 5 view .LVU887
 2458 0096 45EA0421 		orr	r1, r5, r4, lsl #8
 2459              	.LVL236:
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2460              		.loc 1 631 2 is_stmt 1 view .LVU888
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 2461              		.loc 1 630 5 is_stmt 0 view .LVU889
 2462 009a 40EA0123 		orr	r3, r0, r1, lsl #8
 2463              	.LBE467:
 2464              	.LBE466:
1164:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2465              		.loc 1 1164 8 view .LVU890
 2466 009e 23F07040 		bic	r0, r3, #-268435456
 2467              	.LVL237:
1165:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 2468              		.loc 1 1165 4 is_stmt 1 view .LVU891
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 122


1199:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2469              		.loc 1 1199 1 is_stmt 0 view .LVU892
 2470 00a2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2471              	.LVL238:
 2472              	.L198:
1158:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));		/* Simple WORD array */
 2473              		.loc 1 1158 4 is_stmt 1 view .LVU893
1158:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));		/* Simple WORD array */
 2474              		.loc 1 1158 8 is_stmt 0 view .LVU894
 2475 00a4 026A     		ldr	r2, [r0, #32]
 2476              	.LBB468:
 2477              	.LBB469:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2478              		.loc 1 1055 5 view .LVU895
 2479 00a6 C66A     		ldr	r6, [r0, #44]
 2480              	.LBE469:
 2481              	.LBE468:
1158:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));		/* Simple WORD array */
 2482              		.loc 1 1158 8 view .LVU896
 2483 00a8 02EB1421 		add	r1, r2, r4, lsr #8
 2484              	.LVL239:
 2485              	.LBB471:
 2486              	.LBI468:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 2487              		.loc 1 1047 16 is_stmt 1 view .LVU897
 2488              	.LBB470:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2489              		.loc 1 1052 2 view .LVU898
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2490              		.loc 1 1055 2 view .LVU899
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 2491              		.loc 1 1055 5 is_stmt 0 view .LVU900
 2492 00ac B142     		cmp	r1, r6
 2493 00ae 05D0     		beq	.L208
 2494 00b0 FFF7FEFF 		bl	move_window.part.0
 2495              	.LVL240:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2496              		.loc 1 1067 2 is_stmt 1 view .LVU901
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2497              		.loc 1 1067 2 is_stmt 0 view .LVU902
 2498              	.LBE470:
 2499              	.LBE471:
1158:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));		/* Simple WORD array */
 2500              		.loc 1 1158 7 view .LVU903
 2501 00b4 10B1     		cbz	r0, .L208
 2502              	.L205:
1145:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2503              		.loc 1 1145 7 view .LVU904
 2504 00b6 4FF0FF30 		mov	r0, #-1
1199:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2505              		.loc 1 1199 1 view .LVU905
 2506 00ba F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2507              	.LVL241:
 2508              	.L208:
1159:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2509              		.loc 1 1159 4 is_stmt 1 view .LVU906
1159:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 123


 2510              		.loc 1 1159 33 is_stmt 0 view .LVU907
 2511 00bc 6000     		lsls	r0, r4, #1
1159:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2512              		.loc 1 1159 37 view .LVU908
 2513 00be 00F4FF77 		and	r7, r0, #510
1159:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2514              		.loc 1 1159 18 view .LVU909
 2515 00c2 3035     		adds	r5, r5, #48
 2516              	.LVL242:
1159:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2517              		.loc 1 1159 10 view .LVU910
 2518 00c4 EC19     		adds	r4, r5, r7
 2519              	.LVL243:
 2520              	.LBB472:
 2521              	.LBI472:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 2522              		.loc 1 614 13 is_stmt 1 view .LVU911
 2523              	.LBB473:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2524              		.loc 1 616 2 view .LVU912
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 2525              		.loc 1 618 2 view .LVU913
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 2526              		.loc 1 619 2 view .LVU914
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2527              		.loc 1 620 2 view .LVU915
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 2528              		.loc 1 619 20 is_stmt 0 view .LVU916
 2529 00c6 ED5D     		ldrb	r5, [r5, r7]	@ zero_extendqisi2
 2530              	.LVL244:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 2531              		.loc 1 619 10 view .LVU917
 2532 00c8 94F801C0 		ldrb	ip, [r4, #1]	@ zero_extendqisi2
 2533              	.LBE473:
 2534              	.LBE472:
1159:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2535              		.loc 1 1159 8 view .LVU918
 2536 00cc 45EA0C20 		orr	r0, r5, ip, lsl #8
 2537              	.LVL245:
1160:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2538              		.loc 1 1160 4 is_stmt 1 view .LVU919
1199:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2539              		.loc 1 1199 1 is_stmt 0 view .LVU920
 2540 00d0 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2541              	.LVL246:
 2542              	.L220:
1154:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 2543              		.loc 1 1154 33 view .LVU921
 2544 00d2 C1F30B00 		ubfx	r0, r1, #0, #12
1199:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2545              		.loc 1 1199 1 view .LVU922
 2546 00d6 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
1199:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2547              		.loc 1 1199 1 view .LVU923
 2548              		.cfi_endproc
 2549              	.LFE55:
 2551              		.section	.text.create_chain,"ax",%progbits
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 124


 2552              		.align	1
 2553              		.p2align 2,,3
 2554              		.syntax unified
 2555              		.thumb
 2556              		.thumb_func
 2557              		.fpu fpv4-sp-d16
 2559              	create_chain:
 2560              	.LVL247:
 2561              	.LFB13:
1498:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD cs, ncl, scl;
 2562              		.loc 1 1498 1 is_stmt 1 view -0
 2563              		.cfi_startproc
 2564              		@ args = 0, pretend = 0, frame = 0
 2565              		@ frame_needed = 0, uses_anonymous_args = 0
1499:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 2566              		.loc 1 1499 2 view .LVU925
1500:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = obj->fs;
 2567              		.loc 1 1500 2 view .LVU926
1501:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2568              		.loc 1 1501 2 view .LVU927
1498:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD cs, ncl, scl;
 2569              		.loc 1 1498 1 is_stmt 0 view .LVU928
 2570 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2571              		.cfi_def_cfa_offset 24
 2572              		.cfi_offset 4, -24
 2573              		.cfi_offset 5, -20
 2574              		.cfi_offset 6, -16
 2575              		.cfi_offset 7, -12
 2576              		.cfi_offset 8, -8
 2577              		.cfi_offset 14, -4
1501:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2578              		.loc 1 1501 9 view .LVU929
 2579 0004 D0F80080 		ldr	r8, [r0]
 2580              	.LVL248:
1504:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		scl = fs->last_clst;				/* Suggested cluster to start to find */
 2581              		.loc 1 1504 2 is_stmt 1 view .LVU930
1498:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD cs, ncl, scl;
 2582              		.loc 1 1498 1 is_stmt 0 view .LVU931
 2583 0008 0646     		mov	r6, r0
1504:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		scl = fs->last_clst;				/* Suggested cluster to start to find */
 2584              		.loc 1 1504 5 view .LVU932
 2585 000a 0F46     		mov	r7, r1
 2586 000c 0029     		cmp	r1, #0
 2587 000e 5CD1     		bne	.L222
1505:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
 2588              		.loc 1 1505 3 is_stmt 1 view .LVU933
1505:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
 2589              		.loc 1 1505 7 is_stmt 0 view .LVU934
 2590 0010 D8F80C50 		ldr	r5, [r8, #12]
 2591              	.LVL249:
1506:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 2592              		.loc 1 1506 3 is_stmt 1 view .LVU935
1506:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 2593              		.loc 1 1506 6 is_stmt 0 view .LVU936
 2594 0014 002D     		cmp	r5, #0
 2595 0016 4FD0     		beq	.L244
1515:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 125


 2596              		.loc 1 1515 2 is_stmt 1 discriminator 2 view .LVU937
1506:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 2597              		.loc 1 1506 16 is_stmt 0 discriminator 2 view .LVU938
 2598 0018 D8F81400 		ldr	r0, [r8, #20]
 2599              	.LVL250:
1515:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2600              		.loc 1 1515 5 discriminator 2 view .LVU939
 2601 001c D8F81010 		ldr	r1, [r8, #16]
 2602              	.LVL251:
1506:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 2603              		.loc 1 1506 44 discriminator 2 view .LVU940
 2604 0020 A842     		cmp	r0, r5
 2605 0022 98BF     		it	ls
 2606 0024 0125     		movls	r5, #1
 2607              	.LVL252:
1515:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2608              		.loc 1 1515 5 discriminator 2 view .LVU941
 2609 0026 0029     		cmp	r1, #0
 2610 0028 4BD0     		beq	.L236
 2611              	.L275:
 2612 002a D8F81430 		ldr	r3, [r8, #20]
 2613              	.LVL253:
 2614              	.L232:
1556:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ncl = scl;	/* Start cluster */
 2615              		.loc 1 1556 6 view .LVU942
 2616 002e 2C46     		mov	r4, r5
 2617 0030 07E0     		b	.L237
 2618              	.LVL254:
 2619              	.L235:
1566:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (ncl == scl) return 0;		/* No free cluster found? */
 2620              		.loc 1 1566 8 view .LVU943
 2621 0032 0128     		cmp	r0, #1
 2622 0034 72D0     		beq	.L229
1566:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (ncl == scl) return 0;		/* No free cluster found? */
 2623              		.loc 1 1566 17 discriminator 2 view .LVU944
 2624 0036 0130     		adds	r0, r0, #1
 2625              	.LVL255:
1566:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (ncl == scl) return 0;		/* No free cluster found? */
 2626              		.loc 1 1566 17 discriminator 2 view .LVU945
 2627 0038 7AD0     		beq	.L226
1567:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 2628              		.loc 1 1567 8 view .LVU946
 2629 003a AC42     		cmp	r4, r5
 2630 003c 41D0     		beq	.L236
 2631 003e D8F81430 		ldr	r3, [r8, #20]
 2632              	.LVL256:
 2633              	.L237:
1558:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				ncl++;							/* Next cluster */
 2634              		.loc 1 1558 4 is_stmt 1 view .LVU947
1559:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (ncl >= fs->n_fatent) {		/* Check wrap-around */
 2635              		.loc 1 1559 5 view .LVU948
1561:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (ncl > scl) return 0;	/* No free cluster found? */
 2636              		.loc 1 1561 6 view .LVU949
1562:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 2637              		.loc 1 1562 6 view .LVU950
1564:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (cs == 0) break;				/* Found a free cluster? */
 2638              		.loc 1 1564 5 view .LVU951
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 126


1559:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (ncl >= fs->n_fatent) {		/* Check wrap-around */
 2639              		.loc 1 1559 8 is_stmt 0 view .LVU952
 2640 0042 0134     		adds	r4, r4, #1
1560:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					ncl = 2;
 2641              		.loc 1 1560 5 is_stmt 1 view .LVU953
1560:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					ncl = 2;
 2642              		.loc 1 1560 8 is_stmt 0 view .LVU954
 2643 0044 9C42     		cmp	r4, r3
 2644 0046 02D3     		bcc	.L234
1562:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 2645              		.loc 1 1562 9 view .LVU955
 2646 0048 012D     		cmp	r5, #1
 2647 004a 3AD9     		bls	.L236
1561:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (ncl > scl) return 0;	/* No free cluster found? */
 2648              		.loc 1 1561 10 view .LVU956
 2649 004c 0224     		movs	r4, #2
 2650              	.L234:
1564:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (cs == 0) break;				/* Found a free cluster? */
 2651              		.loc 1 1564 10 view .LVU957
 2652 004e 3068     		ldr	r0, [r6]
 2653 0050 2146     		mov	r1, r4
 2654 0052 FFF7FEFF 		bl	get_fat.isra.0
 2655              	.LVL257:
1566:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (ncl == scl) return 0;		/* No free cluster found? */
 2656              		.loc 1 1566 5 is_stmt 1 view .LVU958
1567:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 2657              		.loc 1 1567 5 view .LVU959
1565:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* Test for error */
 2658              		.loc 1 1565 5 view .LVU960
1565:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* Test for error */
 2659              		.loc 1 1565 8 is_stmt 0 view .LVU961
 2660 0056 0028     		cmp	r0, #0
 2661 0058 EBD1     		bne	.L235
1570:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK && clst != 0) {
 2662              		.loc 1 1570 3 is_stmt 1 view .LVU962
 2663              	.LVL258:
 2664              	.LBB474:
 2665              	.LBI474:
1209:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Corresponding filesystem object */
 2666              		.loc 1 1209 16 view .LVU963
 2667              	.LBB475:
1215:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE *p;
 2668              		.loc 1 1215 2 view .LVU964
1216:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res = FR_INT_ERR;
 2669              		.loc 1 1216 2 view .LVU965
1217:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2670              		.loc 1 1217 2 view .LVU966
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 2671              		.loc 1 1220 2 view .LVU967
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 2672              		.loc 1 1220 5 is_stmt 0 view .LVU968
 2673 005a 012C     		cmp	r4, #1
 2674 005c 5ED9     		bls	.L229
 2675              	.LVL259:
 2676              	.L233:
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 2677              		.loc 1 1220 16 view .LVU969
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 127


 2678 005e D8F81460 		ldr	r6, [r8, #20]
 2679              	.LVL260:
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 2680              		.loc 1 1220 16 view .LVU970
 2681 0062 A642     		cmp	r6, r4
 2682 0064 5AD9     		bls	.L229
 2683 0066 4FF0FF32 		mov	r2, #-1
 2684 006a 2146     		mov	r1, r4
 2685 006c 4046     		mov	r0, r8
 2686              	.LVL261:
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 2687              		.loc 1 1220 16 view .LVU971
 2688 006e FFF7FEFF 		bl	put_fat.part.0
 2689              	.LVL262:
1257:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2690              		.loc 1 1257 2 is_stmt 1 view .LVU972
1257:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2691              		.loc 1 1257 2 is_stmt 0 view .LVU973
 2692              	.LBE475:
 2693              	.LBE474:
1571:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = put_fat(fs, clst, ncl);		/* Link it from the previous one if needed */
 2694              		.loc 1 1571 3 is_stmt 1 view .LVU974
1571:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = put_fat(fs, clst, ncl);		/* Link it from the previous one if needed */
 2695              		.loc 1 1571 6 is_stmt 0 view .LVU975
 2696 0072 0028     		cmp	r0, #0
 2697 0074 50D1     		bne	.L238
1571:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = put_fat(fs, clst, ncl);		/* Link it from the previous one if needed */
 2698              		.loc 1 1571 20 discriminator 1 view .LVU976
 2699 0076 67B1     		cbz	r7, .L242
1572:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 2700              		.loc 1 1572 4 is_stmt 1 view .LVU977
 2701              	.LVL263:
 2702              	.LBB476:
 2703              	.LBI476:
1209:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Corresponding filesystem object */
 2704              		.loc 1 1209 16 view .LVU978
 2705              	.LBB477:
1215:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE *p;
 2706              		.loc 1 1215 2 view .LVU979
1216:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res = FR_INT_ERR;
 2707              		.loc 1 1216 2 view .LVU980
1217:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2708              		.loc 1 1217 2 view .LVU981
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 2709              		.loc 1 1220 2 view .LVU982
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 2710              		.loc 1 1220 5 is_stmt 0 view .LVU983
 2711 0078 012F     		cmp	r7, #1
 2712 007a 4FD9     		bls	.L229
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 2713              		.loc 1 1220 16 view .LVU984
 2714 007c D8F81420 		ldr	r2, [r8, #20]
 2715 0080 9742     		cmp	r7, r2
 2716 0082 4BD2     		bcs	.L229
 2717 0084 3946     		mov	r1, r7
 2718 0086 2246     		mov	r2, r4
 2719 0088 4046     		mov	r0, r8
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 128


 2720              	.LVL264:
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 2721              		.loc 1 1220 16 view .LVU985
 2722 008a FFF7FEFF 		bl	put_fat.part.0
 2723              	.LVL265:
1257:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2724              		.loc 1 1257 2 is_stmt 1 view .LVU986
1257:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2725              		.loc 1 1257 2 is_stmt 0 view .LVU987
 2726              	.LBE477:
 2727              	.LBE476:
1576:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->last_clst = ncl;
 2728              		.loc 1 1576 2 is_stmt 1 view .LVU988
1576:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->last_clst = ncl;
 2729              		.loc 1 1576 5 is_stmt 0 view .LVU989
 2730 008e 0028     		cmp	r0, #0
 2731 0090 42D1     		bne	.L238
 2732              	.L242:
 2733              	.LVL266:
1577:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
 2734              		.loc 1 1577 3 is_stmt 1 view .LVU990
1578:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsi_flag |= 1;
 2735              		.loc 1 1578 9 is_stmt 0 view .LVU991
 2736 0092 D8E904CE 		ldrd	ip, lr, [r8, #16]
1578:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsi_flag |= 1;
 2737              		.loc 1 1578 37 view .LVU992
 2738 0096 AEF10207 		sub	r7, lr, #2
 2739              	.LVL267:
1578:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsi_flag |= 1;
 2740              		.loc 1 1578 6 view .LVU993
 2741 009a BC45     		cmp	ip, r7
1577:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
 2742              		.loc 1 1577 17 view .LVU994
 2743 009c C8F80C40 		str	r4, [r8, #12]
1578:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsi_flag |= 1;
 2744              		.loc 1 1578 3 is_stmt 1 view .LVU995
1578:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsi_flag |= 1;
 2745              		.loc 1 1578 6 is_stmt 0 view .LVU996
 2746 00a0 03D8     		bhi	.L241
1578:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsi_flag |= 1;
 2747              		.loc 1 1578 42 is_stmt 1 discriminator 1 view .LVU997
1578:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsi_flag |= 1;
 2748              		.loc 1 1578 55 is_stmt 0 discriminator 1 view .LVU998
 2749 00a2 0CF1FF30 		add	r0, ip, #-1
 2750 00a6 C8F81000 		str	r0, [r8, #16]
 2751              	.L241:
1579:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} else {
 2752              		.loc 1 1579 3 is_stmt 1 view .LVU999
1579:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} else {
 2753              		.loc 1 1579 16 is_stmt 0 view .LVU1000
 2754 00aa 98F80450 		ldrb	r5, [r8, #4]	@ zero_extendqisi2
 2755 00ae 45F00101 		orr	r1, r5, #1
 2756 00b2 88F80410 		strb	r1, [r8, #4]
 2757 00b6 05E0     		b	.L221
 2758              	.LVL268:
 2759              	.L244:
1515:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 129


 2760              		.loc 1 1515 5 view .LVU1001
 2761 00b8 D8F81010 		ldr	r1, [r8, #16]
 2762              	.LVL269:
1506:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 2763              		.loc 1 1506 44 view .LVU1002
 2764 00bc 0125     		movs	r5, #1
 2765              	.LVL270:
1515:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2766              		.loc 1 1515 2 is_stmt 1 view .LVU1003
1515:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2767              		.loc 1 1515 5 is_stmt 0 view .LVU1004
 2768 00be 0029     		cmp	r1, #0
 2769 00c0 B3D1     		bne	.L275
 2770              	.LVL271:
 2771              	.L236:
1562:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 2772              		.loc 1 1562 28 view .LVU1005
 2773 00c2 0024     		movs	r4, #0
 2774              	.LVL272:
 2775              	.L221:
1585:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2776              		.loc 1 1585 1 view .LVU1006
 2777 00c4 2046     		mov	r0, r4
 2778 00c6 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2779              	.LVL273:
 2780              	.L222:
1509:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (cs < 2) return 1;				/* Test for insanity */
 2781              		.loc 1 1509 3 is_stmt 1 view .LVU1007
1509:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (cs < 2) return 1;				/* Test for insanity */
 2782              		.loc 1 1509 8 is_stmt 0 view .LVU1008
 2783 00ca 4046     		mov	r0, r8
 2784              	.LVL274:
1509:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (cs < 2) return 1;				/* Test for insanity */
 2785              		.loc 1 1509 8 view .LVU1009
 2786 00cc FFF7FEFF 		bl	get_fat.isra.0
 2787              	.LVL275:
1510:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* Test for disk error */
 2788              		.loc 1 1510 6 view .LVU1010
 2789 00d0 0128     		cmp	r0, #1
1509:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (cs < 2) return 1;				/* Test for insanity */
 2790              		.loc 1 1509 8 view .LVU1011
 2791 00d2 0446     		mov	r4, r0
 2792              	.LVL276:
1510:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* Test for disk error */
 2793              		.loc 1 1510 3 is_stmt 1 view .LVU1012
1510:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* Test for disk error */
 2794              		.loc 1 1510 6 is_stmt 0 view .LVU1013
 2795 00d4 22D9     		bls	.L229
1511:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 2796              		.loc 1 1511 3 is_stmt 1 view .LVU1014
1511:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 2797              		.loc 1 1511 6 is_stmt 0 view .LVU1015
 2798 00d6 421C     		adds	r2, r0, #1
 2799 00d8 2AD0     		beq	.L226
1512:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		scl = clst;							/* Cluster to start to find */
 2800              		.loc 1 1512 3 is_stmt 1 view .LVU1016
1512:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		scl = clst;							/* Cluster to start to find */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 130


 2801              		.loc 1 1512 14 is_stmt 0 view .LVU1017
 2802 00da D8F81430 		ldr	r3, [r8, #20]
1512:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		scl = clst;							/* Cluster to start to find */
 2803              		.loc 1 1512 6 view .LVU1018
 2804 00de 8342     		cmp	r3, r0
 2805 00e0 F0D8     		bhi	.L221
 2806              	.LVL277:
1515:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2807              		.loc 1 1515 2 is_stmt 1 view .LVU1019
1515:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2808              		.loc 1 1515 5 is_stmt 0 view .LVU1020
 2809 00e2 D8F81020 		ldr	r2, [r8, #16]
 2810 00e6 002A     		cmp	r2, #0
 2811 00e8 EBD0     		beq	.L236
 2812              	.LVL278:
1546:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ncl >= fs->n_fatent) ncl = 2;
 2813              		.loc 1 1546 4 is_stmt 1 view .LVU1021
1546:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ncl >= fs->n_fatent) ncl = 2;
 2814              		.loc 1 1546 8 is_stmt 0 view .LVU1022
 2815 00ea 7C1C     		adds	r4, r7, #1
 2816              	.LVL279:
1547:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			cs = get_fat(obj, ncl);				/* Get next cluster status */
 2817              		.loc 1 1547 4 is_stmt 1 view .LVU1023
1547:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			cs = get_fat(obj, ncl);				/* Get next cluster status */
 2818              		.loc 1 1547 33 is_stmt 0 view .LVU1024
 2819 00ec A342     		cmp	r3, r4
 2820 00ee 98BF     		it	ls
 2821 00f0 0224     		movls	r4, #2
 2822              	.LVL280:
1548:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* Test for error */
 2823              		.loc 1 1548 4 is_stmt 1 view .LVU1025
1548:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* Test for error */
 2824              		.loc 1 1548 9 is_stmt 0 view .LVU1026
 2825 00f2 3068     		ldr	r0, [r6]
 2826 00f4 2146     		mov	r1, r4
 2827 00f6 FFF7FEFF 		bl	get_fat.isra.0
 2828              	.LVL281:
1549:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (cs != 0) {						/* Not free? */
 2829              		.loc 1 1549 4 is_stmt 1 view .LVU1027
1549:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (cs != 0) {						/* Not free? */
 2830              		.loc 1 1549 7 is_stmt 0 view .LVU1028
 2831 00fa 0128     		cmp	r0, #1
 2832 00fc 0ED0     		beq	.L229
1549:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (cs != 0) {						/* Not free? */
 2833              		.loc 1 1549 16 discriminator 2 view .LVU1029
 2834 00fe 431C     		adds	r3, r0, #1
 2835 0100 16D0     		beq	.L226
1550:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				cs = fs->last_clst;				/* Start at suggested cluster if it is valid */
 2836              		.loc 1 1550 4 is_stmt 1 view .LVU1030
1550:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				cs = fs->last_clst;				/* Start at suggested cluster if it is valid */
 2837              		.loc 1 1550 7 is_stmt 0 view .LVU1031
 2838 0102 78B1     		cbz	r0, .L230
1551:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (cs >= 2 && cs < fs->n_fatent) scl = cs;
 2839              		.loc 1 1551 5 is_stmt 1 view .LVU1032
1551:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (cs >= 2 && cs < fs->n_fatent) scl = cs;
 2840              		.loc 1 1551 8 is_stmt 0 view .LVU1033
 2841 0104 D8F80C50 		ldr	r5, [r8, #12]
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 131


 2842              	.LVL282:
1552:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				ncl = 0;
 2843              		.loc 1 1552 5 is_stmt 1 view .LVU1034
1552:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				ncl = 0;
 2844              		.loc 1 1552 27 is_stmt 0 view .LVU1035
 2845 0108 D8F81430 		ldr	r3, [r8, #20]
1552:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				ncl = 0;
 2846              		.loc 1 1552 8 view .LVU1036
 2847 010c 012D     		cmp	r5, #1
 2848 010e 0DD9     		bls	.L274
 2849 0110 AB42     		cmp	r3, r5
 2850 0112 98BF     		it	ls
 2851 0114 3D46     		movls	r5, r7
 2852 0116 8AE7     		b	.L232
 2853              	.LVL283:
 2854              	.L238:
1581:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 2855              		.loc 1 1581 3 is_stmt 1 view .LVU1037
1581:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 2856              		.loc 1 1581 43 is_stmt 0 view .LVU1038
 2857 0118 0128     		cmp	r0, #1
 2858 011a 09D0     		beq	.L226
 2859              	.L229:
1510:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* Test for disk error */
 2860              		.loc 1 1510 22 view .LVU1039
 2861 011c 0124     		movs	r4, #1
1585:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2862              		.loc 1 1585 1 view .LVU1040
 2863 011e 2046     		mov	r0, r4
 2864 0120 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2865              	.LVL284:
 2866              	.L230:
1556:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ncl = scl;	/* Start cluster */
 2867              		.loc 1 1556 3 is_stmt 1 view .LVU1041
1556:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ncl = scl;	/* Start cluster */
 2868              		.loc 1 1556 6 is_stmt 0 view .LVU1042
 2869 0124 002C     		cmp	r4, #0
 2870 0126 9AD1     		bne	.L233
 2871 0128 D8F81430 		ldr	r3, [r8, #20]
 2872              	.LVL285:
 2873              	.L274:
1556:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ncl = scl;	/* Start cluster */
 2874              		.loc 1 1556 6 view .LVU1043
 2875 012c 3D46     		mov	r5, r7
 2876 012e 7EE7     		b	.L232
 2877              	.LVL286:
 2878              	.L226:
1581:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 2879              		.loc 1 1581 43 view .LVU1044
 2880 0130 4FF0FF34 		mov	r4, #-1
1585:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2881              		.loc 1 1585 1 view .LVU1045
 2882 0134 2046     		mov	r0, r4
 2883 0136 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
1585:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2884              		.loc 1 1585 1 view .LVU1046
 2885              		.cfi_endproc
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 132


 2886              	.LFE13:
 2888 013a 00BF     		.section	.text.remove_chain,"ax",%progbits
 2889              		.align	1
 2890              		.p2align 2,,3
 2891              		.syntax unified
 2892              		.thumb
 2893              		.thumb_func
 2894              		.fpu fpv4-sp-d16
 2896              	remove_chain:
 2897              	.LVL287:
 2898              	.LFB12:
1404:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res = FR_OK;
 2899              		.loc 1 1404 1 is_stmt 1 view -0
 2900              		.cfi_startproc
 2901              		@ args = 0, pretend = 0, frame = 0
 2902              		@ frame_needed = 0, uses_anonymous_args = 0
1405:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD nxt;
 2903              		.loc 1 1405 2 view .LVU1048
1406:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = obj->fs;
 2904              		.loc 1 1406 2 view .LVU1049
1407:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT || FF_USE_TRIM
 2905              		.loc 1 1407 2 view .LVU1050
1415:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2906              		.loc 1 1415 5 is_stmt 0 view .LVU1051
 2907 0000 0129     		cmp	r1, #1
1404:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res = FR_OK;
 2908              		.loc 1 1404 1 view .LVU1052
 2909 0002 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2910              		.cfi_def_cfa_offset 24
 2911              		.cfi_offset 3, -24
 2912              		.cfi_offset 4, -20
 2913              		.cfi_offset 5, -16
 2914              		.cfi_offset 6, -12
 2915              		.cfi_offset 7, -8
 2916              		.cfi_offset 14, -4
1407:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT || FF_USE_TRIM
 2917              		.loc 1 1407 9 view .LVU1053
 2918 0004 0668     		ldr	r6, [r0]
 2919              	.LVL288:
1415:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2920              		.loc 1 1415 2 is_stmt 1 view .LVU1054
1415:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2921              		.loc 1 1415 5 is_stmt 0 view .LVU1055
 2922 0006 28D9     		bls	.L277
1415:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2923              		.loc 1 1415 28 discriminator 2 view .LVU1056
 2924 0008 7369     		ldr	r3, [r6, #20]
1415:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2925              		.loc 1 1415 15 discriminator 2 view .LVU1057
 2926 000a 8B42     		cmp	r3, r1
 2927 000c 0C46     		mov	r4, r1
 2928 000e 24D9     		bls	.L277
1418:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
 2929              		.loc 1 1418 2 is_stmt 1 view .LVU1058
 2930 0010 0746     		mov	r7, r0
1418:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
 2931              		.loc 1 1418 5 is_stmt 0 view .LVU1059
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 133


 2932 0012 F2B9     		cbnz	r2, .L290
 2933 0014 3046     		mov	r0, r6
 2934              	.LVL289:
 2935              	.L283:
1424:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		nxt = get_fat(obj, clst);			/* Get cluster status */
 2936              		.loc 1 1424 2 is_stmt 1 view .LVU1060
1425:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
 2937              		.loc 1 1425 3 view .LVU1061
1425:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
 2938              		.loc 1 1425 9 is_stmt 0 view .LVU1062
 2939 0016 2146     		mov	r1, r4
 2940 0018 FFF7FEFF 		bl	get_fat.isra.0
 2941              	.LVL290:
1427:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 2942              		.loc 1 1427 3 is_stmt 1 view .LVU1063
1428:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!FF_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 2943              		.loc 1 1428 3 view .LVU1064
1429:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = put_fat(fs, clst, 0);		/* Mark the cluster 'free' on the FAT */
 2944              		.loc 1 1429 3 view .LVU1065
1430:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) return res;
 2945              		.loc 1 1430 4 view .LVU1066
 2946              	.LBB478:
 2947              	.LBI478:
1209:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Corresponding filesystem object */
 2948              		.loc 1 1209 16 view .LVU1067
 2949              	.LBB479:
1215:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE *p;
 2950              		.loc 1 1215 2 view .LVU1068
1216:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res = FR_INT_ERR;
 2951              		.loc 1 1216 2 view .LVU1069
1217:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2952              		.loc 1 1217 2 view .LVU1070
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 2953              		.loc 1 1220 2 view .LVU1071
 2954              	.LBE479:
 2955              	.LBE478:
1425:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
 2956              		.loc 1 1425 9 is_stmt 0 view .LVU1072
 2957 001c 0546     		mov	r5, r0
 2958              	.LVL291:
1426:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 2959              		.loc 1 1426 3 is_stmt 1 view .LVU1073
 2960              	.LBB483:
 2961              	.LBB480:
 2962 001e 2146     		mov	r1, r4
 2963 0020 0022     		movs	r2, #0
 2964 0022 3046     		mov	r0, r6
 2965              	.LVL292:
1426:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 2966              		.loc 1 1426 3 is_stmt 0 view .LVU1074
 2967              	.LBE480:
 2968              	.LBE483:
1426:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 2969              		.loc 1 1426 6 view .LVU1075
 2970 0024 65B3     		cbz	r5, .L282
 2971              	.LVL293:
1427:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 134


 2972              		.loc 1 1427 6 view .LVU1076
 2973 0026 012D     		cmp	r5, #1
 2974 0028 17D0     		beq	.L277
1428:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!FF_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 2975              		.loc 1 1428 6 view .LVU1077
 2976 002a 6B1C     		adds	r3, r5, #1
 2977 002c 2AD0     		beq	.L285
 2978              	.LBB484:
 2979              	.LBB481:
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 2980              		.loc 1 1220 5 view .LVU1078
 2981 002e 012C     		cmp	r4, #1
 2982 0030 13D9     		bls	.L277
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 2983              		.loc 1 1220 16 view .LVU1079
 2984 0032 7369     		ldr	r3, [r6, #20]
 2985 0034 9C42     		cmp	r4, r3
 2986 0036 10D2     		bcs	.L277
 2987 0038 FFF7FEFF 		bl	put_fat.part.0
 2988              	.LVL294:
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 2989              		.loc 1 1220 16 view .LVU1080
 2990              	.LBE481:
 2991              	.LBE484:
1433:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->free_clst++;
 2992              		.loc 1 1433 3 is_stmt 1 view .LVU1081
1434:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->fsi_flag |= 1;
 2993              		.loc 1 1434 4 view .LVU1082
1455:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (clst < fs->n_fatent);	/* Repeat while not the last link */
 2994              		.loc 1 1455 3 view .LVU1083
1456:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 2995              		.loc 1 1456 10 view .LVU1084
 2996              	.LBB485:
 2997              	.LBB482:
1257:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2998              		.loc 1 1257 2 view .LVU1085
1257:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 2999              		.loc 1 1257 2 is_stmt 0 view .LVU1086
 3000              	.LBE482:
 3001              	.LBE485:
1431:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 3002              		.loc 1 1431 4 is_stmt 1 view .LVU1087
1431:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 3003              		.loc 1 1431 7 is_stmt 0 view .LVU1088
 3004 003c 70B9     		cbnz	r0, .L279
1433:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->free_clst++;
 3005              		.loc 1 1433 9 view .LVU1089
 3006 003e D6E90402 		ldrd	r0, r2, [r6, #16]
 3007              	.LVL295:
1433:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->free_clst++;
 3008              		.loc 1 1433 36 view .LVU1090
 3009 0042 911E     		subs	r1, r2, #2
1433:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->free_clst++;
 3010              		.loc 1 1433 6 view .LVU1091
 3011 0044 8842     		cmp	r0, r1
 3012 0046 0AD3     		bcc	.L291
 3013              	.L281:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 135


1456:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3014              		.loc 1 1456 2 view .LVU1092
 3015 0048 AA42     		cmp	r2, r5
 3016 004a 19D9     		bls	.L282
 3017 004c 3868     		ldr	r0, [r7]
 3018 004e 2C46     		mov	r4, r5
 3019 0050 E1E7     		b	.L283
 3020              	.LVL296:
 3021              	.L290:
1419:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) return res;
 3022              		.loc 1 1419 3 is_stmt 1 view .LVU1093
 3023              	.LBB486:
 3024              	.LBI486:
1209:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Corresponding filesystem object */
 3025              		.loc 1 1209 16 view .LVU1094
 3026              	.LBB487:
1215:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE *p;
 3027              		.loc 1 1215 2 view .LVU1095
1216:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res = FR_INT_ERR;
 3028              		.loc 1 1216 2 view .LVU1096
1217:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3029              		.loc 1 1217 2 view .LVU1097
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 3030              		.loc 1 1220 2 view .LVU1098
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 3031              		.loc 1 1220 5 is_stmt 0 view .LVU1099
 3032 0052 012A     		cmp	r2, #1
 3033 0054 01D9     		bls	.L277
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 3034              		.loc 1 1220 16 view .LVU1100
 3035 0056 9342     		cmp	r3, r2
 3036 0058 08D8     		bhi	.L292
 3037              	.LVL297:
 3038              	.L277:
1220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		switch (fs->fs_type) {
 3039              		.loc 1 1220 16 view .LVU1101
 3040              	.LBE487:
 3041              	.LBE486:
1415:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3042              		.loc 1 1415 47 view .LVU1102
 3043 005a 0220     		movs	r0, #2
 3044              	.LVL298:
 3045              	.L279:
1485:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3046              		.loc 1 1485 1 view .LVU1103
 3047 005c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3048              	.LVL299:
 3049              	.L291:
1435:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 3050              		.loc 1 1435 17 view .LVU1104
 3051 005e 3479     		ldrb	r4, [r6, #4]	@ zero_extendqisi2
1434:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->fsi_flag |= 1;
 3052              		.loc 1 1434 17 view .LVU1105
 3053 0060 0130     		adds	r0, r0, #1
1435:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 3054              		.loc 1 1435 17 view .LVU1106
 3055 0062 44F00103 		orr	r3, r4, #1
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 136


1434:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->fsi_flag |= 1;
 3056              		.loc 1 1434 17 view .LVU1107
 3057 0066 3061     		str	r0, [r6, #16]
1435:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 3058              		.loc 1 1435 4 is_stmt 1 view .LVU1108
1435:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 3059              		.loc 1 1435 17 is_stmt 0 view .LVU1109
 3060 0068 3371     		strb	r3, [r6, #4]
 3061 006a EDE7     		b	.L281
 3062              	.LVL300:
 3063              	.L292:
 3064              	.LBB489:
 3065              	.LBB488:
1435:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 3066              		.loc 1 1435 17 view .LVU1110
 3067 006c 1146     		mov	r1, r2
 3068              	.LVL301:
1435:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 3069              		.loc 1 1435 17 view .LVU1111
 3070 006e 3046     		mov	r0, r6
 3071              	.LVL302:
1435:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 3072              		.loc 1 1435 17 view .LVU1112
 3073 0070 4FF0FF32 		mov	r2, #-1
 3074              	.LVL303:
1435:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 3075              		.loc 1 1435 17 view .LVU1113
 3076 0074 FFF7FEFF 		bl	put_fat.part.0
 3077              	.LVL304:
1257:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3078              		.loc 1 1257 2 is_stmt 1 view .LVU1114
1257:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3079              		.loc 1 1257 2 is_stmt 0 view .LVU1115
 3080              	.LBE488:
 3081              	.LBE489:
1420:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 3082              		.loc 1 1420 3 is_stmt 1 view .LVU1116
1420:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 3083              		.loc 1 1420 6 is_stmt 0 view .LVU1117
 3084 0078 0028     		cmp	r0, #0
 3085 007a EFD1     		bne	.L279
 3086 007c 3868     		ldr	r0, [r7]
 3087              	.LVL305:
1420:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 3088              		.loc 1 1420 6 view .LVU1118
 3089 007e CAE7     		b	.L283
 3090              	.LVL306:
 3091              	.L282:
1484:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3092              		.loc 1 1484 9 view .LVU1119
 3093 0080 0020     		movs	r0, #0
1485:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3094              		.loc 1 1485 1 view .LVU1120
 3095 0082 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3096              	.LVL307:
 3097              	.L285:
1428:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!FF_FS_EXFAT || fs->fs_type != FS_EXFAT) {
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 137


 3098              		.loc 1 1428 33 view .LVU1121
 3099 0084 0120     		movs	r0, #1
 3100              	.LVL308:
1485:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3101              		.loc 1 1485 1 view .LVU1122
 3102 0086 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
1485:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3103              		.loc 1 1485 1 view .LVU1123
 3104              		.cfi_endproc
 3105              	.LFE12:
 3107              		.section	.text.dir_next,"ax",%progbits
 3108              		.align	1
 3109              		.p2align 2,,3
 3110              		.syntax unified
 3111              		.thumb
 3112              		.thumb_func
 3113              		.fpu fpv4-sp-d16
 3115              	dir_next:
 3116              	.LVL309:
 3117              	.LFB16:
1718:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD ofs, clst;
 3118              		.loc 1 1718 1 is_stmt 1 view -0
 3119              		.cfi_startproc
 3120              		@ args = 0, pretend = 0, frame = 0
 3121              		@ frame_needed = 0, uses_anonymous_args = 0
1719:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
 3122              		.loc 1 1719 2 view .LVU1125
1720:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3123              		.loc 1 1720 2 view .LVU1126
1718:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD ofs, clst;
 3124              		.loc 1 1718 1 is_stmt 0 view .LVU1127
 3125 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3126              		.cfi_def_cfa_offset 32
 3127              		.cfi_offset 4, -32
 3128              		.cfi_offset 5, -28
 3129              		.cfi_offset 6, -24
 3130              		.cfi_offset 7, -20
 3131              		.cfi_offset 8, -16
 3132              		.cfi_offset 9, -12
 3133              		.cfi_offset 10, -8
 3134              		.cfi_offset 14, -4
1723:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (ofs >= (DWORD)((FF_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) dp->sect = 0;
 3135              		.loc 1 1723 6 view .LVU1128
 3136 0004 0569     		ldr	r5, [r0, #16]
 3137 0006 2035     		adds	r5, r5, #32
1724:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->sect == 0) return FR_NO_FILE;	/* Report EOT if it has been disabled */
 3138              		.loc 1 1724 5 view .LVU1129
 3139 0008 B5F5001F 		cmp	r5, #2097152
1718:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD ofs, clst;
 3140              		.loc 1 1718 1 view .LVU1130
 3141 000c 0446     		mov	r4, r0
 3142              	.LVL310:
1723:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (ofs >= (DWORD)((FF_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) dp->sect = 0;
 3143              		.loc 1 1723 2 is_stmt 1 view .LVU1131
1724:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->sect == 0) return FR_NO_FILE;	/* Report EOT if it has been disabled */
 3144              		.loc 1 1724 2 view .LVU1132
1724:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->sect == 0) return FR_NO_FILE;	/* Report EOT if it has been disabled */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 138


 3145              		.loc 1 1724 5 is_stmt 0 view .LVU1133
 3146 000e 04D3     		bcc	.L294
 3147              	.LVL311:
 3148              	.L299:
1724:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->sect == 0) return FR_NO_FILE;	/* Report EOT if it has been disabled */
 3149              		.loc 1 1724 87 is_stmt 1 discriminator 1 view .LVU1134
1724:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->sect == 0) return FR_NO_FILE;	/* Report EOT if it has been disabled */
 3150              		.loc 1 1724 96 is_stmt 0 discriminator 1 view .LVU1135
 3151 0010 0025     		movs	r5, #0
 3152              	.LVL312:
1724:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->sect == 0) return FR_NO_FILE;	/* Report EOT if it has been disabled */
 3153              		.loc 1 1724 96 discriminator 1 view .LVU1136
 3154 0012 A561     		str	r5, [r4, #24]
1725:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3155              		.loc 1 1725 2 is_stmt 1 discriminator 1 view .LVU1137
1725:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3156              		.loc 1 1725 28 is_stmt 0 discriminator 1 view .LVU1138
 3157 0014 0420     		movs	r0, #4
 3158              	.L295:
1765:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3159              		.loc 1 1765 1 view .LVU1139
 3160 0016 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3161              	.LVL313:
 3162              	.L294:
1725:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3163              		.loc 1 1725 2 is_stmt 1 view .LVU1140
1725:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3164              		.loc 1 1725 8 is_stmt 0 view .LVU1141
 3165 001a 8369     		ldr	r3, [r0, #24]
1725:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3166              		.loc 1 1725 5 view .LVU1142
 3167 001c 002B     		cmp	r3, #0
 3168 001e 4FD0     		beq	.L307
1727:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->sect++;				/* Next sector */
 3169              		.loc 1 1727 10 view .LVU1143
 3170 0020 C5F30808 		ubfx	r8, r5, #0, #9
1720:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3171              		.loc 1 1720 9 view .LVU1144
 3172 0024 0668     		ldr	r6, [r0]
1727:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->sect++;				/* Next sector */
 3173              		.loc 1 1727 2 is_stmt 1 view .LVU1145
1727:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->sect++;				/* Next sector */
 3174              		.loc 1 1727 5 is_stmt 0 view .LVU1146
 3175 0026 B8F1000F 		cmp	r8, #0
 3176 002a 37D1     		bne	.L297
1728:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3177              		.loc 1 1728 3 is_stmt 1 view .LVU1147
 3178 002c 0F46     		mov	r7, r1
1730:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 3179              		.loc 1 1730 9 is_stmt 0 view .LVU1148
 3180 002e 4169     		ldr	r1, [r0, #20]
 3181              	.LVL314:
1728:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3182              		.loc 1 1728 11 view .LVU1149
 3183 0030 0133     		adds	r3, r3, #1
 3184 0032 8361     		str	r3, [r0, #24]
1730:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 139


 3185              		.loc 1 1730 3 is_stmt 1 view .LVU1150
1730:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 3186              		.loc 1 1730 6 is_stmt 0 view .LVU1151
 3187 0034 0029     		cmp	r1, #0
 3188 0036 38D0     		beq	.L319
1736:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);		/* Get next cluster */
 3189              		.loc 1 1736 4 is_stmt 1 view .LVU1152
1736:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);		/* Get next cluster */
 3190              		.loc 1 1736 27 is_stmt 0 view .LVU1153
 3191 0038 7089     		ldrh	r0, [r6, #10]
 3192              	.LVL315:
1736:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);		/* Get next cluster */
 3193              		.loc 1 1736 35 view .LVU1154
 3194 003a 421E     		subs	r2, r0, #1
1736:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);		/* Get next cluster */
 3195              		.loc 1 1736 7 view .LVU1155
 3196 003c 12EA5529 		ands	r9, r2, r5, lsr #9
 3197 0040 2CD1     		bne	.L297
1737:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst <= 1) return FR_INT_ERR;			/* Internal error */
 3198              		.loc 1 1737 5 is_stmt 1 view .LVU1156
1737:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst <= 1) return FR_INT_ERR;			/* Internal error */
 3199              		.loc 1 1737 12 is_stmt 0 view .LVU1157
 3200 0042 3046     		mov	r0, r6
 3201 0044 FFF7FEFF 		bl	get_fat.isra.0
 3202              	.LVL316:
1738:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3203              		.loc 1 1738 8 view .LVU1158
 3204 0048 0128     		cmp	r0, #1
1737:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst <= 1) return FR_INT_ERR;			/* Internal error */
 3205              		.loc 1 1737 12 view .LVU1159
 3206 004a 8246     		mov	r10, r0
 3207              	.LVL317:
1738:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3208              		.loc 1 1738 5 is_stmt 1 view .LVU1160
1738:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3209              		.loc 1 1738 8 is_stmt 0 view .LVU1161
 3210 004c 34D9     		bls	.L304
1739:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst >= fs->n_fatent) {					/* It reached end of dynamic table */
 3211              		.loc 1 1739 5 is_stmt 1 view .LVU1162
1739:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst >= fs->n_fatent) {					/* It reached end of dynamic table */
 3212              		.loc 1 1739 8 is_stmt 0 view .LVU1163
 3213 004e B0F1FF3F 		cmp	r0, #-1
 3214 0052 2FD0     		beq	.L305
1740:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 3215              		.loc 1 1740 5 is_stmt 1 view .LVU1164
1740:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 3216              		.loc 1 1740 19 is_stmt 0 view .LVU1165
 3217 0054 7169     		ldr	r1, [r6, #20]
1740:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 3218              		.loc 1 1740 8 view .LVU1166
 3219 0056 8142     		cmp	r1, r0
 3220 0058 12D8     		bhi	.L303
1742:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
 3221              		.loc 1 1742 6 is_stmt 1 view .LVU1167
1742:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
 3222              		.loc 1 1742 9 is_stmt 0 view .LVU1168
 3223 005a 002F     		cmp	r7, #0
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 140


 3224 005c D8D0     		beq	.L299
1745:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 3225              		.loc 1 1745 6 is_stmt 1 view .LVU1169
1745:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 3226              		.loc 1 1745 13 is_stmt 0 view .LVU1170
 3227 005e 6169     		ldr	r1, [r4, #20]
 3228 0060 2046     		mov	r0, r4
 3229              	.LVL318:
1745:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 3230              		.loc 1 1745 13 view .LVU1171
 3231 0062 FFF7FEFF 		bl	create_chain
 3232              	.LVL319:
1746:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 3233              		.loc 1 1746 6 is_stmt 1 view .LVU1172
1746:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 3234              		.loc 1 1746 9 is_stmt 0 view .LVU1173
 3235 0066 8246     		mov	r10, r0
 3236 0068 40B3     		cbz	r0, .L308
1747:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3237              		.loc 1 1747 6 is_stmt 1 view .LVU1174
1747:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3238              		.loc 1 1747 9 is_stmt 0 view .LVU1175
 3239 006a 0128     		cmp	r0, #1
 3240 006c 24D0     		beq	.L304
1748:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (dir_clear(fs, clst) != FR_OK) return FR_DISK_ERR;	/* Clean up the stretched table */
 3241              		.loc 1 1748 6 is_stmt 1 view .LVU1176
1748:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (dir_clear(fs, clst) != FR_OK) return FR_DISK_ERR;	/* Clean up the stretched table */
 3242              		.loc 1 1748 9 is_stmt 0 view .LVU1177
 3243 006e B0F1FF3F 		cmp	r0, #-1
 3244 0072 1FD0     		beq	.L305
1749:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (FF_FS_EXFAT) dp->obj.stat |= 4;			/* exFAT: The directory has been stretched */
 3245              		.loc 1 1749 6 is_stmt 1 view .LVU1178
1749:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (FF_FS_EXFAT) dp->obj.stat |= 4;			/* exFAT: The directory has been stretched */
 3246              		.loc 1 1749 10 is_stmt 0 view .LVU1179
 3247 0074 0146     		mov	r1, r0
 3248 0076 3046     		mov	r0, r6
 3249              	.LVL320:
1749:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (FF_FS_EXFAT) dp->obj.stat |= 4;			/* exFAT: The directory has been stretched */
 3250              		.loc 1 1749 10 view .LVU1180
 3251 0078 FFF7FEFF 		bl	dir_clear
 3252              	.LVL321:
1749:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (FF_FS_EXFAT) dp->obj.stat |= 4;			/* exFAT: The directory has been stretched */
 3253              		.loc 1 1749 9 view .LVU1181
 3254 007c D0B9     		cbnz	r0, .L305
 3255 007e 7169     		ldr	r1, [r6, #20]
 3256              	.L303:
1756:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->sect = clst2sect(fs, clst);
 3257              		.loc 1 1756 5 is_stmt 1 view .LVU1182
1756:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->sect = clst2sect(fs, clst);
 3258              		.loc 1 1756 15 is_stmt 0 view .LVU1183
 3259 0080 C4F814A0 		str	r10, [r4, #20]
1757:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 3260              		.loc 1 1757 5 is_stmt 1 view .LVU1184
 3261              	.LVL322:
 3262              	.LBB490:
 3263              	.LBI490:
1114:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 141


 3264              		.loc 1 1114 14 view .LVU1185
 3265              	.LBB491:
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 3266              		.loc 1 1119 2 view .LVU1186
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 3267              		.loc 1 1120 27 is_stmt 0 view .LVU1187
 3268 0084 A1F1020C 		sub	ip, r1, #2
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 3269              		.loc 1 1119 7 view .LVU1188
 3270 0088 AAF10207 		sub	r7, r10, #2
 3271              	.LVL323:
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 3272              		.loc 1 1120 2 is_stmt 1 view .LVU1189
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 3273              		.loc 1 1120 5 is_stmt 0 view .LVU1190
 3274 008c 6745     		cmp	r7, ip
 3275 008e 03D2     		bcs	.L306
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3276              		.loc 1 1121 2 is_stmt 1 view .LVU1191
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3277              		.loc 1 1121 24 is_stmt 0 view .LVU1192
 3278 0090 7089     		ldrh	r0, [r6, #10]
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3279              		.loc 1 1121 22 view .LVU1193
 3280 0092 B36A     		ldr	r3, [r6, #40]
 3281 0094 07FB0039 		mla	r9, r7, r0, r3
 3282              	.L306:
 3283              	.LVL324:
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3284              		.loc 1 1121 22 view .LVU1194
 3285              	.LBE491:
 3286              	.LBE490:
1757:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 3287              		.loc 1 1757 14 view .LVU1195
 3288 0098 C4F81890 		str	r9, [r4, #24]
 3289              	.LVL325:
 3290              	.L297:
1761:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
 3291              		.loc 1 1761 2 is_stmt 1 view .LVU1196
1762:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3292              		.loc 1 1762 12 is_stmt 0 view .LVU1197
 3293 009c 3036     		adds	r6, r6, #48
1762:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3294              		.loc 1 1762 20 view .LVU1198
 3295 009e 4644     		add	r6, r6, r8
1762:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3296              		.loc 1 1762 10 view .LVU1199
 3297 00a0 E661     		str	r6, [r4, #28]
1761:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
 3298              		.loc 1 1761 11 view .LVU1200
 3299 00a2 2561     		str	r5, [r4, #16]
1762:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3300              		.loc 1 1762 2 is_stmt 1 view .LVU1201
1764:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3301              		.loc 1 1764 2 view .LVU1202
1764:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3302              		.loc 1 1764 9 is_stmt 0 view .LVU1203
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 142


 3303 00a4 0020     		movs	r0, #0
1765:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3304              		.loc 1 1765 1 view .LVU1204
 3305 00a6 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3306              	.LVL326:
 3307              	.L319:
1731:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 3308              		.loc 1 1731 4 is_stmt 1 view .LVU1205
1731:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 3309              		.loc 1 1731 26 is_stmt 0 view .LVU1206
 3310 00aa 3289     		ldrh	r2, [r6, #8]
1731:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 3311              		.loc 1 1731 7 view .LVU1207
 3312 00ac B2EB551F 		cmp	r2, r5, lsr #5
 3313 00b0 F4D8     		bhi	.L297
 3314 00b2 ADE7     		b	.L299
 3315              	.LVL327:
 3316              	.L305:
1739:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst >= fs->n_fatent) {					/* It reached end of dynamic table */
 3317              		.loc 1 1739 36 view .LVU1208
 3318 00b4 0120     		movs	r0, #1
 3319 00b6 AEE7     		b	.L295
 3320              	.LVL328:
 3321              	.L304:
1738:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3322              		.loc 1 1738 27 view .LVU1209
 3323 00b8 0220     		movs	r0, #2
 3324              	.LVL329:
1738:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3325              		.loc 1 1738 27 view .LVU1210
 3326 00ba ACE7     		b	.L295
 3327              	.LVL330:
 3328              	.L308:
1746:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 3329              		.loc 1 1746 28 view .LVU1211
 3330 00bc 0720     		movs	r0, #7
 3331              	.LVL331:
1746:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 3332              		.loc 1 1746 28 view .LVU1212
 3333 00be AAE7     		b	.L295
 3334              	.LVL332:
 3335              	.L307:
1725:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3336              		.loc 1 1725 28 view .LVU1213
 3337 00c0 0420     		movs	r0, #4
 3338              	.LVL333:
1725:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3339              		.loc 1 1725 28 view .LVU1214
 3340 00c2 A8E7     		b	.L295
 3341              		.cfi_endproc
 3342              	.LFE16:
 3344              		.section	.text.mount_volume,"ax",%progbits
 3345              		.align	1
 3346              		.p2align 2,,3
 3347              		.syntax unified
 3348              		.thumb
 3349              		.thumb_func
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 143


 3350              		.fpu fpv4-sp-d16
 3352              	mount_volume:
 3353              	.LVL334:
 3354              	.LFB30:
3337:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	int vol;
 3355              		.loc 1 3337 1 is_stmt 1 view -0
 3356              		.cfi_startproc
 3357              		@ args = 0, pretend = 0, frame = 0
 3358              		@ frame_needed = 0, uses_anonymous_args = 0
3338:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DSTATUS stat;
 3359              		.loc 1 3338 2 view .LVU1216
3339:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t bsect;
 3360              		.loc 1 3339 2 view .LVU1217
3340:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD tsect, sysect, fasize, nclst, szbfat;
 3361              		.loc 1 3340 2 view .LVU1218
3341:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	WORD nrsv;
 3362              		.loc 1 3341 2 view .LVU1219
3342:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
 3363              		.loc 1 3342 2 view .LVU1220
3343:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT fmt;
 3364              		.loc 1 3343 2 view .LVU1221
3344:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3365              		.loc 1 3344 2 view .LVU1222
3348:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	vol = get_ldnumber(path);
 3366              		.loc 1 3348 2 view .LVU1223
3337:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	int vol;
 3367              		.loc 1 3337 1 is_stmt 0 view .LVU1224
 3368 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 3369              		.cfi_def_cfa_offset 32
 3370              		.cfi_offset 3, -32
 3371              		.cfi_offset 4, -28
 3372              		.cfi_offset 5, -24
 3373              		.cfi_offset 6, -20
 3374              		.cfi_offset 7, -16
 3375              		.cfi_offset 8, -12
 3376              		.cfi_offset 9, -8
 3377              		.cfi_offset 14, -4
3348:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	vol = get_ldnumber(path);
 3378              		.loc 1 3348 7 view .LVU1225
 3379 0004 0023     		movs	r3, #0
 3380 0006 0B60     		str	r3, [r1]
3349:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 3381              		.loc 1 3349 2 is_stmt 1 view .LVU1226
3337:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	int vol;
 3382              		.loc 1 3337 1 is_stmt 0 view .LVU1227
 3383 0008 0F46     		mov	r7, r1
 3384 000a 1546     		mov	r5, r2
3349:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 3385              		.loc 1 3349 8 view .LVU1228
 3386 000c FFF7FEFF 		bl	get_ldnumber
 3387              	.LVL335:
3350:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3388              		.loc 1 3350 2 is_stmt 1 view .LVU1229
3350:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3389              		.loc 1 3350 5 is_stmt 0 view .LVU1230
 3390 0010 061E     		subs	r6, r0, #0
 3391 0012 C0F22481 		blt	.L349
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 144


3353:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the filesystem object available? */
 3392              		.loc 1 3353 2 is_stmt 1 view .LVU1231
3353:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the filesystem object available? */
 3393              		.loc 1 3353 5 is_stmt 0 view .LVU1232
 3394 0016 B548     		ldr	r0, .L397
 3395              	.LVL336:
3353:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the filesystem object available? */
 3396              		.loc 1 3353 5 view .LVU1233
 3397 0018 50F82640 		ldr	r4, [r0, r6, lsl #2]
 3398              	.LVL337:
3354:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_REENTRANT
 3399              		.loc 1 3354 2 is_stmt 1 view .LVU1234
3354:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_REENTRANT
 3400              		.loc 1 3354 5 is_stmt 0 view .LVU1235
 3401 001c 002C     		cmp	r4, #0
 3402 001e 00F02681 		beq	.L350
3358:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3403              		.loc 1 3358 2 is_stmt 1 view .LVU1236
3358:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3404              		.loc 1 3358 7 is_stmt 0 view .LVU1237
 3405 0022 3C60     		str	r4, [r7]
3360:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type != 0) {				/* If the volume has been mounted */
 3406              		.loc 1 3360 2 is_stmt 1 view .LVU1238
3361:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		stat = disk_status(fs->pdrv);
 3407              		.loc 1 3361 5 is_stmt 0 view .LVU1239
 3408 0024 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
3360:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type != 0) {				/* If the volume has been mounted */
 3409              		.loc 1 3360 7 view .LVU1240
 3410 0026 05F0FE05 		and	r5, r5, #254
 3411              	.LVL338:
3361:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		stat = disk_status(fs->pdrv);
 3412              		.loc 1 3361 2 is_stmt 1 view .LVU1241
3361:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		stat = disk_status(fs->pdrv);
 3413              		.loc 1 3361 5 is_stmt 0 view .LVU1242
 3414 002a 61B1     		cbz	r1, .L322
3362:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 3415              		.loc 1 3362 3 is_stmt 1 view .LVU1243
3362:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 3416              		.loc 1 3362 10 is_stmt 0 view .LVU1244
 3417 002c 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 3418 002e FFF7FEFF 		bl	disk_status
 3419              	.LVL339:
3363:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!FF_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 3420              		.loc 1 3363 3 is_stmt 1 view .LVU1245
3363:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!FF_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 3421              		.loc 1 3363 6 is_stmt 0 view .LVU1246
 3422 0032 C707     		lsls	r7, r0, #31
 3423              	.LVL340:
3363:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!FF_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 3424              		.loc 1 3363 6 view .LVU1247
 3425 0034 07D4     		bmi	.L322
3364:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				return FR_WRITE_PROTECTED;
 3426              		.loc 1 3364 4 is_stmt 1 view .LVU1248
3364:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				return FR_WRITE_PROTECTED;
 3427              		.loc 1 3364 7 is_stmt 0 view .LVU1249
 3428 0036 1DB1     		cbz	r5, .L354
3364:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				return FR_WRITE_PROTECTED;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 145


 3429              		.loc 1 3364 32 discriminator 1 view .LVU1250
 3430 0038 10F00405 		ands	r5, r0, #4
 3431              	.LVL341:
3364:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				return FR_WRITE_PROTECTED;
 3432              		.loc 1 3364 32 discriminator 1 view .LVU1251
 3433 003c 40F01381 		bne	.L324
 3434              	.LVL342:
 3435              	.L354:
3552:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3436              		.loc 1 3552 1 view .LVU1252
 3437 0040 2846     		mov	r0, r5
 3438 0042 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 3439              	.LVL343:
 3440              	.L322:
3374:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fs->pdrv = LD2PD(vol);				/* Volume hosting physical drive */
 3441              		.loc 1 3374 2 is_stmt 1 view .LVU1253
3375:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	stat = disk_initialize(fs->pdrv);	/* Initialize the physical drive */
 3442              		.loc 1 3375 13 is_stmt 0 view .LVU1254
 3443 0046 F0B2     		uxtb	r0, r6
3374:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fs->pdrv = LD2PD(vol);				/* Volume hosting physical drive */
 3444              		.loc 1 3374 14 view .LVU1255
 3445 0048 0022     		movs	r2, #0
3375:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	stat = disk_initialize(fs->pdrv);	/* Initialize the physical drive */
 3446              		.loc 1 3375 11 view .LVU1256
 3447 004a 6070     		strb	r0, [r4, #1]
3374:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fs->pdrv = LD2PD(vol);				/* Volume hosting physical drive */
 3448              		.loc 1 3374 14 view .LVU1257
 3449 004c 2270     		strb	r2, [r4]
3375:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	stat = disk_initialize(fs->pdrv);	/* Initialize the physical drive */
 3450              		.loc 1 3375 2 is_stmt 1 view .LVU1258
3376:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
 3451              		.loc 1 3376 2 view .LVU1259
3376:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
 3452              		.loc 1 3376 9 is_stmt 0 view .LVU1260
 3453 004e FFF7FEFF 		bl	disk_initialize
 3454              	.LVL344:
3377:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 3455              		.loc 1 3377 2 is_stmt 1 view .LVU1261
3377:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 3456              		.loc 1 3377 5 is_stmt 0 view .LVU1262
 3457 0052 C607     		lsls	r6, r0, #31
 3458              	.LVL345:
3377:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 3459              		.loc 1 3377 5 view .LVU1263
 3460 0054 00F1B080 		bmi	.L351
3380:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return FR_WRITE_PROTECTED;
 3461              		.loc 1 3380 2 is_stmt 1 view .LVU1264
3380:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return FR_WRITE_PROTECTED;
 3462              		.loc 1 3380 5 is_stmt 0 view .LVU1265
 3463 0058 15B1     		cbz	r5, .L323
3380:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return FR_WRITE_PROTECTED;
 3464              		.loc 1 3380 30 discriminator 1 view .LVU1266
 3465 005a 4107     		lsls	r1, r0, #29
 3466 005c 00F10381 		bmi	.L324
 3467              	.L323:
3389:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fmt == 4) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
 3468              		.loc 1 3389 2 is_stmt 1 view .LVU1267
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 146


 3469              	.LVL346:
 3470              	.LBB528:
 3471              	.LBI528:
3278:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 3472              		.loc 1 3278 13 view .LVU1268
 3473              	.LBB529:
3283:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD mbr_pt[4];
 3474              		.loc 1 3283 2 view .LVU1269
3284:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3475              		.loc 1 3284 2 view .LVU1270
3287:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fmt != 2 && (fmt >= 3 || part == 0)) return fmt;	/* Returns if it is an FAT VBR as auto scan, 
 3476              		.loc 1 3287 2 view .LVU1271
3287:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fmt != 2 && (fmt >= 3 || part == 0)) return fmt;	/* Returns if it is an FAT VBR as auto scan, 
 3477              		.loc 1 3287 8 is_stmt 0 view .LVU1272
 3478 0060 0021     		movs	r1, #0
 3479 0062 2046     		mov	r0, r4
 3480              	.LVL347:
3287:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fmt != 2 && (fmt >= 3 || part == 0)) return fmt;	/* Returns if it is an FAT VBR as auto scan, 
 3481              		.loc 1 3287 8 view .LVU1273
 3482 0064 FFF7FEFF 		bl	check_fs
 3483              	.LVL348:
3288:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3484              		.loc 1 3288 2 is_stmt 1 view .LVU1274
3288:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3485              		.loc 1 3288 5 is_stmt 0 view .LVU1275
 3486 0068 0228     		cmp	r0, #2
 3487 006a 00F0A980 		beq	.L395
 3488              	.LVL349:
3288:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3489              		.loc 1 3288 5 view .LVU1276
 3490              	.LBE529:
 3491              	.LBE528:
3390:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 3492              		.loc 1 3390 2 is_stmt 1 view .LVU1277
3390:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 3493              		.loc 1 3390 5 is_stmt 0 view .LVU1278
 3494 006e 0428     		cmp	r0, #4
 3495 0070 00F0EF80 		beq	.L353
3391:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	bsect = fs->winsect;					/* Volume offset */
 3496              		.loc 1 3391 2 is_stmt 1 view .LVU1279
3391:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	bsect = fs->winsect;					/* Volume offset */
 3497              		.loc 1 3391 5 is_stmt 0 view .LVU1280
 3498 0074 0128     		cmp	r0, #1
 3499 0076 00F2EE80 		bhi	.L331
 3500              	.LVL350:
 3501              	.L332:
3392:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3502              		.loc 1 3392 2 is_stmt 1 view .LVU1281
3460:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3503              		.loc 1 3460 3 view .LVU1282
 3504              	.LBB541:
 3505              	.LBI541:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 3506              		.loc 1 614 13 view .LVU1283
 3507              	.LBB542:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3508              		.loc 1 616 2 view .LVU1284
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 147


 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3509              		.loc 1 618 2 view .LVU1285
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3510              		.loc 1 619 2 view .LVU1286
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3511              		.loc 1 620 2 view .LVU1287
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3512              		.loc 1 619 10 is_stmt 0 view .LVU1288
 3513 007a 94F83C00 		ldrb	r0, [r4, #60]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3514              		.loc 1 619 20 view .LVU1289
 3515 007e 94F83B30 		ldrb	r3, [r4, #59]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3516              		.loc 1 619 15 view .LVU1290
 3517 0082 43EA0022 		orr	r2, r3, r0, lsl #8
 3518              	.LBE542:
 3519              	.LBE541:
3460:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3520              		.loc 1 3460 6 view .LVU1291
 3521 0086 B2F5007F 		cmp	r2, #512
 3522 008a 40F0E480 		bne	.L331
3462:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 3523              		.loc 1 3462 3 is_stmt 1 view .LVU1292
 3524              	.LVL351:
 3525              	.LBB543:
 3526              	.LBI543:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 3527              		.loc 1 614 13 view .LVU1293
 3528              	.LBB544:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3529              		.loc 1 616 2 view .LVU1294
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3530              		.loc 1 618 2 view .LVU1295
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3531              		.loc 1 619 2 view .LVU1296
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3532              		.loc 1 619 10 is_stmt 0 view .LVU1297
 3533 008e 94F84710 		ldrb	r1, [r4, #71]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3534              		.loc 1 619 20 view .LVU1298
 3535 0092 94F84650 		ldrb	r5, [r4, #70]	@ zero_extendqisi2
 3536              	.LVL352:
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3537              		.loc 1 620 2 is_stmt 1 view .LVU1299
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3538              		.loc 1 620 2 is_stmt 0 view .LVU1300
 3539              	.LBE544:
 3540              	.LBE543:
3463:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsize = fasize;
 3541              		.loc 1 3463 3 is_stmt 1 view .LVU1301
3463:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsize = fasize;
 3542              		.loc 1 3463 6 is_stmt 0 view .LVU1302
 3543 0096 55EA0123 		orrs	r3, r5, r1, lsl #8
 3544              	.LVL353:
3463:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsize = fasize;
 3545              		.loc 1 3463 6 view .LVU1303
 3546 009a 09D1     		bne	.L334
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 148


3463:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsize = fasize;
 3547              		.loc 1 3463 20 is_stmt 1 discriminator 1 view .LVU1304
 3548              	.LVL354:
 3549              	.LBB545:
 3550              	.LBI545:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 3551              		.loc 1 623 14 discriminator 1 view .LVU1305
 3552              	.LBB546:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3553              		.loc 1 625 2 discriminator 1 view .LVU1306
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 3554              		.loc 1 627 2 discriminator 1 view .LVU1307
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 3555              		.loc 1 628 2 discriminator 1 view .LVU1308
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3556              		.loc 1 629 2 discriminator 1 view .LVU1309
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 3557              		.loc 1 628 5 is_stmt 0 discriminator 1 view .LVU1310
 3558 009c B4F85660 		ldrh	r6, [r4, #86]	@ unaligned
 3559              	.LVL355:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3560              		.loc 1 630 2 is_stmt 1 discriminator 1 view .LVU1311
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3561              		.loc 1 629 20 is_stmt 0 discriminator 1 view .LVU1312
 3562 00a0 94F85570 		ldrb	r7, [r4, #85]	@ zero_extendqisi2
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3563              		.loc 1 630 20 discriminator 1 view .LVU1313
 3564 00a4 94F85400 		ldrb	r0, [r4, #84]	@ zero_extendqisi2
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3565              		.loc 1 629 5 discriminator 1 view .LVU1314
 3566 00a8 47EA062C 		orr	ip, r7, r6, lsl #8
 3567              	.LVL356:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3568              		.loc 1 630 5 discriminator 1 view .LVU1315
 3569 00ac 40EA0C23 		orr	r3, r0, ip, lsl #8
 3570              	.LVL357:
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3571              		.loc 1 631 2 is_stmt 1 discriminator 1 view .LVU1316
 3572              	.L334:
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3573              		.loc 1 631 2 is_stmt 0 discriminator 1 view .LVU1317
 3574              	.LBE546:
 3575              	.LBE545:
3466:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 3576              		.loc 1 3466 23 view .LVU1318
 3577 00b0 94F84000 		ldrb	r0, [r4, #64]	@ zero_extendqisi2
3392:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3578              		.loc 1 3392 8 view .LVU1319
 3579 00b4 E16A     		ldr	r1, [r4, #44]
 3580              	.LVL358:
3464:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3581              		.loc 1 3464 3 is_stmt 1 view .LVU1320
3466:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 3582              		.loc 1 3466 3 view .LVU1321
3467:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 3583              		.loc 1 3467 3 view .LVU1322
3464:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 149


 3584              		.loc 1 3464 13 is_stmt 0 view .LVU1323
 3585 00b6 A361     		str	r3, [r4, #24]
3467:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 3586              		.loc 1 3467 6 view .LVU1324
 3587 00b8 421E     		subs	r2, r0, #1
 3588 00ba 012A     		cmp	r2, #1
3466:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 3589              		.loc 1 3466 14 view .LVU1325
 3590 00bc A070     		strb	r0, [r4, #2]
3467:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 3591              		.loc 1 3467 6 view .LVU1326
 3592 00be 00F2CA80 		bhi	.L331
3468:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3593              		.loc 1 3468 3 is_stmt 1 view .LVU1327
 3594              	.LVL359:
3470:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 3595              		.loc 1 3470 3 view .LVU1328
3470:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 3596              		.loc 1 3470 22 is_stmt 0 view .LVU1329
 3597 00c2 94F83D50 		ldrb	r5, [r4, #61]	@ zero_extendqisi2
 3598 00c6 AEB2     		uxth	r6, r5
3470:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 3599              		.loc 1 3470 13 view .LVU1330
 3600 00c8 6681     		strh	r6, [r4, #10]	@ movhi
3471:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3601              		.loc 1 3471 3 is_stmt 1 view .LVU1331
3471:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3602              		.loc 1 3471 6 is_stmt 0 view .LVU1332
 3603 00ca 002E     		cmp	r6, #0
 3604 00cc 00F0C380 		beq	.L331
3471:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3605              		.loc 1 3471 49 discriminator 2 view .LVU1333
 3606 00d0 6F1E     		subs	r7, r5, #1
3471:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3607              		.loc 1 3471 22 discriminator 2 view .LVU1334
 3608 00d2 2F42     		tst	r7, r5
 3609 00d4 40F0BF80 		bne	.L331
3473:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 3610              		.loc 1 3473 3 is_stmt 1 view .LVU1335
 3611              	.LVL360:
 3612              	.LBB547:
 3613              	.LBI547:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 3614              		.loc 1 614 13 view .LVU1336
 3615              	.LBB548:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3616              		.loc 1 616 2 view .LVU1337
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3617              		.loc 1 618 2 view .LVU1338
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3618              		.loc 1 619 2 view .LVU1339
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3619              		.loc 1 619 10 is_stmt 0 view .LVU1340
 3620 00d8 94F84280 		ldrb	r8, [r4, #66]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3621              		.loc 1 619 20 view .LVU1341
 3622 00dc 94F84190 		ldrb	r9, [r4, #65]	@ zero_extendqisi2
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 150


 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3623              		.loc 1 619 15 view .LVU1342
 3624 00e0 49EA082E 		orr	lr, r9, r8, lsl #8
 3625              	.LBE548:
 3626              	.LBE547:
3474:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3627              		.loc 1 3474 6 view .LVU1343
 3628 00e4 5FEA0E72 		lsls	r2, lr, #28
 3629              	.LBB551:
 3630              	.LBB549:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3631              		.loc 1 619 5 view .LVU1344
 3632 00e8 7746     		mov	r7, lr
 3633              	.LVL361:
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3634              		.loc 1 620 2 is_stmt 1 view .LVU1345
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3635              		.loc 1 620 2 is_stmt 0 view .LVU1346
 3636              	.LBE549:
 3637              	.LBE551:
3473:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 3638              		.loc 1 3473 17 view .LVU1347
 3639 00ea A4F808E0 		strh	lr, [r4, #8]	@ movhi
3474:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3640              		.loc 1 3474 3 is_stmt 1 view .LVU1348
 3641              	.LBB552:
 3642              	.LBB550:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3643              		.loc 1 619 15 is_stmt 0 view .LVU1349
 3644 00ee 0FFA8EF6 		sxth	r6, lr
 3645              	.LBE550:
 3646              	.LBE552:
3474:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3647              		.loc 1 3474 6 view .LVU1350
 3648 00f2 40F0B080 		bne	.L331
3476:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 3649              		.loc 1 3476 3 is_stmt 1 view .LVU1351
 3650              	.LVL362:
 3651              	.LBB553:
 3652              	.LBI553:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 3653              		.loc 1 614 13 view .LVU1352
 3654              	.LBB554:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3655              		.loc 1 616 2 view .LVU1353
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3656              		.loc 1 618 2 view .LVU1354
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3657              		.loc 1 619 2 view .LVU1355
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3658              		.loc 1 619 10 is_stmt 0 view .LVU1356
 3659 00f6 94F844C0 		ldrb	ip, [r4, #68]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3660              		.loc 1 619 20 view .LVU1357
 3661 00fa 94F84320 		ldrb	r2, [r4, #67]	@ zero_extendqisi2
 3662              	.LVL363:
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 151


 3663              		.loc 1 620 2 is_stmt 1 view .LVU1358
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3664              		.loc 1 620 2 is_stmt 0 view .LVU1359
 3665              	.LBE554:
 3666              	.LBE553:
3477:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3667              		.loc 1 3477 3 is_stmt 1 view .LVU1360
3477:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3668              		.loc 1 3477 6 is_stmt 0 view .LVU1361
 3669 00fe 52EA0C22 		orrs	r2, r2, ip, lsl #8
 3670              	.LVL364:
3477:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3671              		.loc 1 3477 6 view .LVU1362
 3672 0102 09D1     		bne	.L336
3477:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3673              		.loc 1 3477 19 is_stmt 1 discriminator 1 view .LVU1363
 3674              	.LVL365:
 3675              	.LBB555:
 3676              	.LBI555:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 3677              		.loc 1 623 14 discriminator 1 view .LVU1364
 3678              	.LBB556:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3679              		.loc 1 625 2 discriminator 1 view .LVU1365
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 3680              		.loc 1 627 2 discriminator 1 view .LVU1366
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 3681              		.loc 1 628 2 discriminator 1 view .LVU1367
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3682              		.loc 1 629 2 discriminator 1 view .LVU1368
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 3683              		.loc 1 628 5 is_stmt 0 discriminator 1 view .LVU1369
 3684 0104 B4F85280 		ldrh	r8, [r4, #82]	@ unaligned
 3685              	.LVL366:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3686              		.loc 1 630 2 is_stmt 1 discriminator 1 view .LVU1370
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3687              		.loc 1 629 20 is_stmt 0 discriminator 1 view .LVU1371
 3688 0108 94F85190 		ldrb	r9, [r4, #81]	@ zero_extendqisi2
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3689              		.loc 1 630 20 discriminator 1 view .LVU1372
 3690 010c 94F850E0 		ldrb	lr, [r4, #80]	@ zero_extendqisi2
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3691              		.loc 1 629 5 discriminator 1 view .LVU1373
 3692 0110 49EA0822 		orr	r2, r9, r8, lsl #8
 3693              	.LVL367:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3694              		.loc 1 630 5 discriminator 1 view .LVU1374
 3695 0114 4EEA0222 		orr	r2, lr, r2, lsl #8
 3696              	.LVL368:
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3697              		.loc 1 631 2 is_stmt 1 discriminator 1 view .LVU1375
 3698              	.L336:
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3699              		.loc 1 631 2 is_stmt 0 discriminator 1 view .LVU1376
 3700              	.LBE556:
 3701              	.LBE555:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 152


3479:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
 3702              		.loc 1 3479 3 is_stmt 1 view .LVU1377
 3703              	.LBB557:
 3704              	.LBI557:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 3705              		.loc 1 614 13 view .LVU1378
 3706              	.LBB558:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3707              		.loc 1 616 2 view .LVU1379
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3708              		.loc 1 618 2 view .LVU1380
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3709              		.loc 1 619 2 view .LVU1381
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3710              		.loc 1 619 10 is_stmt 0 view .LVU1382
 3711 0118 94F83F80 		ldrb	r8, [r4, #63]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3712              		.loc 1 619 20 view .LVU1383
 3713 011c 94F83EC0 		ldrb	ip, [r4, #62]	@ zero_extendqisi2
 3714              	.LVL369:
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3715              		.loc 1 620 2 is_stmt 1 view .LVU1384
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3716              		.loc 1 620 2 is_stmt 0 view .LVU1385
 3717              	.LBE558:
 3718              	.LBE557:
3480:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3719              		.loc 1 3480 3 is_stmt 1 view .LVU1386
3480:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3720              		.loc 1 3480 6 is_stmt 0 view .LVU1387
 3721 0120 5CEA082E 		orrs	lr, ip, r8, lsl #8
 3722              	.LVL370:
3480:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3723              		.loc 1 3480 6 view .LVU1388
 3724 0124 00F09780 		beq	.L331
3468:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3725              		.loc 1 3468 10 view .LVU1389
 3726 0128 03FB00F9 		mul	r9, r3, r0
3483:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 3727              		.loc 1 3483 3 is_stmt 1 view .LVU1390
3483:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 3728              		.loc 1 3483 10 is_stmt 0 view .LVU1391
 3729 012c 0EEB1710 		add	r0, lr, r7, lsr #4
 3730              	.LVL371:
3483:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 3731              		.loc 1 3483 10 view .LVU1392
 3732 0130 00EB0908 		add	r8, r0, r9
 3733              	.LVL372:
3484:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 3734              		.loc 1 3484 3 is_stmt 1 view .LVU1393
3484:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 3735              		.loc 1 3484 6 is_stmt 0 view .LVU1394
 3736 0134 4245     		cmp	r2, r8
 3737 0136 C0F08E80 		bcc	.L331
3485:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 3738              		.loc 1 3485 3 is_stmt 1 view .LVU1395
3485:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 153


 3739              		.loc 1 3485 18 is_stmt 0 view .LVU1396
 3740 013a A2EB0802 		sub	r2, r2, r8
 3741              	.LVL373:
3486:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fmt = 0;
 3742              		.loc 1 3486 6 view .LVU1397
 3743 013e AA42     		cmp	r2, r5
3485:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 3744              		.loc 1 3485 9 view .LVU1398
 3745 0140 B2FBF5FC 		udiv	ip, r2, r5
 3746              	.LVL374:
3486:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fmt = 0;
 3747              		.loc 1 3486 3 is_stmt 1 view .LVU1399
3486:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fmt = 0;
 3748              		.loc 1 3486 6 is_stmt 0 view .LVU1400
 3749 0144 C0F08780 		bcc	.L331
3487:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nclst <= MAX_FAT32) fmt = FS_FAT32;
 3750              		.loc 1 3487 3 is_stmt 1 view .LVU1401
 3751              	.LVL375:
3488:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
 3752              		.loc 1 3488 3 view .LVU1402
3488:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
 3753              		.loc 1 3488 6 is_stmt 0 view .LVU1403
 3754 0148 694D     		ldr	r5, .L397+4
 3755 014a AC45     		cmp	ip, r5
 3756 014c 00F28380 		bhi	.L331
3488:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
 3757              		.loc 1 3488 27 is_stmt 1 view .LVU1404
 3758              	.LVL376:
3489:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 3759              		.loc 1 3489 3 view .LVU1405
3489:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 3760              		.loc 1 3489 6 is_stmt 0 view .LVU1406
 3761 0150 4FF6F570 		movw	r0, #65525
 3762 0154 8445     		cmp	ip, r0
 3763 0156 00F28C80 		bhi	.L337
3489:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 3764              		.loc 1 3489 27 is_stmt 1 view .LVU1407
 3765              	.LVL377:
3490:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fmt == 0) return FR_NO_FILESYSTEM;
 3766              		.loc 1 3490 3 view .LVU1408
3490:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fmt == 0) return FR_NO_FILESYSTEM;
 3767              		.loc 1 3490 6 is_stmt 0 view .LVU1409
 3768 015a 40F6F576 		movw	r6, #4085
3494:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 3769              		.loc 1 3494 24 view .LVU1410
 3770 015e 0CF10202 		add	r2, ip, #2
3496:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 3771              		.loc 1 3496 23 view .LVU1411
 3772 0162 0EEB0105 		add	r5, lr, r1
3497:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fmt == FS_FAT32) {
 3773              		.loc 1 3497 24 view .LVU1412
 3774 0166 01EB0800 		add	r0, r1, r8
3490:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fmt == 0) return FR_NO_FILESYSTEM;
 3775              		.loc 1 3490 6 view .LVU1413
 3776 016a B445     		cmp	ip, r6
3494:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 3777              		.loc 1 3494 16 view .LVU1414
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 154


 3778 016c 6261     		str	r2, [r4, #20]
3495:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 3779              		.loc 1 3495 3 is_stmt 1 view .LVU1415
3496:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 3780              		.loc 1 3496 15 is_stmt 0 view .LVU1416
 3781 016e 2562     		str	r5, [r4, #32]
3497:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fmt == FS_FAT32) {
 3782              		.loc 1 3497 16 view .LVU1417
 3783 0170 A062     		str	r0, [r4, #40]
3495:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 3784              		.loc 1 3495 15 view .LVU1418
 3785 0172 E161     		str	r1, [r4, #28]
3490:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fmt == 0) return FR_NO_FILESYSTEM;
 3786              		.loc 1 3490 6 view .LVU1419
 3787 0174 00F2B280 		bhi	.L338
 3788              	.LVL378:
3494:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 3789              		.loc 1 3494 3 is_stmt 1 view .LVU1420
3496:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 3790              		.loc 1 3496 3 view .LVU1421
3497:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fmt == FS_FAT32) {
 3791              		.loc 1 3497 3 view .LVU1422
3498:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
 3792              		.loc 1 3498 3 view .LVU1423
3504:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 3793              		.loc 1 3504 4 view .LVU1424
3504:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 3794              		.loc 1 3504 7 is_stmt 0 view .LVU1425
 3795 0178 002F     		cmp	r7, #0
 3796 017a 6CD0     		beq	.L331
3505:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 3797              		.loc 1 3505 4 is_stmt 1 view .LVU1426
3505:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 3798              		.loc 1 3505 30 is_stmt 0 view .LVU1427
 3799 017c 4D44     		add	r5, r5, r9
3507:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 3800              		.loc 1 3507 37 view .LVU1428
 3801 017e 02EB4207 		add	r7, r2, r2, lsl #1
3507:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 3802              		.loc 1 3507 61 view .LVU1429
 3803 0182 02F00101 		and	r1, r2, #1
3505:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 3804              		.loc 1 3505 16 view .LVU1430
 3805 0186 6562     		str	r5, [r4, #36]
3506:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
 3806              		.loc 1 3506 4 is_stmt 1 view .LVU1431
3507:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 3807              		.loc 1 3507 22 is_stmt 0 view .LVU1432
 3808 0188 01EB5706 		add	r6, r1, r7, lsr #1
 3809 018c 0125     		movs	r5, #1
 3810              	.L346:
 3811              	.LVL379:
3509:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3812              		.loc 1 3509 3 is_stmt 1 view .LVU1433
3509:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3813              		.loc 1 3509 27 is_stmt 0 view .LVU1434
 3814 018e 06F2FF18 		addw	r8, r6, #511
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 155


 3815              	.LVL380:
3509:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3816              		.loc 1 3509 6 view .LVU1435
 3817 0192 B3EB582F 		cmp	r3, r8, lsr #9
 3818 0196 5ED3     		bcc	.L331
3513:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsi_flag = 0x80;
 3819              		.loc 1 3513 3 is_stmt 1 view .LVU1436
3513:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsi_flag = 0x80;
 3820              		.loc 1 3513 33 is_stmt 0 view .LVU1437
 3821 0198 4FF0FF3C 		mov	ip, #-1
 3822              	.LVL381:
3513:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsi_flag = 0x80;
 3823              		.loc 1 3513 17 view .LVU1438
 3824 019c C4E903CC 		strd	ip, ip, [r4, #12]
3514:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if (FF_FS_NOFSINFO & 3) != 3
 3825              		.loc 1 3514 3 is_stmt 1 view .LVU1439
3514:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if (FF_FS_NOFSINFO & 3) != 3
 3826              		.loc 1 3514 16 is_stmt 0 view .LVU1440
 3827 01a0 8022     		movs	r2, #128
 3828              	.LVL382:
3514:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if (FF_FS_NOFSINFO & 3) != 3
 3829              		.loc 1 3514 16 view .LVU1441
 3830 01a2 EBB2     		uxtb	r3, r5
 3831              	.LVL383:
3514:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if (FF_FS_NOFSINFO & 3) != 3
 3832              		.loc 1 3514 16 view .LVU1442
 3833 01a4 2271     		strb	r2, [r4, #4]
3516:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
 3834              		.loc 1 3516 3 is_stmt 1 view .LVU1443
 3835              	.LVL384:
 3836              	.L342:
3537:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fs->id = ++Fsid;		/* Volume mount ID */
 3837              		.loc 1 3537 2 view .LVU1444
3538:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN == 1
 3838              		.loc 1 3538 11 is_stmt 0 view .LVU1445
 3839 01a6 5348     		ldr	r0, .L397+8
3537:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fs->id = ++Fsid;		/* Volume mount ID */
 3840              		.loc 1 3537 14 view .LVU1446
 3841 01a8 2370     		strb	r3, [r4]
3538:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN == 1
 3842              		.loc 1 3538 2 is_stmt 1 view .LVU1447
3538:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN == 1
 3843              		.loc 1 3538 11 is_stmt 0 view .LVU1448
 3844 01aa 0788     		ldrh	r7, [r0]
 3845 01ac 0137     		adds	r7, r7, #1
 3846 01ae B9B2     		uxth	r1, r7
3538:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN == 1
 3847              		.loc 1 3538 9 view .LVU1449
 3848 01b0 0180     		strh	r1, [r0]	@ movhi
 3849 01b2 E180     		strh	r1, [r4, #6]	@ movhi
3551:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3850              		.loc 1 3551 2 is_stmt 1 view .LVU1450
3551:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3851              		.loc 1 3551 9 is_stmt 0 view .LVU1451
 3852 01b4 0025     		movs	r5, #0
 3853 01b6 43E7     		b	.L354
 3854              	.LVL385:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 156


 3855              	.L351:
3378:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 3856              		.loc 1 3378 10 view .LVU1452
 3857 01b8 0325     		movs	r5, #3
 3858              	.LVL386:
3552:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3859              		.loc 1 3552 1 view .LVU1453
 3860 01ba 2846     		mov	r0, r5
 3861              	.LVL387:
3552:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3862              		.loc 1 3552 1 view .LVU1454
 3863 01bc BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 3864              	.LVL388:
 3865              	.L395:
 3866              	.LBB559:
 3867              	.LBB540:
3316:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 3868              		.loc 1 3316 3 is_stmt 1 view .LVU1455
 3869              	.LBB530:
 3870              	.LBI530:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 3871              		.loc 1 623 14 view .LVU1456
 3872              	.LBB531:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3873              		.loc 1 625 2 view .LVU1457
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 3874              		.loc 1 627 2 view .LVU1458
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 3875              		.loc 1 628 2 view .LVU1459
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3876              		.loc 1 629 2 view .LVU1460
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 3877              		.loc 1 628 5 is_stmt 0 view .LVU1461
 3878 01c0 B4F808C2 		ldrh	ip, [r4, #520]	@ unaligned
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3879              		.loc 1 629 20 view .LVU1462
 3880 01c4 94F80782 		ldrb	r8, [r4, #519]	@ zero_extendqisi2
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 3881              		.loc 1 628 5 view .LVU1463
 3882 01c8 B4F8F811 		ldrh	r1, [r4, #504]	@ unaligned
 3883              	.LVL389:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3884              		.loc 1 630 2 is_stmt 1 view .LVU1464
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3885              		.loc 1 629 20 is_stmt 0 view .LVU1465
 3886 01cc 94F8F731 		ldrb	r3, [r4, #503]	@ zero_extendqisi2
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 3887              		.loc 1 628 5 view .LVU1466
 3888 01d0 B4F81892 		ldrh	r9, [r4, #536]	@ unaligned
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3889              		.loc 1 629 20 view .LVU1467
 3890 01d4 94F817E2 		ldrb	lr, [r4, #535]	@ zero_extendqisi2
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 3891              		.loc 1 628 5 view .LVU1468
 3892 01d8 B4F82862 		ldrh	r6, [r4, #552]	@ unaligned
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3893              		.loc 1 629 20 view .LVU1469
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 157


 3894 01dc 94F82772 		ldrb	r7, [r4, #551]	@ zero_extendqisi2
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3895              		.loc 1 629 5 view .LVU1470
 3896 01e0 48EA0C25 		orr	r5, r8, ip, lsl #8
 3897              	.LVL390:
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3898              		.loc 1 629 5 view .LVU1471
 3899 01e4 43EA0128 		orr	r8, r3, r1, lsl #8
 3900              	.LVL391:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3901              		.loc 1 630 20 view .LVU1472
 3902 01e8 94F8F611 		ldrb	r1, [r4, #502]	@ zero_extendqisi2
 3903 01ec 94F806C2 		ldrb	ip, [r4, #518]	@ zero_extendqisi2
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3904              		.loc 1 629 5 view .LVU1473
 3905 01f0 4EEA0920 		orr	r0, lr, r9, lsl #8
 3906              	.LVL392:
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3907              		.loc 1 631 2 is_stmt 1 view .LVU1474
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3908              		.loc 1 631 2 is_stmt 0 view .LVU1475
 3909              	.LBE531:
 3910              	.LBE530:
3315:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		mbr_pt[i] = ld_dword(fs->win + MBR_Table + i * SZ_PTE + PTE_StLba);
 3911              		.loc 1 3315 21 is_stmt 1 view .LVU1476
3315:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		mbr_pt[i] = ld_dword(fs->win + MBR_Table + i * SZ_PTE + PTE_StLba);
 3912              		.loc 1 3315 14 view .LVU1477
3316:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 3913              		.loc 1 3316 3 view .LVU1478
 3914              	.LBB536:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 3915              		.loc 1 623 14 view .LVU1479
 3916              	.LBB532:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3917              		.loc 1 625 2 view .LVU1480
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 3918              		.loc 1 627 2 view .LVU1481
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 3919              		.loc 1 628 2 view .LVU1482
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3920              		.loc 1 629 2 view .LVU1483
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3921              		.loc 1 630 2 view .LVU1484
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3922              		.loc 1 630 20 is_stmt 0 view .LVU1485
 3923 01f4 94F81692 		ldrb	r9, [r4, #534]	@ zero_extendqisi2
 3924 01f8 94F826E2 		ldrb	lr, [r4, #550]	@ zero_extendqisi2
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3925              		.loc 1 629 5 view .LVU1486
 3926 01fc 47EA0622 		orr	r2, r7, r6, lsl #8
 3927              	.LBE532:
 3928              	.LBE536:
3320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (part == 0 && fmt >= 2 && ++i < 4);
 3929              		.loc 1 3320 45 view .LVU1487
 3930 0200 51EA0821 		orrs	r1, r1, r8, lsl #8
 3931              	.LBB537:
 3932              	.LBB533:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 158


 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3933              		.loc 1 630 5 view .LVU1488
 3934 0204 4CEA0525 		orr	r5, ip, r5, lsl #8
 3935              	.LVL393:
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3936              		.loc 1 631 2 is_stmt 1 view .LVU1489
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3937              		.loc 1 631 2 is_stmt 0 view .LVU1490
 3938              	.LBE533:
 3939              	.LBE537:
3315:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		mbr_pt[i] = ld_dword(fs->win + MBR_Table + i * SZ_PTE + PTE_StLba);
 3940              		.loc 1 3315 21 is_stmt 1 view .LVU1491
3315:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		mbr_pt[i] = ld_dword(fs->win + MBR_Table + i * SZ_PTE + PTE_StLba);
 3941              		.loc 1 3315 14 view .LVU1492
3316:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 3942              		.loc 1 3316 3 view .LVU1493
 3943              	.LBB538:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 3944              		.loc 1 623 14 view .LVU1494
 3945              	.LBB534:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3946              		.loc 1 625 2 view .LVU1495
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 3947              		.loc 1 627 2 view .LVU1496
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 3948              		.loc 1 628 2 view .LVU1497
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 3949              		.loc 1 629 2 view .LVU1498
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3950              		.loc 1 630 2 view .LVU1499
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3951              		.loc 1 630 5 is_stmt 0 view .LVU1500
 3952 0208 49EA0026 		orr	r6, r9, r0, lsl #8
 3953              	.LVL394:
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3954              		.loc 1 631 2 is_stmt 1 view .LVU1501
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3955              		.loc 1 631 2 is_stmt 0 view .LVU1502
 3956              	.LBE534:
 3957              	.LBE538:
3315:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		mbr_pt[i] = ld_dword(fs->win + MBR_Table + i * SZ_PTE + PTE_StLba);
 3958              		.loc 1 3315 21 is_stmt 1 view .LVU1503
3315:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		mbr_pt[i] = ld_dword(fs->win + MBR_Table + i * SZ_PTE + PTE_StLba);
 3959              		.loc 1 3315 14 view .LVU1504
3316:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 3960              		.loc 1 3316 3 view .LVU1505
 3961              	.LBB539:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 3962              		.loc 1 623 14 view .LVU1506
 3963              	.LBB535:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 3964              		.loc 1 625 2 view .LVU1507
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 3965              		.loc 1 627 2 view .LVU1508
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 3966              		.loc 1 628 2 view .LVU1509
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 159


 3967              		.loc 1 629 2 view .LVU1510
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3968              		.loc 1 630 2 view .LVU1511
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 3969              		.loc 1 630 5 is_stmt 0 view .LVU1512
 3970 020c 4EEA0227 		orr	r7, lr, r2, lsl #8
 3971              	.LVL395:
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3972              		.loc 1 631 2 is_stmt 1 view .LVU1513
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 3973              		.loc 1 631 2 is_stmt 0 view .LVU1514
 3974              	.LBE535:
 3975              	.LBE539:
3315:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		mbr_pt[i] = ld_dword(fs->win + MBR_Table + i * SZ_PTE + PTE_StLba);
 3976              		.loc 1 3315 21 is_stmt 1 view .LVU1515
3315:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		mbr_pt[i] = ld_dword(fs->win + MBR_Table + i * SZ_PTE + PTE_StLba);
 3977              		.loc 1 3315 14 view .LVU1516
3319:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fmt = mbr_pt[i] ? check_fs(fs, mbr_pt[i]) : 3;	/* Check if the partition is FAT */
 3978              		.loc 1 3319 2 view .LVU1517
3320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (part == 0 && fmt >= 2 && ++i < 4);
 3979              		.loc 1 3320 3 view .LVU1518
3320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (part == 0 && fmt >= 2 && ++i < 4);
 3980              		.loc 1 3320 45 is_stmt 0 view .LVU1519
 3981 0210 05D0     		beq	.L326
3320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (part == 0 && fmt >= 2 && ++i < 4);
 3982              		.loc 1 3320 21 view .LVU1520
 3983 0212 2046     		mov	r0, r4
 3984 0214 FFF7FEFF 		bl	check_fs
 3985              	.LVL396:
3321:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fmt;
 3986              		.loc 1 3321 10 is_stmt 1 view .LVU1521
3321:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fmt;
 3987              		.loc 1 3321 21 is_stmt 0 view .LVU1522
 3988 0218 0128     		cmp	r0, #1
 3989 021a 7FF62EAF 		bls	.L332
 3990              	.LVL397:
 3991              	.L326:
3319:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fmt = mbr_pt[i] ? check_fs(fs, mbr_pt[i]) : 3;	/* Check if the partition is FAT */
 3992              		.loc 1 3319 2 is_stmt 1 view .LVU1523
3320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (part == 0 && fmt >= 2 && ++i < 4);
 3993              		.loc 1 3320 3 view .LVU1524
3320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (part == 0 && fmt >= 2 && ++i < 4);
 3994              		.loc 1 3320 45 is_stmt 0 view .LVU1525
 3995 021e 35B1     		cbz	r5, .L328
3320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (part == 0 && fmt >= 2 && ++i < 4);
 3996              		.loc 1 3320 21 view .LVU1526
 3997 0220 2946     		mov	r1, r5
 3998 0222 2046     		mov	r0, r4
 3999 0224 FFF7FEFF 		bl	check_fs
 4000              	.LVL398:
3321:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fmt;
 4001              		.loc 1 3321 10 is_stmt 1 view .LVU1527
3321:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fmt;
 4002              		.loc 1 3321 21 is_stmt 0 view .LVU1528
 4003 0228 0128     		cmp	r0, #1
 4004 022a 7FF626AF 		bls	.L332
 4005              	.LVL399:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 160


 4006              	.L328:
3319:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fmt = mbr_pt[i] ? check_fs(fs, mbr_pt[i]) : 3;	/* Check if the partition is FAT */
 4007              		.loc 1 3319 2 is_stmt 1 view .LVU1529
3320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (part == 0 && fmt >= 2 && ++i < 4);
 4008              		.loc 1 3320 3 view .LVU1530
3320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (part == 0 && fmt >= 2 && ++i < 4);
 4009              		.loc 1 3320 45 is_stmt 0 view .LVU1531
 4010 022e 36B1     		cbz	r6, .L329
3320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (part == 0 && fmt >= 2 && ++i < 4);
 4011              		.loc 1 3320 21 view .LVU1532
 4012 0230 3146     		mov	r1, r6
 4013 0232 2046     		mov	r0, r4
 4014 0234 FFF7FEFF 		bl	check_fs
 4015              	.LVL400:
3321:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fmt;
 4016              		.loc 1 3321 10 is_stmt 1 view .LVU1533
3321:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fmt;
 4017              		.loc 1 3321 21 is_stmt 0 view .LVU1534
 4018 0238 0128     		cmp	r0, #1
 4019 023a 7FF61EAF 		bls	.L332
 4020              	.LVL401:
 4021              	.L329:
3319:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fmt = mbr_pt[i] ? check_fs(fs, mbr_pt[i]) : 3;	/* Check if the partition is FAT */
 4022              		.loc 1 3319 2 is_stmt 1 view .LVU1535
3320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (part == 0 && fmt >= 2 && ++i < 4);
 4023              		.loc 1 3320 3 view .LVU1536
3320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (part == 0 && fmt >= 2 && ++i < 4);
 4024              		.loc 1 3320 45 is_stmt 0 view .LVU1537
 4025 023e 57B1     		cbz	r7, .L331
3320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (part == 0 && fmt >= 2 && ++i < 4);
 4026              		.loc 1 3320 21 view .LVU1538
 4027 0240 3946     		mov	r1, r7
 4028 0242 2046     		mov	r0, r4
 4029 0244 FFF7FEFF 		bl	check_fs
 4030              	.LVL402:
3321:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fmt;
 4031              		.loc 1 3321 10 is_stmt 1 view .LVU1539
3321:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fmt;
 4032              		.loc 1 3321 21 is_stmt 0 view .LVU1540
 4033 0248 0128     		cmp	r0, #1
 4034 024a 7FF616AF 		bls	.L332
 4035              	.LVL403:
3321:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fmt;
 4036              		.loc 1 3321 21 view .LVU1541
 4037              	.LBE540:
 4038              	.LBE559:
3390:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 4039              		.loc 1 3390 2 is_stmt 1 view .LVU1542
3390:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 4040              		.loc 1 3390 5 is_stmt 0 view .LVU1543
 4041 024e 0428     		cmp	r0, #4
 4042 0250 01D1     		bne	.L331
 4043              	.L353:
3390:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 4044              		.loc 1 3390 23 view .LVU1544
 4045 0252 0125     		movs	r5, #1
 4046              	.LVL404:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 161


3390:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 4047              		.loc 1 3390 23 view .LVU1545
 4048 0254 F4E6     		b	.L354
 4049              	.L331:
3391:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	bsect = fs->winsect;					/* Volume offset */
 4050              		.loc 1 3391 23 view .LVU1546
 4051 0256 0D25     		movs	r5, #13
3552:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4052              		.loc 1 3552 1 view .LVU1547
 4053 0258 2846     		mov	r0, r5
 4054 025a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 4055              	.LVL405:
 4056              	.L349:
3350:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4057              		.loc 1 3350 22 view .LVU1548
 4058 025e 0B25     		movs	r5, #11
3552:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4059              		.loc 1 3552 1 view .LVU1549
 4060 0260 2846     		mov	r0, r5
 4061              	.LVL406:
3552:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4062              		.loc 1 3552 1 view .LVU1550
 4063 0262 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 4064              	.LVL407:
 4065              	.L324:
3365:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 4066              		.loc 1 3365 12 view .LVU1551
 4067 0266 0A25     		movs	r5, #10
3552:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4068              		.loc 1 3552 1 view .LVU1552
 4069 0268 2846     		mov	r0, r5
 4070              	.LVL408:
3552:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4071              		.loc 1 3552 1 view .LVU1553
 4072 026a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 4073              	.LVL409:
 4074              	.L350:
3354:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_REENTRANT
 4075              		.loc 1 3354 18 view .LVU1554
 4076 026e 0C25     		movs	r5, #12
 4077 0270 E6E6     		b	.L354
 4078              	.LVL410:
 4079              	.L337:
3490:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fmt == 0) return FR_NO_FILESYSTEM;
 4080              		.loc 1 3490 3 is_stmt 1 view .LVU1555
3494:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 4081              		.loc 1 3494 3 view .LVU1556
 4082              	.LBB560:
 4083              	.LBB561:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4084              		.loc 1 619 10 is_stmt 0 view .LVU1557
 4085 0272 94F85B70 		ldrb	r7, [r4, #91]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4086              		.loc 1 619 20 view .LVU1558
 4087 0276 94F85A90 		ldrb	r9, [r4, #90]	@ zero_extendqisi2
 4088              	.LBE561:
 4089              	.LBE560:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 162


3495:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 4090              		.loc 1 3495 15 view .LVU1559
 4091 027a E161     		str	r1, [r4, #28]
 4092              	.LBB564:
 4093              	.LBB562:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4094              		.loc 1 619 15 view .LVU1560
 4095 027c 49EA0722 		orr	r2, r9, r7, lsl #8
 4096              	.LBE562:
 4097              	.LBE564:
3499:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->n_rootdir != 0) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 4098              		.loc 1 3499 7 view .LVU1561
 4099 0280 3243     		orrs	r2, r2, r6
3494:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 4100              		.loc 1 3494 24 view .LVU1562
 4101 0282 0CF10205 		add	r5, ip, #2
3496:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 4102              		.loc 1 3496 23 view .LVU1563
 4103 0286 0EEB0106 		add	r6, lr, r1
3497:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fmt == FS_FAT32) {
 4104              		.loc 1 3497 24 view .LVU1564
 4105 028a 01EB0800 		add	r0, r1, r8
3499:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->n_rootdir != 0) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 4106              		.loc 1 3499 7 view .LVU1565
 4107 028e 17B2     		sxth	r7, r2
3494:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 4108              		.loc 1 3494 16 view .LVU1566
 4109 0290 6561     		str	r5, [r4, #20]
3495:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 4110              		.loc 1 3495 3 is_stmt 1 view .LVU1567
3496:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 4111              		.loc 1 3496 3 view .LVU1568
3496:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 4112              		.loc 1 3496 15 is_stmt 0 view .LVU1569
 4113 0292 2662     		str	r6, [r4, #32]
3497:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fmt == FS_FAT32) {
 4114              		.loc 1 3497 3 is_stmt 1 view .LVU1570
3497:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fmt == FS_FAT32) {
 4115              		.loc 1 3497 16 is_stmt 0 view .LVU1571
 4116 0294 A062     		str	r0, [r4, #40]
3498:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
 4117              		.loc 1 3498 3 is_stmt 1 view .LVU1572
3499:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->n_rootdir != 0) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 4118              		.loc 1 3499 4 view .LVU1573
 4119              	.LVL411:
 4120              	.LBB565:
 4121              	.LBI560:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 4122              		.loc 1 614 13 view .LVU1574
 4123              	.LBB563:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4124              		.loc 1 616 2 view .LVU1575
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4125              		.loc 1 618 2 view .LVU1576
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4126              		.loc 1 619 2 view .LVU1577
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 163


 4127              		.loc 1 620 2 view .LVU1578
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4128              		.loc 1 620 2 is_stmt 0 view .LVU1579
 4129              	.LBE563:
 4130              	.LBE565:
3499:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->n_rootdir != 0) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 4131              		.loc 1 3499 7 view .LVU1580
 4132 0296 002F     		cmp	r7, #0
 4133 0298 DDD1     		bne	.L331
3500:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 4134              		.loc 1 3500 4 is_stmt 1 view .LVU1581
3501:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 4135              		.loc 1 3501 4 view .LVU1582
 4136              	.LVL412:
 4137              	.LBB566:
 4138              	.LBI566:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 4139              		.loc 1 623 14 view .LVU1583
 4140              	.LBB567:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4141              		.loc 1 625 2 view .LVU1584
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 4142              		.loc 1 627 2 view .LVU1585
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 4143              		.loc 1 628 2 view .LVU1586
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4144              		.loc 1 629 2 view .LVU1587
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 4145              		.loc 1 628 5 is_stmt 0 view .LVU1588
 4146 029a B4F85E80 		ldrh	r8, [r4, #94]	@ unaligned
 4147              	.LVL413:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4148              		.loc 1 630 2 is_stmt 1 view .LVU1589
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4149              		.loc 1 629 20 is_stmt 0 view .LVU1590
 4150 029e 94F85DC0 		ldrb	ip, [r4, #93]	@ zero_extendqisi2
 4151              	.LVL414:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4152              		.loc 1 630 20 view .LVU1591
 4153 02a2 94F85C60 		ldrb	r6, [r4, #92]	@ zero_extendqisi2
 4154              	.LBE567:
 4155              	.LBE566:
3502:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {
 4156              		.loc 1 3502 11 view .LVU1592
 4157 02a6 AA00     		lsls	r2, r5, #2
 4158              	.LBB570:
 4159              	.LBB568:
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4160              		.loc 1 629 5 view .LVU1593
 4161 02a8 4CEA0829 		orr	r9, ip, r8, lsl #8
 4162              	.LVL415:
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4163              		.loc 1 631 2 is_stmt 1 view .LVU1594
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4164              		.loc 1 631 2 is_stmt 0 view .LVU1595
 4165              	.LBE568:
 4166              	.LBE570:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 164


3509:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4167              		.loc 1 3509 27 view .LVU1596
 4168 02ac 02F2FF15 		addw	r5, r2, #511
 4169              	.LVL416:
 4170              	.LBB571:
 4171              	.LBB569:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4172              		.loc 1 630 5 view .LVU1597
 4173 02b0 46EA0920 		orr	r0, r6, r9, lsl #8
 4174              	.LBE569:
 4175              	.LBE571:
3509:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4176              		.loc 1 3509 6 view .LVU1598
 4177 02b4 B3EB552F 		cmp	r3, r5, lsr #9
3501:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 4178              		.loc 1 3501 16 view .LVU1599
 4179 02b8 6062     		str	r0, [r4, #36]
3502:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {
 4180              		.loc 1 3502 4 is_stmt 1 view .LVU1600
 4181              	.LVL417:
3509:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4182              		.loc 1 3509 3 view .LVU1601
3509:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4183              		.loc 1 3509 6 is_stmt 0 view .LVU1602
 4184 02ba CCD3     		bcc	.L331
3513:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsi_flag = 0x80;
 4185              		.loc 1 3513 3 is_stmt 1 view .LVU1603
 4186              	.LBB572:
 4187              	.LBB573:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4188              		.loc 1 619 10 is_stmt 0 view .LVU1604
 4189 02bc 94F86170 		ldrb	r7, [r4, #97]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4190              		.loc 1 619 20 view .LVU1605
 4191 02c0 94F86030 		ldrb	r3, [r4, #96]	@ zero_extendqisi2
 4192              	.LVL418:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4193              		.loc 1 619 15 view .LVU1606
 4194 02c4 43EA0722 		orr	r2, r3, r7, lsl #8
 4195              	.LBE573:
 4196              	.LBE572:
3513:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsi_flag = 0x80;
 4197              		.loc 1 3513 33 view .LVU1607
 4198 02c8 4FF0FF36 		mov	r6, #-1
3514:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if (FF_FS_NOFSINFO & 3) != 3
 4199              		.loc 1 3514 16 view .LVU1608
 4200 02cc 8025     		movs	r5, #128
3517:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
 4201              		.loc 1 3517 4 view .LVU1609
 4202 02ce 012A     		cmp	r2, #1
3513:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fsi_flag = 0x80;
 4203              		.loc 1 3513 17 view .LVU1610
 4204 02d0 C4E90366 		strd	r6, r6, [r4, #12]
3514:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if (FF_FS_NOFSINFO & 3) != 3
 4205              		.loc 1 3514 3 is_stmt 1 view .LVU1611
3514:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if (FF_FS_NOFSINFO & 3) != 3
 4206              		.loc 1 3514 16 is_stmt 0 view .LVU1612
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 165


 4207 02d4 2571     		strb	r5, [r4, #4]
3516:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
 4208              		.loc 1 3516 3 is_stmt 1 view .LVU1613
 4209              	.LVL419:
 4210              	.LBB575:
 4211              	.LBI572:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 4212              		.loc 1 614 13 view .LVU1614
 4213              	.LBB574:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4214              		.loc 1 616 2 view .LVU1615
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4215              		.loc 1 618 2 view .LVU1616
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4216              		.loc 1 619 2 view .LVU1617
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4217              		.loc 1 620 2 view .LVU1618
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4218              		.loc 1 620 2 is_stmt 0 view .LVU1619
 4219              	.LBE574:
 4220              	.LBE575:
3517:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
 4221              		.loc 1 3517 4 view .LVU1620
 4222 02d6 0FD0     		beq	.L396
 4223              	.LVL420:
 4224              	.L394:
3529:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 4225              		.loc 1 3529 19 view .LVU1621
 4226 02d8 0323     		movs	r3, #3
 4227 02da 64E7     		b	.L342
 4228              	.LVL421:
 4229              	.L338:
3494:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 4230              		.loc 1 3494 3 is_stmt 1 view .LVU1622
3496:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 4231              		.loc 1 3496 3 view .LVU1623
3497:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fmt == FS_FAT32) {
 4232              		.loc 1 3497 3 view .LVU1624
3498:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
 4233              		.loc 1 3498 3 view .LVU1625
3504:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 4234              		.loc 1 3504 4 view .LVU1626
3504:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 4235              		.loc 1 3504 7 is_stmt 0 view .LVU1627
 4236 02dc 002F     		cmp	r7, #0
 4237 02de BAD0     		beq	.L331
3505:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 4238              		.loc 1 3505 4 is_stmt 1 view .LVU1628
3505:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 4239              		.loc 1 3505 30 is_stmt 0 view .LVU1629
 4240 02e0 4D44     		add	r5, r5, r9
3505:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 4241              		.loc 1 3505 16 view .LVU1630
 4242 02e2 6562     		str	r5, [r4, #36]
3506:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
 4243              		.loc 1 3506 4 is_stmt 1 view .LVU1631
3507:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 166


 4244              		.loc 1 3507 22 is_stmt 0 view .LVU1632
 4245 02e4 5600     		lsls	r6, r2, #1
 4246 02e6 0225     		movs	r5, #2
 4247 02e8 51E7     		b	.L346
 4248              	.L398:
 4249 02ea 00BF     		.align	2
 4250              	.L397:
 4251 02ec 00000000 		.word	.LANCHOR0
 4252 02f0 F5FFFF0F 		.word	268435445
 4253 02f4 00000000 		.word	.LANCHOR1
 4254              	.LVL422:
 4255              	.L396:
 4256              	.LBB576:
 4257              	.LBI576:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 4258              		.loc 1 1047 16 is_stmt 1 view .LVU1633
 4259              	.LBB577:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4260              		.loc 1 1052 2 view .LVU1634
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 4261              		.loc 1 1055 2 view .LVU1635
 4262 02f8 0131     		adds	r1, r1, #1
 4263              	.LVL423:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 4264              		.loc 1 1055 2 is_stmt 0 view .LVU1636
 4265 02fa 2046     		mov	r0, r4
 4266 02fc FFF7FEFF 		bl	move_window.part.0
 4267              	.LVL424:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4268              		.loc 1 1067 2 is_stmt 1 view .LVU1637
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4269              		.loc 1 1067 2 is_stmt 0 view .LVU1638
 4270              	.LBE577:
 4271              	.LBE576:
3518:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		{
 4272              		.loc 1 3518 4 view .LVU1639
 4273 0300 0028     		cmp	r0, #0
 4274 0302 E9D1     		bne	.L394
3520:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSInfo data if available */
 4275              		.loc 1 3520 4 is_stmt 1 view .LVU1640
 4276              	.LBB578:
 4277              	.LBB579:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4278              		.loc 1 619 10 is_stmt 0 view .LVU1641
 4279 0304 94F82F12 		ldrb	r1, [r4, #559]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4280              		.loc 1 619 20 view .LVU1642
 4281 0308 94F82E72 		ldrb	r7, [r4, #558]	@ zero_extendqisi2
 4282              	.LBE579:
 4283              	.LBE578:
3520:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSInfo data if available */
 4284              		.loc 1 3520 17 view .LVU1643
 4285 030c 2071     		strb	r0, [r4, #4]
3521:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 4286              		.loc 1 3521 4 is_stmt 1 view .LVU1644
 4287              	.LVL425:
 4288              	.LBB582:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 167


 4289              	.LBI578:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 4290              		.loc 1 614 13 view .LVU1645
 4291              	.LBB580:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4292              		.loc 1 616 2 view .LVU1646
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4293              		.loc 1 618 2 view .LVU1647
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4294              		.loc 1 619 2 view .LVU1648
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4295              		.loc 1 620 2 view .LVU1649
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4296              		.loc 1 620 2 is_stmt 0 view .LVU1650
 4297              	.LBE580:
 4298              	.LBE582:
3521:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 4299              		.loc 1 3521 7 view .LVU1651
 4300 030e 4AF65523 		movw	r3, #43605
 4301              	.LBB583:
 4302              	.LBB581:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4303              		.loc 1 619 15 view .LVU1652
 4304 0312 47EA0120 		orr	r0, r7, r1, lsl #8
 4305              	.LBE581:
 4306              	.LBE583:
3521:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 4307              		.loc 1 3521 7 view .LVU1653
 4308 0316 9842     		cmp	r0, r3
 4309 0318 DED1     		bne	.L394
 4310              	.LVL426:
 4311              	.LBB584:
 4312              	.LBI584:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 4313              		.loc 1 623 14 is_stmt 1 view .LVU1654
 4314              	.LBB585:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4315              		.loc 1 625 2 view .LVU1655
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 4316              		.loc 1 627 2 view .LVU1656
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 4317              		.loc 1 628 2 view .LVU1657
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4318              		.loc 1 629 2 view .LVU1658
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 4319              		.loc 1 628 5 is_stmt 0 view .LVU1659
 4320 031a 668E     		ldrh	r6, [r4, #50]	@ unaligned
 4321              	.LVL427:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4322              		.loc 1 630 2 is_stmt 1 view .LVU1660
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4323              		.loc 1 629 20 is_stmt 0 view .LVU1661
 4324 031c 94F831E0 		ldrb	lr, [r4, #49]	@ zero_extendqisi2
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4325              		.loc 1 630 20 view .LVU1662
 4326 0320 94F83050 		ldrb	r5, [r4, #48]	@ zero_extendqisi2
 4327              	.LBE585:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 168


 4328              	.LBE584:
3522:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
 4329              		.loc 1 3522 5 view .LVU1663
 4330 0324 1749     		ldr	r1, .L399
 4331              	.LBB587:
 4332              	.LBB586:
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4333              		.loc 1 629 5 view .LVU1664
 4334 0326 4EEA0628 		orr	r8, lr, r6, lsl #8
 4335              	.LVL428:
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4336              		.loc 1 631 2 is_stmt 1 view .LVU1665
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4337              		.loc 1 630 5 is_stmt 0 view .LVU1666
 4338 032a 45EA0822 		orr	r2, r5, r8, lsl #8
 4339              	.LBE586:
 4340              	.LBE587:
3522:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
 4341              		.loc 1 3522 5 view .LVU1667
 4342 032e 8A42     		cmp	r2, r1
 4343 0330 D2D1     		bne	.L394
 4344              	.LVL429:
 4345              	.LBB588:
 4346              	.LBI588:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 4347              		.loc 1 623 14 is_stmt 1 view .LVU1668
 4348              	.LBB589:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4349              		.loc 1 625 2 view .LVU1669
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 4350              		.loc 1 627 2 view .LVU1670
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 4351              		.loc 1 628 2 view .LVU1671
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4352              		.loc 1 629 2 view .LVU1672
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 4353              		.loc 1 628 5 is_stmt 0 view .LVU1673
 4354 0332 B4F81672 		ldrh	r7, [r4, #534]	@ unaligned
 4355              	.LVL430:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4356              		.loc 1 630 2 is_stmt 1 view .LVU1674
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4357              		.loc 1 629 20 is_stmt 0 view .LVU1675
 4358 0336 94F81502 		ldrb	r0, [r4, #533]	@ zero_extendqisi2
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4359              		.loc 1 630 20 view .LVU1676
 4360 033a 94F814C2 		ldrb	ip, [r4, #532]	@ zero_extendqisi2
 4361              	.LBE589:
 4362              	.LBE588:
3523:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			{
 4363              		.loc 1 3523 5 view .LVU1677
 4364 033e 01F1FF59 		add	r9, r1, #534773760
 4365 0342 09F50056 		add	r6, r9, #8192
 4366              	.LBB592:
 4367              	.LBB590:
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4368              		.loc 1 629 5 view .LVU1678
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 169


 4369 0346 40EA0723 		orr	r3, r0, r7, lsl #8
 4370              	.LVL431:
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4371              		.loc 1 631 2 is_stmt 1 view .LVU1679
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4372              		.loc 1 631 2 is_stmt 0 view .LVU1680
 4373              	.LBE590:
 4374              	.LBE592:
3523:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			{
 4375              		.loc 1 3523 5 view .LVU1681
 4376 034a 2036     		adds	r6, r6, #32
 4377              	.LBB593:
 4378              	.LBB591:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4379              		.loc 1 630 5 view .LVU1682
 4380 034c 4CEA0325 		orr	r5, ip, r3, lsl #8
 4381              	.LBE591:
 4382              	.LBE593:
3523:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			{
 4383              		.loc 1 3523 5 view .LVU1683
 4384 0350 B542     		cmp	r5, r6
 4385 0352 C1D1     		bne	.L394
3526:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 4386              		.loc 1 3526 5 is_stmt 1 view .LVU1684
 4387              	.LVL432:
 4388              	.LBB594:
 4389              	.LBI594:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 4390              		.loc 1 623 14 view .LVU1685
 4391              	.LBB595:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4392              		.loc 1 625 2 view .LVU1686
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 4393              		.loc 1 627 2 view .LVU1687
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 4394              		.loc 1 628 2 view .LVU1688
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4395              		.loc 1 629 2 view .LVU1689
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 4396              		.loc 1 628 5 is_stmt 0 view .LVU1690
 4397 0354 B4F81A72 		ldrh	r7, [r4, #538]	@ unaligned
 4398              	.LVL433:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4399              		.loc 1 630 2 is_stmt 1 view .LVU1691
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4400              		.loc 1 629 20 is_stmt 0 view .LVU1692
 4401 0358 94F819E2 		ldrb	lr, [r4, #537]	@ zero_extendqisi2
 4402              	.LBE595:
 4403              	.LBE594:
 4404              	.LBB599:
 4405              	.LBB600:
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 4406              		.loc 1 628 5 view .LVU1693
 4407 035c B4F81E62 		ldrh	r6, [r4, #542]	@ unaligned
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4408              		.loc 1 629 20 view .LVU1694
 4409 0360 94F81D12 		ldrb	r1, [r4, #541]	@ zero_extendqisi2
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 170


 4410              	.LBE600:
 4411              	.LBE599:
 4412              	.LBB604:
 4413              	.LBB596:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4414              		.loc 1 630 20 view .LVU1695
 4415 0364 94F81882 		ldrb	r8, [r4, #536]	@ zero_extendqisi2
 4416              	.LBE596:
 4417              	.LBE604:
 4418              	.LBB605:
 4419              	.LBB601:
 4420 0368 94F81CC2 		ldrb	ip, [r4, #540]	@ zero_extendqisi2
 4421              	.LBE601:
 4422              	.LBE605:
 4423              	.LBB606:
 4424              	.LBB597:
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4425              		.loc 1 629 5 view .LVU1696
 4426 036c 4EEA0722 		orr	r2, lr, r7, lsl #8
 4427              	.LVL434:
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4428              		.loc 1 631 2 is_stmt 1 view .LVU1697
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4429              		.loc 1 631 2 is_stmt 0 view .LVU1698
 4430              	.LBE597:
 4431              	.LBE606:
 4432              	.LBB607:
 4433              	.LBB602:
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 4434              		.loc 1 629 5 view .LVU1699
 4435 0370 41EA0620 		orr	r0, r1, r6, lsl #8
 4436              	.LBE602:
 4437              	.LBE607:
 4438              	.LBB608:
 4439              	.LBB598:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 4440              		.loc 1 630 5 view .LVU1700
 4441 0374 48EA0225 		orr	r5, r8, r2, lsl #8
 4442              	.LBE598:
 4443              	.LBE608:
 4444              	.LBB609:
 4445              	.LBB603:
 4446 0378 4CEA0029 		orr	r9, ip, r0, lsl #8
 4447              	.LBE603:
 4448              	.LBE609:
3529:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 4449              		.loc 1 3529 19 view .LVU1701
 4450 037c C4E90395 		strd	r9, r5, [r4, #12]
 4451 0380 AAE7     		b	.L394
 4452              	.L400:
 4453 0382 00BF     		.align	2
 4454              	.L399:
 4455 0384 52526141 		.word	1096897106
 4456              		.cfi_endproc
 4457              	.LFE30:
 4459              		.section	.text.dir_read.constprop.0,"ax",%progbits
 4460              		.align	1
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 171


 4461              		.p2align 2,,3
 4462              		.syntax unified
 4463              		.thumb
 4464              		.thumb_func
 4465              		.fpu fpv4-sp-d16
 4467              	dir_read.constprop.0:
 4468              	.LVL435:
 4469              	.LFB58:
2275:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
 4470              		.loc 1 2275 16 is_stmt 1 view -0
 4471              		.cfi_startproc
 4472              		@ args = 0, pretend = 0, frame = 0
 4473              		@ frame_needed = 0, uses_anonymous_args = 0
2280:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
 4474              		.loc 1 2280 2 view .LVU1703
2281:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE attr, b;
 4475              		.loc 1 2281 2 view .LVU1704
2275:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
 4476              		.loc 1 2275 16 is_stmt 0 view .LVU1705
 4477 0000 70B5     		push	{r4, r5, r6, lr}
 4478              		.cfi_def_cfa_offset 16
 4479              		.cfi_offset 4, -16
 4480              		.cfi_offset 5, -12
 4481              		.cfi_offset 6, -8
 4482              		.cfi_offset 14, -4
2280:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
 4483              		.loc 1 2280 10 view .LVU1706
 4484 0002 0423     		movs	r3, #4
2281:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE attr, b;
 4485              		.loc 1 2281 9 view .LVU1707
 4486 0004 0568     		ldr	r5, [r0]
 4487              	.LVL436:
2282:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN
 4488              		.loc 1 2282 2 is_stmt 1 view .LVU1708
2287:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = move_window(fs, dp->sect);
 4489              		.loc 1 2287 2 view .LVU1709
2275:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
 4490              		.loc 1 2275 16 is_stmt 0 view .LVU1710
 4491 0006 0446     		mov	r4, r0
2287:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = move_window(fs, dp->sect);
 4492              		.loc 1 2287 8 view .LVU1711
 4493 0008 1EE0     		b	.L402
 4494              	.LVL437:
 4495              	.L409:
 4496              	.LBB610:
 4497              	.LBB611:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 4498              		.loc 1 1055 5 view .LVU1712
 4499 000a EB6A     		ldr	r3, [r5, #44]
 4500 000c 9342     		cmp	r3, r2
 4501 000e 03D0     		beq	.L406
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 4502              		.loc 1 1055 5 view .LVU1713
 4503 0010 FFF7FEFF 		bl	move_window.part.0
 4504              	.LVL438:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4505              		.loc 1 1067 2 is_stmt 1 view .LVU1714
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 172


1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4506              		.loc 1 1067 2 is_stmt 0 view .LVU1715
 4507              	.LBE611:
 4508              	.LBE610:
2289:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		b = dp->dir[DIR_Name];	/* Test for the entry type */
 4509              		.loc 1 2289 3 is_stmt 1 view .LVU1716
2289:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		b = dp->dir[DIR_Name];	/* Test for the entry type */
 4510              		.loc 1 2289 6 is_stmt 0 view .LVU1717
 4511 0014 0346     		mov	r3, r0
 4512 0016 08BB     		cbnz	r0, .L404
 4513              	.LVL439:
 4514              	.L406:
2290:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (b == 0) {
 4515              		.loc 1 2290 3 is_stmt 1 view .LVU1718
2311:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
 4516              		.loc 1 2311 4 view .LVU1719
2337:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) break;
 4517              		.loc 1 2337 3 view .LVU1720
2290:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (b == 0) {
 4518              		.loc 1 2290 9 is_stmt 0 view .LVU1721
 4519 0018 E669     		ldr	r6, [r4, #28]
2290:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (b == 0) {
 4520              		.loc 1 2290 5 view .LVU1722
 4521 001a 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 4522              	.LVL440:
2291:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
 4523              		.loc 1 2291 3 is_stmt 1 view .LVU1723
2337:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) break;
 4524              		.loc 1 2337 9 is_stmt 0 view .LVU1724
 4525 001c 0021     		movs	r1, #0
 4526 001e 2046     		mov	r0, r4
2291:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
 4527              		.loc 1 2291 6 view .LVU1725
 4528 0020 DAB1     		cbz	r2, .L429
 4529              	.LVL441:
2311:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
 4530              		.loc 1 2311 24 view .LVU1726
 4531 0022 96F80BC0 		ldrb	ip, [r6, #11]	@ zero_extendqisi2
2332:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				break;
 4532              		.loc 1 2332 7 view .LVU1727
 4533 0026 E52A     		cmp	r2, #229
2311:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
 4534              		.loc 1 2311 24 view .LVU1728
 4535 0028 0CF03F03 		and	r3, ip, #63
 4536              	.LVL442:
2311:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
 4537              		.loc 1 2311 17 view .LVU1729
 4538 002c A371     		strb	r3, [r4, #6]
2332:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				break;
 4539              		.loc 1 2332 4 is_stmt 1 view .LVU1730
2332:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				break;
 4540              		.loc 1 2332 7 is_stmt 0 view .LVU1731
 4541 002e 07D0     		beq	.L407
2332:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				break;
 4542              		.loc 1 2332 18 view .LVU1732
 4543 0030 2E2A     		cmp	r2, #46
2332:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				break;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 173


 4544              		.loc 1 2332 63 view .LVU1733
 4545 0032 23F02006 		bic	r6, r3, #32
2332:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				break;
 4546              		.loc 1 2332 18 view .LVU1734
 4547 0036 03D0     		beq	.L407
2332:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				break;
 4548              		.loc 1 2332 30 view .LVU1735
 4549 0038 0F2B     		cmp	r3, #15
 4550 003a 01D0     		beq	.L407
2332:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				break;
 4551              		.loc 1 2332 48 view .LVU1736
 4552 003c 082E     		cmp	r6, #8
 4553 003e 09D1     		bne	.L410
 4554              	.L407:
2337:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) break;
 4555              		.loc 1 2337 9 view .LVU1737
 4556 0040 FFF7FEFF 		bl	dir_next
 4557              	.LVL443:
2338:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 4558              		.loc 1 2338 3 is_stmt 1 view .LVU1738
2338:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 4559              		.loc 1 2338 6 is_stmt 0 view .LVU1739
 4560 0044 0346     		mov	r3, r0
 4561 0046 48B9     		cbnz	r0, .L404
 4562              	.LVL444:
 4563              	.L402:
2288:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) break;
 4564              		.loc 1 2288 3 is_stmt 1 view .LVU1740
2287:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = move_window(fs, dp->sect);
 4565              		.loc 1 2287 8 view .LVU1741
2287:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = move_window(fs, dp->sect);
 4566              		.loc 1 2287 11 is_stmt 0 view .LVU1742
 4567 0048 A269     		ldr	r2, [r4, #24]
 4568              	.LVL445:
 4569              	.LBB613:
 4570              	.LBI610:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 4571              		.loc 1 1047 16 is_stmt 1 view .LVU1743
 4572              	.LBB612:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4573              		.loc 1 1052 2 view .LVU1744
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 4574              		.loc 1 1055 2 view .LVU1745
 4575 004a 2846     		mov	r0, r5
 4576 004c 1146     		mov	r1, r2
 4577              	.LBE612:
 4578              	.LBE613:
2287:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = move_window(fs, dp->sect);
 4579              		.loc 1 2287 8 is_stmt 0 view .LVU1746
 4580 004e 002A     		cmp	r2, #0
 4581 0050 DBD1     		bne	.L409
 4582              	.LVL446:
2341:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
 4583              		.loc 1 2341 2 is_stmt 1 view .LVU1747
2341:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
 4584              		.loc 1 2341 5 is_stmt 0 view .LVU1748
 4585 0052 1BB9     		cbnz	r3, .L404
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 174


 4586              	.LVL447:
 4587              	.L410:
2292:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 4588              		.loc 1 2292 8 view .LVU1749
 4589 0054 0023     		movs	r3, #0
2342:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4590              		.loc 1 2342 2 is_stmt 1 view .LVU1750
2343:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4591              		.loc 1 2343 1 is_stmt 0 view .LVU1751
 4592 0056 1846     		mov	r0, r3
 4593 0058 70BD     		pop	{r4, r5, r6, pc}
 4594              	.LVL448:
 4595              	.L429:
2292:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 4596              		.loc 1 2292 8 view .LVU1752
 4597 005a 0423     		movs	r3, #4
 4598              	.LVL449:
 4599              	.L404:
2341:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
 4600              		.loc 1 2341 20 is_stmt 1 view .LVU1753
2341:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
 4601              		.loc 1 2341 29 is_stmt 0 view .LVU1754
 4602 005c 0020     		movs	r0, #0
 4603 005e A061     		str	r0, [r4, #24]
 4604              	.LVL450:
2342:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4605              		.loc 1 2342 2 is_stmt 1 view .LVU1755
2343:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4606              		.loc 1 2343 1 is_stmt 0 view .LVU1756
 4607 0060 1846     		mov	r0, r3
 4608 0062 70BD     		pop	{r4, r5, r6, pc}
2343:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4609              		.loc 1 2343 1 view .LVU1757
 4610              		.cfi_endproc
 4611              	.LFE58:
 4613              		.section	.text.dir_sdi.constprop.0,"ax",%progbits
 4614              		.align	1
 4615              		.p2align 2,,3
 4616              		.syntax unified
 4617              		.thumb
 4618              		.thumb_func
 4619              		.fpu fpv4-sp-d16
 4621              	dir_sdi.constprop.0:
 4622              	.LVL451:
 4623              	.LFB56:
1666:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,		/* Pointer to directory object */
 4624              		.loc 1 1666 16 is_stmt 1 view -0
 4625              		.cfi_startproc
 4626              		@ args = 0, pretend = 0, frame = 0
 4627              		@ frame_needed = 0, uses_anonymous_args = 0
1671:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
 4628              		.loc 1 1671 2 view .LVU1759
1672:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4629              		.loc 1 1672 2 view .LVU1760
1679:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
 4630              		.loc 1 1679 7 is_stmt 0 view .LVU1761
 4631 0000 8168     		ldr	r1, [r0, #8]
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 175


1666:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,		/* Pointer to directory object */
 4632              		.loc 1 1666 16 view .LVU1762
 4633 0002 38B5     		push	{r3, r4, r5, lr}
 4634              		.cfi_def_cfa_offset 16
 4635              		.cfi_offset 3, -16
 4636              		.cfi_offset 4, -12
 4637              		.cfi_offset 5, -8
 4638              		.cfi_offset 14, -4
1678:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
 4639              		.loc 1 1678 11 view .LVU1763
 4640 0004 0023     		movs	r3, #0
1672:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4641              		.loc 1 1672 9 view .LVU1764
 4642 0006 0568     		ldr	r5, [r0]
 4643              	.LVL452:
1675:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		return FR_INT_ERR;
 4644              		.loc 1 1675 2 is_stmt 1 view .LVU1765
1678:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
 4645              		.loc 1 1678 2 view .LVU1766
1679:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
 4646              		.loc 1 1679 2 view .LVU1767
1680:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		clst = (DWORD)fs->dirbase;
 4647              		.loc 1 1680 2 view .LVU1768
1678:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
 4648              		.loc 1 1678 11 is_stmt 0 view .LVU1769
 4649 0008 0361     		str	r3, [r0, #16]
1666:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,		/* Pointer to directory object */
 4650              		.loc 1 1666 16 view .LVU1770
 4651 000a 0446     		mov	r4, r0
1680:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		clst = (DWORD)fs->dirbase;
 4652              		.loc 1 1680 5 view .LVU1771
 4653 000c 81B9     		cbnz	r1, .L431
1680:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		clst = (DWORD)fs->dirbase;
 4654              		.loc 1 1680 16 view .LVU1772
 4655 000e 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 4656              	.LVL453:
1680:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		clst = (DWORD)fs->dirbase;
 4657              		.loc 1 1680 16 view .LVU1773
 4658 0010 0228     		cmp	r0, #2
 4659 0012 09D8     		bhi	.L447
 4660              	.LVL454:
 4661              	.L432:
1686:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->sect = fs->dirbase;
 4662              		.loc 1 1686 3 is_stmt 1 view .LVU1774
1686:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->sect = fs->dirbase;
 4663              		.loc 1 1686 6 is_stmt 0 view .LVU1775
 4664 0014 2A89     		ldrh	r2, [r5, #8]
 4665 0016 F2B1     		cbz	r2, .L437
1687:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4666              		.loc 1 1687 3 is_stmt 1 view .LVU1776
1687:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4667              		.loc 1 1687 16 is_stmt 0 view .LVU1777
 4668 0018 6B6A     		ldr	r3, [r5, #36]
1687:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4669              		.loc 1 1687 12 view .LVU1778
 4670 001a A361     		str	r3, [r4, #24]
 4671              	.L435:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 176


 4672              	.LVL455:
1699:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->sect == 0) return FR_INT_ERR;
 4673              		.loc 1 1699 2 is_stmt 1 view .LVU1779
1699:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->sect == 0) return FR_INT_ERR;
 4674              		.loc 1 1699 12 is_stmt 0 view .LVU1780
 4675 001c 6161     		str	r1, [r4, #20]
1700:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 4676              		.loc 1 1700 2 is_stmt 1 view .LVU1781
1700:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 4677              		.loc 1 1700 5 is_stmt 0 view .LVU1782
 4678 001e D3B1     		cbz	r3, .L437
1701:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 4679              		.loc 1 1701 2 is_stmt 1 view .LVU1783
1702:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4680              		.loc 1 1702 2 view .LVU1784
1702:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4681              		.loc 1 1702 12 is_stmt 0 view .LVU1785
 4682 0020 3035     		adds	r5, r5, #48
 4683              	.LVL456:
1702:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4684              		.loc 1 1702 10 view .LVU1786
 4685 0022 E561     		str	r5, [r4, #28]
1704:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4686              		.loc 1 1704 2 is_stmt 1 view .LVU1787
1704:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4687              		.loc 1 1704 9 is_stmt 0 view .LVU1788
 4688 0024 0020     		movs	r0, #0
1705:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4689              		.loc 1 1705 1 view .LVU1789
 4690 0026 38BD     		pop	{r3, r4, r5, pc}
 4691              	.LVL457:
 4692              	.L447:
1681:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (FF_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
 4693              		.loc 1 1681 3 is_stmt 1 view .LVU1790
1681:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (FF_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
 4694              		.loc 1 1681 8 is_stmt 0 view .LVU1791
 4695 0028 6A6A     		ldr	r2, [r5, #36]
 4696              	.LVL458:
1682:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 4697              		.loc 1 1682 3 is_stmt 1 view .LVU1792
1685:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir) return FR_INT_ERR;	/* Is index out of range? */
 4698              		.loc 1 1685 2 view .LVU1793
1685:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir) return FR_INT_ERR;	/* Is index out of range? */
 4699              		.loc 1 1685 5 is_stmt 0 view .LVU1794
 4700 002a 002A     		cmp	r2, #0
 4701 002c F2D0     		beq	.L432
 4702 002e 1146     		mov	r1, r2
 4703              	.LVL459:
 4704              	.L431:
1690:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 4705              		.loc 1 1690 3 is_stmt 1 view .LVU1795
1690:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 4706              		.loc 1 1690 9 is_stmt 0 view .LVU1796
 4707 0030 6B89     		ldrh	r3, [r5, #10]
 4708              	.LVL460:
1691:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 4709              		.loc 1 1691 3 is_stmt 1 view .LVU1797
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 177


1691:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 4710              		.loc 1 1691 9 view .LVU1798
 4711 0032 2BB1     		cbz	r3, .L438
1691:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 4712              		.loc 1 1691 9 is_stmt 0 view .LVU1799
 4713 0034 11E0     		b	.L445
 4714              	.LVL461:
 4715              	.L448:
1694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ofs -= csz;
 4716              		.loc 1 1694 7 view .LVU1800
 4717 0036 0128     		cmp	r0, #1
 4718 0038 0DD9     		bls	.L437
1694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ofs -= csz;
 4719              		.loc 1 1694 17 view .LVU1801
 4720 003a 6869     		ldr	r0, [r5, #20]
 4721              	.LVL462:
1694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ofs -= csz;
 4722              		.loc 1 1694 17 view .LVU1802
 4723 003c 8142     		cmp	r1, r0
 4724 003e 0AD2     		bcs	.L437
 4725              	.L438:
1692:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4726              		.loc 1 1692 4 is_stmt 1 view .LVU1803
1692:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4727              		.loc 1 1692 11 is_stmt 0 view .LVU1804
 4728 0040 2068     		ldr	r0, [r4]
 4729 0042 FFF7FEFF 		bl	get_fat.isra.0
 4730              	.LVL463:
1694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ofs -= csz;
 4731              		.loc 1 1694 4 is_stmt 1 view .LVU1805
1693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 4732              		.loc 1 1693 7 is_stmt 0 view .LVU1806
 4733 0046 431C     		adds	r3, r0, #1
1692:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4734              		.loc 1 1692 11 view .LVU1807
 4735 0048 0146     		mov	r1, r0
 4736              	.LVL464:
1693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 4737              		.loc 1 1693 4 is_stmt 1 view .LVU1808
1693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 4738              		.loc 1 1693 7 is_stmt 0 view .LVU1809
 4739 004a F4D1     		bne	.L448
1693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 4740              		.loc 1 1693 35 view .LVU1810
 4741 004c 0120     		movs	r0, #1
 4742              	.LVL465:
1705:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4743              		.loc 1 1705 1 view .LVU1811
 4744 004e 38BD     		pop	{r3, r4, r5, pc}
 4745              	.LVL466:
 4746              	.L449:
1697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 4747              		.loc 1 1697 12 view .LVU1812
 4748 0050 0025     		movs	r5, #0
 4749              	.LVL467:
1697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 4750              		.loc 1 1697 12 view .LVU1813
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 178


 4751 0052 C4E90515 		strd	r1, r5, [r4, #20]
 4752              	.LVL468:
1699:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->sect == 0) return FR_INT_ERR;
 4753              		.loc 1 1699 2 is_stmt 1 view .LVU1814
1700:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 4754              		.loc 1 1700 2 view .LVU1815
 4755              	.L437:
1686:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->sect = fs->dirbase;
 4756              		.loc 1 1686 45 is_stmt 0 view .LVU1816
 4757 0056 0220     		movs	r0, #2
1705:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4758              		.loc 1 1705 1 view .LVU1817
 4759 0058 38BD     		pop	{r3, r4, r5, pc}
 4760              	.LVL469:
 4761              	.L445:
1697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 4762              		.loc 1 1697 3 is_stmt 1 view .LVU1818
 4763              	.LBB614:
 4764              	.LBI614:
1114:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 4765              		.loc 1 1114 14 view .LVU1819
 4766              	.LBB615:
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 4767              		.loc 1 1119 2 view .LVU1820
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 4768              		.loc 1 1120 27 is_stmt 0 view .LVU1821
 4769 005a 6A69     		ldr	r2, [r5, #20]
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 4770              		.loc 1 1119 7 view .LVU1822
 4771 005c A1F1020C 		sub	ip, r1, #2
 4772              	.LVL470:
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 4773              		.loc 1 1120 2 is_stmt 1 view .LVU1823
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 4774              		.loc 1 1120 27 is_stmt 0 view .LVU1824
 4775 0060 901E     		subs	r0, r2, #2
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 4776              		.loc 1 1120 5 view .LVU1825
 4777 0062 8445     		cmp	ip, r0
 4778 0064 F4D2     		bcs	.L449
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4779              		.loc 1 1121 2 is_stmt 1 view .LVU1826
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4780              		.loc 1 1121 22 is_stmt 0 view .LVU1827
 4781 0066 AA6A     		ldr	r2, [r5, #40]
 4782 0068 0CFB0323 		mla	r3, ip, r3, r2
 4783              	.LVL471:
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4784              		.loc 1 1121 22 view .LVU1828
 4785              	.LBE615:
 4786              	.LBE614:
1697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 4787              		.loc 1 1697 12 view .LVU1829
 4788 006c A361     		str	r3, [r4, #24]
 4789 006e D5E7     		b	.L435
 4790              		.cfi_endproc
 4791              	.LFE56:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 179


 4793              		.section	.text.dir_register,"ax",%progbits
 4794              		.align	1
 4795              		.p2align 2,,3
 4796              		.syntax unified
 4797              		.thumb
 4798              		.thumb_func
 4799              		.fpu fpv4-sp-d16
 4801              	dir_register:
 4802              	.LVL472:
 4803              	.LFB22:
2437:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 4804              		.loc 1 2437 1 is_stmt 1 view -0
 4805              		.cfi_startproc
 4806              		@ args = 0, pretend = 0, frame = 0
 4807              		@ frame_needed = 0, uses_anonymous_args = 0
2438:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
 4808              		.loc 1 2438 2 view .LVU1831
2439:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
 4809              		.loc 1 2439 2 view .LVU1832
2437:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 4810              		.loc 1 2437 1 is_stmt 0 view .LVU1833
 4811 0000 70B5     		push	{r4, r5, r6, lr}
 4812              		.cfi_def_cfa_offset 16
 4813              		.cfi_offset 4, -16
 4814              		.cfi_offset 5, -12
 4815              		.cfi_offset 6, -8
 4816              		.cfi_offset 14, -4
2439:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
 4817              		.loc 1 2439 9 view .LVU1834
 4818 0002 0668     		ldr	r6, [r0]
 4819              	.LVL473:
2511:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4820              		.loc 1 2511 2 is_stmt 1 view .LVU1835
2437:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 4821              		.loc 1 2437 1 is_stmt 0 view .LVU1836
 4822 0004 0446     		mov	r4, r0
 4823              	.LVL474:
 4824              	.LBB622:
 4825              	.LBI622:
1775:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,				/* Pointer to the directory object */
 4826              		.loc 1 1775 16 is_stmt 1 view .LVU1837
 4827              	.LBB623:
1780:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT n;
 4828              		.loc 1 1780 2 view .LVU1838
1781:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
 4829              		.loc 1 1781 2 view .LVU1839
1782:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4830              		.loc 1 1782 2 view .LVU1840
1785:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
 4831              		.loc 1 1785 2 view .LVU1841
1785:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
 4832              		.loc 1 1785 8 is_stmt 0 view .LVU1842
 4833 0006 FFF7FEFF 		bl	dir_sdi.constprop.0
 4834              	.LVL475:
1786:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		n = 0;
 4835              		.loc 1 1786 2 is_stmt 1 view .LVU1843
1786:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		n = 0;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 180


 4836              		.loc 1 1786 5 is_stmt 0 view .LVU1844
 4837 000a 0546     		mov	r5, r0
 4838 000c 38B1     		cbz	r0, .L458
 4839              	.L451:
 4840              	.LVL476:
1804:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
 4841              		.loc 1 1804 2 is_stmt 1 view .LVU1845
1804:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
 4842              		.loc 1 1804 29 is_stmt 0 view .LVU1846
 4843 000e 042D     		cmp	r5, #4
 4844 0010 08BF     		it	eq
 4845 0012 0725     		moveq	r5, #7
 4846              	.LVL477:
1804:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
 4847              		.loc 1 1804 29 view .LVU1847
 4848              	.LBE623:
 4849              	.LBE622:
2529:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4850              		.loc 1 2529 1 view .LVU1848
 4851 0014 2846     		mov	r0, r5
 4852 0016 70BD     		pop	{r4, r5, r6, pc}
 4853              	.LVL478:
 4854              	.L475:
 4855              	.LBB628:
 4856              	.LBB626:
1800:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} while (res == FR_OK);
 4857              		.loc 1 1800 10 view .LVU1849
 4858 0018 FFF7FEFF 		bl	dir_next
 4859              	.LVL479:
1801:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 4860              		.loc 1 1801 11 is_stmt 1 view .LVU1850
1801:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 4861              		.loc 1 1801 3 is_stmt 0 view .LVU1851
 4862 001c 70BB     		cbnz	r0, .L460
 4863              	.LVL480:
 4864              	.L458:
1788:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = move_window(fs, dp->sect);
 4865              		.loc 1 1788 3 is_stmt 1 view .LVU1852
1789:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 4866              		.loc 1 1789 4 view .LVU1853
1789:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 4867              		.loc 1 1789 10 is_stmt 0 view .LVU1854
 4868 001e A169     		ldr	r1, [r4, #24]
 4869              	.LVL481:
 4870              	.LBB624:
 4871              	.LBI624:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 4872              		.loc 1 1047 16 is_stmt 1 view .LVU1855
 4873              	.LBB625:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4874              		.loc 1 1052 2 view .LVU1856
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 4875              		.loc 1 1055 2 view .LVU1857
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 4876              		.loc 1 1055 5 is_stmt 0 view .LVU1858
 4877 0020 F36A     		ldr	r3, [r6, #44]
 4878 0022 9942     		cmp	r1, r3
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 181


 4879 0024 3046     		mov	r0, r6
 4880              	.LVL482:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 4881              		.loc 1 1055 5 view .LVU1859
 4882 0026 02D0     		beq	.L455
 4883              	.LVL483:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 4884              		.loc 1 1055 5 view .LVU1860
 4885 0028 FFF7FEFF 		bl	move_window.part.0
 4886              	.LVL484:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4887              		.loc 1 1067 2 is_stmt 1 view .LVU1861
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4888              		.loc 1 1067 2 is_stmt 0 view .LVU1862
 4889              	.LBE625:
 4890              	.LBE624:
1790:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 4891              		.loc 1 1790 4 is_stmt 1 view .LVU1863
1790:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 4892              		.loc 1 1790 7 is_stmt 0 view .LVU1864
 4893 002c 30BB     		cbnz	r0, .L460
 4894              	.LVL485:
 4895              	.L455:
1794:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 4896              		.loc 1 1794 4 is_stmt 1 view .LVU1865
1794:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 4897              		.loc 1 1794 15 is_stmt 0 view .LVU1866
 4898 002e E269     		ldr	r2, [r4, #28]
 4899 0030 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
1794:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 4900              		.loc 1 1794 7 view .LVU1867
 4901 0032 E52B     		cmp	r3, #229
 4902 0034 03D0     		beq	.L453
1800:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} while (res == FR_OK);
 4903              		.loc 1 1800 4 is_stmt 1 view .LVU1868
1800:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} while (res == FR_OK);
 4904              		.loc 1 1800 10 is_stmt 0 view .LVU1869
 4905 0036 0121     		movs	r1, #1
 4906 0038 2046     		mov	r0, r4
1794:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 4907              		.loc 1 1794 34 view .LVU1870
 4908 003a 002B     		cmp	r3, #0
 4909 003c ECD1     		bne	.L475
 4910              	.L453:
 4911              	.LVL486:
1794:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 4912              		.loc 1 1794 34 view .LVU1871
 4913              	.LBE626:
 4914              	.LBE628:
2517:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {
 4915              		.loc 1 2517 3 is_stmt 1 view .LVU1872
2517:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {
 4916              		.loc 1 2517 9 is_stmt 0 view .LVU1873
 4917 003e A169     		ldr	r1, [r4, #24]
 4918              	.LVL487:
 4919              	.LBB629:
 4920              	.LBI629:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 182


1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 4921              		.loc 1 1047 16 is_stmt 1 view .LVU1874
 4922              	.LBB630:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4923              		.loc 1 1052 2 view .LVU1875
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 4924              		.loc 1 1055 2 view .LVU1876
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 4925              		.loc 1 1055 5 is_stmt 0 view .LVU1877
 4926 0040 F06A     		ldr	r0, [r6, #44]
 4927 0042 8142     		cmp	r1, r0
 4928 0044 04D0     		beq	.L457
 4929 0046 3046     		mov	r0, r6
 4930 0048 FFF7FEFF 		bl	move_window.part.0
 4931              	.LVL488:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4932              		.loc 1 1067 2 is_stmt 1 view .LVU1878
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 4933              		.loc 1 1067 2 is_stmt 0 view .LVU1879
 4934              	.LBE630:
 4935              	.LBE629:
2518:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			memset(dp->dir, 0, SZDIRE);	/* Clean the entry */
 4936              		.loc 1 2518 3 is_stmt 1 view .LVU1880
2518:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			memset(dp->dir, 0, SZDIRE);	/* Clean the entry */
 4937              		.loc 1 2518 6 is_stmt 0 view .LVU1881
 4938 004c C0B9     		cbnz	r0, .L473
 4939 004e E269     		ldr	r2, [r4, #28]
 4940              	.LVL489:
 4941              	.L457:
2519:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			memcpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
 4942              		.loc 1 2519 4 is_stmt 1 view .LVU1882
 4943 0050 1046     		mov	r0, r2
 4944 0052 0021     		movs	r1, #0
 4945 0054 2022     		movs	r2, #32
 4946 0056 FFF7FEFF 		bl	memset
 4947              	.LVL490:
2520:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN
 4948              		.loc 1 2520 4 view .LVU1883
 4949 005a 04F1200C 		add	ip, r4, #32
 4950 005e BCE80300 		ldmia	ip!, {r0, r1}
 4951 0062 E469     		ldr	r4, [r4, #28]
 4952              	.LVL491:
2520:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN
 4953              		.loc 1 2520 4 is_stmt 0 view .LVU1884
 4954 0064 2060     		str	r0, [r4]	@ unaligned
 4955 0066 6160     		str	r1, [r4, #4]	@ unaligned
 4956 0068 BCF80010 		ldrh	r1, [ip]	@ unaligned
 4957 006c 9CF80230 		ldrb	r3, [ip, #2]	@ zero_extendqisi2
 4958 0070 A372     		strb	r3, [r4, #10]
2524:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 4959              		.loc 1 2524 4 is_stmt 1 view .LVU1885
2524:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 4960              		.loc 1 2524 14 is_stmt 0 view .LVU1886
 4961 0072 0120     		movs	r0, #1
2520:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN
 4962              		.loc 1 2520 4 view .LVU1887
 4963 0074 2181     		strh	r1, [r4, #8]	@ unaligned
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 183


2524:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 4964              		.loc 1 2524 14 view .LVU1888
 4965 0076 F070     		strb	r0, [r6, #3]
2529:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4966              		.loc 1 2529 1 view .LVU1889
 4967 0078 2846     		mov	r0, r5
 4968 007a 70BD     		pop	{r4, r5, r6, pc}
 4969              	.LVL492:
 4970              	.L460:
 4971              	.LBB631:
 4972              	.LBB627:
2529:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4973              		.loc 1 2529 1 view .LVU1890
 4974 007c 0546     		mov	r5, r0
 4975 007e C6E7     		b	.L451
 4976              	.LVL493:
 4977              	.L473:
2529:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4978              		.loc 1 2529 1 view .LVU1891
 4979              	.LBE627:
 4980              	.LBE631:
 4981 0080 0546     		mov	r5, r0
 4982 0082 2846     		mov	r0, r5
 4983              	.LVL494:
2529:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4984              		.loc 1 2529 1 view .LVU1892
 4985 0084 70BD     		pop	{r4, r5, r6, pc}
2529:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 4986              		.loc 1 2529 1 view .LVU1893
 4987              		.cfi_endproc
 4988              	.LFE22:
 4990 0086 00BF     		.section	.rodata.follow_path.str1.4,"aMS",%progbits,1
 4991              		.align	2
 4992              	.LC1:
 4993 0000 2A2B2C3A 		.ascii	"*+,:;<=>[]|\"?\177\000"
 4993      3B3C3D3E 
 4993      5B5D7C22 
 4993      3F7F00
 4994              		.section	.text.follow_path,"ax",%progbits
 4995              		.align	1
 4996              		.p2align 2,,3
 4997              		.syntax unified
 4998              		.thumb
 4999              		.thumb_func
 5000              		.fpu fpv4-sp-d16
 5002              	follow_path:
 5003              	.LVL495:
 5004              	.LFB26:
3007:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 5005              		.loc 1 3007 1 is_stmt 1 view -0
 5006              		.cfi_startproc
 5007              		@ args = 0, pretend = 0, frame = 0
 5008              		@ frame_needed = 0, uses_anonymous_args = 0
3008:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE ns;
 5009              		.loc 1 3008 2 view .LVU1895
3009:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
 5010              		.loc 1 3009 2 view .LVU1896
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 184


3010:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5011              		.loc 1 3010 2 view .LVU1897
3007:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 5012              		.loc 1 3007 1 is_stmt 0 view .LVU1898
 5013 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5014              		.cfi_def_cfa_offset 40
 5015              		.cfi_offset 3, -40
 5016              		.cfi_offset 4, -36
 5017              		.cfi_offset 5, -32
 5018              		.cfi_offset 6, -28
 5019              		.cfi_offset 7, -24
 5020              		.cfi_offset 8, -20
 5021              		.cfi_offset 9, -16
 5022              		.cfi_offset 10, -12
 5023              		.cfi_offset 11, -8
 5024              		.cfi_offset 14, -4
3010:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5025              		.loc 1 3010 9 view .LVU1899
 5026 0004 D0F80080 		ldr	r8, [r0]
 5027              	.LVL496:
3019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.sclust = 0;					/* Start from the root directory */
 5028              		.loc 1 3019 3 is_stmt 1 view .LVU1900
3007:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 5029              		.loc 1 3007 1 is_stmt 0 view .LVU1901
 5030 0008 8146     		mov	r9, r0
 5031              	.LVL497:
 5032              	.L477:
3019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.sclust = 0;					/* Start from the root directory */
 5033              		.loc 1 3019 10 discriminator 1 view .LVU1902
 5034 000a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
3019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.sclust = 0;					/* Start from the root directory */
 5035              		.loc 1 3019 9 discriminator 1 view .LVU1903
 5036 000c 2F2B     		cmp	r3, #47
 5037 000e 0D46     		mov	r5, r1
 5038              	.LVL498:
3019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.sclust = 0;					/* Start from the root directory */
 5039              		.loc 1 3019 9 is_stmt 1 discriminator 1 view .LVU1904
 5040 0010 01F10101 		add	r1, r1, #1
 5041              	.LVL499:
3019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.sclust = 0;					/* Start from the root directory */
 5042              		.loc 1 3019 9 is_stmt 0 discriminator 1 view .LVU1905
 5043 0014 F9D0     		beq	.L477
3019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.sclust = 0;					/* Start from the root directory */
 5044              		.loc 1 3019 10 discriminator 3 view .LVU1906
 5045 0016 5C2B     		cmp	r3, #92
 5046 0018 F7D0     		beq	.L477
3020:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 5047              		.loc 1 3020 3 is_stmt 1 view .LVU1907
3020:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 5048              		.loc 1 3020 18 is_stmt 0 view .LVU1908
 5049 001a 0020     		movs	r0, #0
 5050              	.LVL500:
3020:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 5051              		.loc 1 3020 18 view .LVU1909
 5052 001c C9F80800 		str	r0, [r9, #8]
3039:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 5053              		.loc 1 3039 2 is_stmt 1 view .LVU1910
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 185


3039:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 5054              		.loc 1 3039 5 is_stmt 0 view .LVU1911
 5055 0020 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 5056 0022 1F29     		cmp	r1, #31
 5057 0024 40F2DF80 		bls	.L479
 5058 0028 09F12006 		add	r6, r9, #32
 5059              	.L480:
3044:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 5060              		.loc 1 3044 3 is_stmt 1 view .LVU1912
3045:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 5061              		.loc 1 3045 4 view .LVU1913
 5062              	.LVL501:
 5063              	.LBB648:
 5064              	.LBI648:
2801:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,					/* Pointer to the directory object */
 5065              		.loc 1 2801 16 view .LVU1914
 5066              	.LBB649:
2933:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT ni, si, i;
 5067              		.loc 1 2933 2 view .LVU1915
2934:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const char *p;
 5068              		.loc 1 2934 2 view .LVU1916
2935:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5069              		.loc 1 2935 2 view .LVU1917
2938:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	memset(sfn, ' ', 11);
 5070              		.loc 1 2938 2 view .LVU1918
2938:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	memset(sfn, ' ', 11);
 5071              		.loc 1 2938 13 view .LVU1919
2939:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	si = i = 0; ni = 8;
 5072              		.loc 1 2939 2 view .LVU1920
 5073 002c 4FF02032 		mov	r2, #538976288
 5074 0030 7260     		str	r2, [r6, #4]	@ unaligned
 5075 0032 3260     		str	r2, [r6]	@ unaligned
 5076 0034 C6F80720 		str	r2, [r6, #7]	@ unaligned
2940:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH != 0
 5077              		.loc 1 2940 2 view .LVU1921
 5078              	.LVL502:
2940:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH != 0
 5079              		.loc 1 2940 14 view .LVU1922
2954:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (BYTE)p[si++];				/* Get a byte */
 5080              		.loc 1 2954 2 view .LVU1923
2955:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
 5081              		.loc 1 2955 3 view .LVU1924
2955:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
 5082              		.loc 1 2955 5 is_stmt 0 view .LVU1925
 5083 0038 2C78     		ldrb	r4, [r5]	@ zero_extendqisi2
 5084              	.LVL503:
2956:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (IsSeparator(c)) {			/* Break if a separator is found */
 5085              		.loc 1 2956 3 is_stmt 1 view .LVU1926
2956:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (IsSeparator(c)) {			/* Break if a separator is found */
 5086              		.loc 1 2956 6 is_stmt 0 view .LVU1927
 5087 003a 202C     		cmp	r4, #32
 5088 003c 20D9     		bls	.L481
2940:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH != 0
 5089              		.loc 1 2940 9 view .LVU1928
 5090 003e 4FF0000A 		mov	r10, #0
2940:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH != 0
 5091              		.loc 1 2940 5 view .LVU1929
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 186


 5092 0042 5346     		mov	r3, r10
2940:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH != 0
 5093              		.loc 1 2940 17 view .LVU1930
 5094 0044 4FF0080B 		mov	fp, #8
2955:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
 5095              		.loc 1 2955 17 view .LVU1931
 5096 0048 0127     		movs	r7, #1
 5097              	.LVL504:
 5098              	.L482:
2957:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			while (IsSeparator(p[si])) si++;	/* Skip duplicated separator if exist */
 5099              		.loc 1 2957 3 is_stmt 1 view .LVU1932
2957:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			while (IsSeparator(p[si])) si++;	/* Skip duplicated separator if exist */
 5100              		.loc 1 2957 6 is_stmt 0 view .LVU1933
 5101 004a 2F2C     		cmp	r4, #47
 5102 004c 4AD0     		beq	.L484
2957:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			while (IsSeparator(p[si])) si++;	/* Skip duplicated separator if exist */
 5103              		.loc 1 2957 7 view .LVU1934
 5104 004e 5C2C     		cmp	r4, #92
 5105 0050 48D0     		beq	.L484
2961:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Field overflow or invalid dot? */
 5106              		.loc 1 2961 3 is_stmt 1 view .LVU1935
2961:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Field overflow or invalid dot? */
 5107              		.loc 1 2961 6 is_stmt 0 view .LVU1936
 5108 0052 2E2C     		cmp	r4, #46
 5109 0054 18D0     		beq	.L489
2961:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Field overflow or invalid dot? */
 5110              		.loc 1 2961 16 view .LVU1937
 5111 0056 DA45     		cmp	r10, fp
 5112 0058 12D2     		bcs	.L481
2975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
 5113              		.loc 1 2975 3 is_stmt 1 view .LVU1938
 5114              	.LVL505:
 5115              	.LBB650:
 5116              	.LBI650:
 688:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 5117              		.loc 1 688 12 view .LVU1939
 5118              	.LBB651:
 696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c <= DbcTbl[1]) return 1;
 5119              		.loc 1 696 2 view .LVU1940
 696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c <= DbcTbl[1]) return 1;
 5120              		.loc 1 696 5 is_stmt 0 view .LVU1941
 5121 005a 802C     		cmp	r4, #128
 5122 005c 29D9     		bls	.L492
 697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c >= DbcTbl[2] && c <= DbcTbl[3]) return 1;
 5123              		.loc 1 697 3 is_stmt 1 view .LVU1942
 697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c >= DbcTbl[2] && c <= DbcTbl[3]) return 1;
 5124              		.loc 1 697 6 is_stmt 0 view .LVU1943
 5125 005e 9F2C     		cmp	r4, #159
 5126 0060 04D9     		bls	.L493
 698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 5127              		.loc 1 698 3 is_stmt 1 view .LVU1944
 698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 5128              		.loc 1 698 6 is_stmt 0 view .LVU1945
 5129 0062 04F12000 		add	r0, r4, #32
 5130 0066 C1B2     		uxtb	r1, r0
 5131 0068 1C29     		cmp	r1, #28
 5132 006a 34D8     		bhi	.L494
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 187


 5133              	.L493:
 5134              	.LVL506:
 698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 5135              		.loc 1 698 6 view .LVU1946
 5136              	.LBE651:
 5137              	.LBE650:
2976:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!dbc_2nd(d) || i >= ni - 1) return FR_INVALID_NAME;	/* Reject invalid DBC */
 5138              		.loc 1 2976 4 is_stmt 1 view .LVU1947
2976:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!dbc_2nd(d) || i >= ni - 1) return FR_INVALID_NAME;	/* Reject invalid DBC */
 5139              		.loc 1 2976 6 is_stmt 0 view .LVU1948
 5140 006c EF5D     		ldrb	r7, [r5, r7]	@ zero_extendqisi2
 5141              	.LVL507:
2977:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sfn[i++] = c;
 5142              		.loc 1 2977 4 is_stmt 1 view .LVU1949
 5143              	.LBB652:
 5144              	.LBI652:
 708:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 5145              		.loc 1 708 12 view .LVU1950
 5146              	.LBB653:
 717:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c <= DbcTbl[5]) return 1;
 5147              		.loc 1 717 2 view .LVU1951
 717:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c <= DbcTbl[5]) return 1;
 5148              		.loc 1 717 5 is_stmt 0 view .LVU1952
 5149 006e 3F2F     		cmp	r7, #63
 5150 0070 06D9     		bls	.L481
 718:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c >= DbcTbl[6] && c <= DbcTbl[7]) return 1;
 5151              		.loc 1 718 3 is_stmt 1 view .LVU1953
 718:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c >= DbcTbl[6] && c <= DbcTbl[7]) return 1;
 5152              		.loc 1 718 6 is_stmt 0 view .LVU1954
 5153 0072 7E2F     		cmp	r7, #126
 5154 0074 40F28480 		bls	.L495
 719:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c >= DbcTbl[8] && c <= DbcTbl[9]) return 1;
 5155              		.loc 1 719 3 is_stmt 1 view .LVU1955
 719:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c >= DbcTbl[8] && c <= DbcTbl[9]) return 1;
 5156              		.loc 1 719 6 is_stmt 0 view .LVU1956
 5157 0078 87F08002 		eor	r2, r7, #128
 5158 007c 7C2A     		cmp	r2, #124
 5159 007e 7FD9     		bls	.L495
 5160              	.LVL508:
 5161              	.L481:
 719:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c >= DbcTbl[8] && c <= DbcTbl[9]) return 1;
 5162              		.loc 1 719 6 view .LVU1957
 5163              	.LBE653:
 5164              	.LBE652:
2987:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5165              		.loc 1 2987 21 view .LVU1958
 5166 0080 0624     		movs	r4, #6
 5167              	.LVL509:
 5168              	.L517:
2987:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5169              		.loc 1 2987 21 view .LVU1959
 5170              	.LBE649:
 5171              	.LBE648:
3081:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5172              		.loc 1 3081 1 view .LVU1960
 5173 0082 2046     		mov	r0, r4
 5174 0084 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 188


 5175              	.LVL510:
 5176              	.L489:
 5177              	.LBB658:
 5178              	.LBB654:
2962:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			i = 8; ni = 11;				/* Enter file extension field */
 5179              		.loc 1 2962 4 is_stmt 1 view .LVU1961
2962:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			i = 8; ni = 11;				/* Enter file extension field */
 5180              		.loc 1 2962 7 is_stmt 0 view .LVU1962
 5181 0088 BBF10B0F 		cmp	fp, #11
 5182 008c F8D0     		beq	.L481
 5183 008e 3B46     		mov	r3, r7
2963:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			continue;
 5184              		.loc 1 2963 6 view .LVU1963
 5185 0090 4FF0080A 		mov	r10, #8
 5186              	.LVL511:
2963:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			continue;
 5187              		.loc 1 2963 14 view .LVU1964
 5188 0094 4FF00B0B 		mov	fp, #11
 5189              	.LVL512:
 5190              	.L491:
2954:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = (BYTE)p[si++];				/* Get a byte */
 5191              		.loc 1 2954 2 is_stmt 1 view .LVU1965
2955:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
 5192              		.loc 1 2955 3 view .LVU1966
2955:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
 5193              		.loc 1 2955 5 is_stmt 0 view .LVU1967
 5194 0098 EC5C     		ldrb	r4, [r5, r3]	@ zero_extendqisi2
 5195              	.LVL513:
2956:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (IsSeparator(c)) {			/* Break if a separator is found */
 5196              		.loc 1 2956 6 view .LVU1968
 5197 009a 202C     		cmp	r4, #32
2955:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
 5198              		.loc 1 2955 17 view .LVU1969
 5199 009c 03F10107 		add	r7, r3, #1
 5200              	.LVL514:
2956:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (IsSeparator(c)) {			/* Break if a separator is found */
 5201              		.loc 1 2956 3 is_stmt 1 view .LVU1970
2956:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (IsSeparator(c)) {			/* Break if a separator is found */
 5202              		.loc 1 2956 6 is_stmt 0 view .LVU1971
 5203 00a0 D3D8     		bhi	.L482
2986:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (i == 0) return FR_INVALID_NAME;	/* Reject nul string */
 5204              		.loc 1 2986 2 is_stmt 1 view .LVU1972
 5205              	.LVL515:
2989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sfn[NSFLAG] = (c <= ' ' || p[si] <= ' ') ? NS_LAST : 0;	/* Set last segment flag if end of the pat
 5206              		.loc 1 2989 5 is_stmt 0 view .LVU1973
 5207 00a2 99F82010 		ldrb	r1, [r9, #32]	@ zero_extendqisi2
 5208 00a6 E529     		cmp	r1, #229
2986:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (i == 0) return FR_INVALID_NAME;	/* Reject nul string */
 5209              		.loc 1 2986 10 view .LVU1974
 5210 00a8 3D44     		add	r5, r5, r7
 5211              	.LVL516:
2987:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5212              		.loc 1 2987 2 is_stmt 1 view .LVU1975
2989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sfn[NSFLAG] = (c <= ' ' || p[si] <= ' ') ? NS_LAST : 0;	/* Set last segment flag if end of the pat
 5213              		.loc 1 2989 2 view .LVU1976
2989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sfn[NSFLAG] = (c <= ' ' || p[si] <= ' ') ? NS_LAST : 0;	/* Set last segment flag if end of the pat
 5214              		.loc 1 2989 5 is_stmt 0 view .LVU1977
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 189


 5215 00aa 00F0AF80 		beq	.L513
 5216              	.L550:
2990:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5217              		.loc 1 2990 2 is_stmt 1 view .LVU1978
2990:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5218              		.loc 1 2990 14 is_stmt 0 view .LVU1979
 5219 00ae 0423     		movs	r3, #4
 5220 00b0 2DE0     		b	.L498
 5221              	.LVL517:
 5222              	.L492:
2981:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 5223              		.loc 1 2981 4 is_stmt 1 view .LVU1980
2981:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 5224              		.loc 1 2981 8 is_stmt 0 view .LVU1981
 5225 00b2 5948     		ldr	r0, .L553
 5226 00b4 2146     		mov	r1, r4
 5227 00b6 FFF7FEFF 		bl	strchr
 5228              	.LVL518:
2981:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 5229              		.loc 1 2981 7 view .LVU1982
 5230 00ba 0028     		cmp	r0, #0
 5231 00bc E0D1     		bne	.L481
2982:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sfn[i++] = c;
 5232              		.loc 1 2982 4 is_stmt 1 view .LVU1983
2982:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sfn[i++] = c;
 5233              		.loc 1 2982 7 is_stmt 0 view .LVU1984
 5234 00be A4F16103 		sub	r3, r4, #97
 5235 00c2 192B     		cmp	r3, #25
2982:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sfn[i++] = c;
 5236              		.loc 1 2982 20 is_stmt 1 view .LVU1985
2982:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sfn[i++] = c;
 5237              		.loc 1 2982 22 is_stmt 0 view .LVU1986
 5238 00c4 9CBF     		itt	ls
 5239 00c6 203C     		subls	r4, r4, #32
 5240              	.LVL519:
2982:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sfn[i++] = c;
 5241              		.loc 1 2982 22 view .LVU1987
 5242 00c8 E4B2     		uxtbls	r4, r4
 5243              	.LVL520:
 5244              	.L496:
2983:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 5245              		.loc 1 2983 4 is_stmt 1 view .LVU1988
2983:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 5246              		.loc 1 2983 13 is_stmt 0 view .LVU1989
 5247 00ca 06F80A40 		strb	r4, [r6, r10]
 5248 00ce 3B46     		mov	r3, r7
2983:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 5249              		.loc 1 2983 9 view .LVU1990
 5250 00d0 0AF1010A 		add	r10, r10, #1
 5251              	.LVL521:
2983:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 5252              		.loc 1 2983 9 view .LVU1991
 5253 00d4 E0E7     		b	.L491
 5254              	.LVL522:
 5255              	.L494:
2981:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 5256              		.loc 1 2981 4 is_stmt 1 view .LVU1992
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 190


2981:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 5257              		.loc 1 2981 8 is_stmt 0 view .LVU1993
 5258 00d6 5048     		ldr	r0, .L553
 5259 00d8 2146     		mov	r1, r4
 5260 00da FFF7FEFF 		bl	strchr
 5261              	.LVL523:
2981:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 5262              		.loc 1 2981 7 view .LVU1994
 5263 00de 0028     		cmp	r0, #0
 5264 00e0 F3D0     		beq	.L496
 5265 00e2 CDE7     		b	.L481
 5266              	.L484:
 5267 00e4 2F44     		add	r7, r7, r5
 5268              	.LVL524:
 5269              	.L486:
2958:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 5270              		.loc 1 2958 10 is_stmt 1 view .LVU1995
2958:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 5271              		.loc 1 2958 11 is_stmt 0 view .LVU1996
 5272 00e6 3A78     		ldrb	r2, [r7]	@ zero_extendqisi2
2958:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 5273              		.loc 1 2958 10 view .LVU1997
 5274 00e8 2F2A     		cmp	r2, #47
2958:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 5275              		.loc 1 2958 11 view .LVU1998
 5276 00ea 3D46     		mov	r5, r7
 5277 00ec 07F10107 		add	r7, r7, #1
 5278              	.LVL525:
2958:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 5279              		.loc 1 2958 10 view .LVU1999
 5280 00f0 F9D0     		beq	.L486
2958:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			break;
 5281              		.loc 1 2958 11 view .LVU2000
 5282 00f2 5C2A     		cmp	r2, #92
 5283 00f4 F7D0     		beq	.L486
2986:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (i == 0) return FR_INVALID_NAME;	/* Reject nul string */
 5284              		.loc 1 2986 2 is_stmt 1 view .LVU2001
2987:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5285              		.loc 1 2987 2 view .LVU2002
2987:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5286              		.loc 1 2987 5 is_stmt 0 view .LVU2003
 5287 00f6 BAF1000F 		cmp	r10, #0
 5288 00fa C1D0     		beq	.L481
 5289              	.LVL526:
2989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sfn[NSFLAG] = (c <= ' ' || p[si] <= ' ') ? NS_LAST : 0;	/* Set last segment flag if end of the pat
 5290              		.loc 1 2989 2 is_stmt 1 view .LVU2004
2989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sfn[NSFLAG] = (c <= ' ' || p[si] <= ' ') ? NS_LAST : 0;	/* Set last segment flag if end of the pat
 5291              		.loc 1 2989 5 is_stmt 0 view .LVU2005
 5292 00fc 99F82000 		ldrb	r0, [r9, #32]	@ zero_extendqisi2
 5293 0100 E528     		cmp	r0, #229
 5294 0102 7DD0     		beq	.L552
 5295              	.LVL527:
 5296              	.L514:
2990:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5297              		.loc 1 2990 26 view .LVU2006
 5298 0104 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
2990:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 191


 5299              		.loc 1 2990 14 view .LVU2007
 5300 0106 212B     		cmp	r3, #33
 5301 0108 34BF     		ite	cc
 5302 010a 0423     		movcc	r3, #4
 5303 010c 0023     		movcs	r3, #0
 5304              	.L498:
2990:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5305              		.loc 1 2990 14 view .LVU2008
 5306 010e 89F82B30 		strb	r3, [r9, #43]
2992:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif /* FF_USE_LFN */
 5307              		.loc 1 2992 2 is_stmt 1 view .LVU2009
 5308              	.LVL528:
2992:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif /* FF_USE_LFN */
 5309              		.loc 1 2992 2 is_stmt 0 view .LVU2010
 5310              	.LBE654:
 5311              	.LBE658:
3046:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
 5312              		.loc 1 3046 4 is_stmt 1 view .LVU2011
3047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ns = dp->fn[NSFLAG];
 5313              		.loc 1 3047 4 view .LVU2012
 5314              	.LBB659:
 5315              	.LBI659:
2353:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp					/* Pointer to the directory object with the file name */
 5316              		.loc 1 2353 16 view .LVU2013
 5317              	.LBB660:
2357:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs = dp->obj.fs;
 5318              		.loc 1 2357 2 view .LVU2014
2358:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE c;
 5319              		.loc 1 2358 2 view .LVU2015
2364:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res != FR_OK) return res;
 5320              		.loc 1 2364 8 is_stmt 0 view .LVU2016
 5321 0112 4846     		mov	r0, r9
2358:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE c;
 5322              		.loc 1 2358 9 view .LVU2017
 5323 0114 D9F80070 		ldr	r7, [r9]
 5324              	.LVL529:
2359:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN
 5325              		.loc 1 2359 2 is_stmt 1 view .LVU2018
2364:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res != FR_OK) return res;
 5326              		.loc 1 2364 2 view .LVU2019
2364:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res != FR_OK) return res;
 5327              		.loc 1 2364 8 is_stmt 0 view .LVU2020
 5328 0118 FFF7FEFF 		bl	dir_sdi.constprop.0
 5329              	.LVL530:
2365:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 5330              		.loc 1 2365 2 is_stmt 1 view .LVU2021
2365:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 5331              		.loc 1 2365 5 is_stmt 0 view .LVU2022
 5332 011c 0446     		mov	r4, r0
 5333 011e A0B1     		cbz	r0, .L506
 5334 0120 69E0     		b	.L499
 5335              	.LVL531:
 5336              	.L547:
2417:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !memcmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry?
 5337              		.loc 1 2417 25 view .LVU2023
 5338 0122 93F80BA0 		ldrb	r10, [r3, #11]	@ zero_extendqisi2
2417:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !memcmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry?
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 192


 5339              		.loc 1 2417 36 view .LVU2024
 5340 0126 0AF03F0C 		and	ip, r10, #63
2417:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !memcmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry?
 5341              		.loc 1 2417 16 view .LVU2025
 5342 012a 89F806C0 		strb	ip, [r9, #6]
 5343              	.LVL532:
2418:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 5344              		.loc 1 2418 3 is_stmt 1 view .LVU2026
 5345 012e DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
2418:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 5346              		.loc 1 2418 6 is_stmt 0 view .LVU2027
 5347 0130 13F00804 		ands	r4, r3, #8
 5348              	.LVL533:
2418:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 5349              		.loc 1 2418 6 view .LVU2028
 5350 0134 02D1     		bne	.L504
2418:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 5351              		.loc 1 2418 41 view .LVU2029
 5352 0136 FFF7FEFF 		bl	memcmp
 5353              	.LVL534:
2418:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 5354              		.loc 1 2418 37 view .LVU2030
 5355 013a 80B3     		cbz	r0, .L505
 5356              	.L504:
2420:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (res == FR_OK);
 5357              		.loc 1 2420 3 is_stmt 1 view .LVU2031
2420:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} while (res == FR_OK);
 5358              		.loc 1 2420 9 is_stmt 0 view .LVU2032
 5359 013c 0021     		movs	r1, #0
 5360 013e 4846     		mov	r0, r9
 5361 0140 FFF7FEFF 		bl	dir_next
 5362              	.LVL535:
2421:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5363              		.loc 1 2421 10 is_stmt 1 view .LVU2033
2421:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5364              		.loc 1 2421 2 is_stmt 0 view .LVU2034
 5365 0144 0446     		mov	r4, r0
 5366 0146 0028     		cmp	r0, #0
 5367 0148 55D1     		bne	.L499
 5368              	.L506:
2390:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = move_window(fs, dp->sect);
 5369              		.loc 1 2390 2 is_stmt 1 view .LVU2035
2391:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) break;
 5370              		.loc 1 2391 3 view .LVU2036
2391:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) break;
 5371              		.loc 1 2391 9 is_stmt 0 view .LVU2037
 5372 014a D9F81810 		ldr	r1, [r9, #24]
 5373              	.LVL536:
 5374              	.LBB661:
 5375              	.LBI661:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 5376              		.loc 1 1047 16 is_stmt 1 view .LVU2038
 5377              	.LBB662:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5378              		.loc 1 1052 2 view .LVU2039
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 5379              		.loc 1 1055 2 view .LVU2040
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 193


1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 5380              		.loc 1 1055 5 is_stmt 0 view .LVU2041
 5381 014e FB6A     		ldr	r3, [r7, #44]
 5382 0150 9942     		cmp	r1, r3
 5383 0152 3846     		mov	r0, r7
 5384              	.LVL537:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 5385              		.loc 1 1055 5 view .LVU2042
 5386 0154 04D0     		beq	.L503
 5387              	.LVL538:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 5388              		.loc 1 1055 5 view .LVU2043
 5389 0156 FFF7FEFF 		bl	move_window.part.0
 5390              	.LVL539:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 5391              		.loc 1 1067 2 is_stmt 1 view .LVU2044
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 5392              		.loc 1 1067 2 is_stmt 0 view .LVU2045
 5393              	.LBE662:
 5394              	.LBE661:
2392:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = dp->dir[DIR_Name];
 5395              		.loc 1 2392 3 is_stmt 1 view .LVU2046
2392:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		c = dp->dir[DIR_Name];
 5396              		.loc 1 2392 6 is_stmt 0 view .LVU2047
 5397 015a 0446     		mov	r4, r0
 5398 015c 0028     		cmp	r0, #0
 5399 015e 4AD1     		bne	.L499
 5400              	.LVL540:
 5401              	.L503:
2393:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 5402              		.loc 1 2393 3 is_stmt 1 view .LVU2048
2417:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !memcmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry?
 5403              		.loc 1 2417 3 view .LVU2049
2393:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 5404              		.loc 1 2393 9 is_stmt 0 view .LVU2050
 5405 0160 D9F81C30 		ldr	r3, [r9, #28]
 5406              	.LVL541:
2394:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
 5407              		.loc 1 2394 3 is_stmt 1 view .LVU2051
2394:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
 5408              		.loc 1 2394 6 is_stmt 0 view .LVU2052
 5409 0164 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
2418:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 5410              		.loc 1 2418 41 view .LVU2053
 5411 0166 0B22     		movs	r2, #11
 5412 0168 3146     		mov	r1, r6
 5413 016a 1846     		mov	r0, r3
2394:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
 5414              		.loc 1 2394 6 view .LVU2054
 5415 016c 002C     		cmp	r4, #0
 5416 016e D8D1     		bne	.L547
 5417              	.LVL542:
 5418              	.L511:
2394:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN		/* LFN configuration */
 5419              		.loc 1 2394 6 view .LVU2055
 5420              	.LBE660:
 5421              	.LBE659:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 194


3048:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 5422              		.loc 1 3048 7 view .LVU2056
 5423 0170 99F82B50 		ldrb	r5, [r9, #43]	@ zero_extendqisi2
 5424              	.LVL543:
3051:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
 5425              		.loc 1 3051 6 is_stmt 1 view .LVU2057
3056:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 5426              		.loc 1 3056 7 view .LVU2058
3056:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 5427              		.loc 1 3056 10 is_stmt 0 view .LVU2059
 5428 0174 6A07     		lsls	r2, r5, #29
 5429 0176 47D4     		bmi	.L516
 5430              	.LVL544:
 5431              	.L508:
3056:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 5432              		.loc 1 3056 32 view .LVU2060
 5433 0178 0524     		movs	r4, #5
3081:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5434              		.loc 1 3081 1 view .LVU2061
 5435 017a 2046     		mov	r0, r4
 5436 017c BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5437              	.LVL545:
 5438              	.L495:
 5439              	.LBB663:
 5440              	.LBB655:
2977:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sfn[i++] = c;
 5441              		.loc 1 2977 31 view .LVU2062
 5442 0180 0BF1FF30 		add	r0, fp, #-1
2977:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sfn[i++] = c;
 5443              		.loc 1 2977 20 view .LVU2063
 5444 0184 5045     		cmp	r0, r10
 5445 0186 7FF67BAF 		bls	.L481
2978:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sfn[i++] = d;
 5446              		.loc 1 2978 9 view .LVU2064
 5447 018a 0AF1010C 		add	ip, r10, #1
2978:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sfn[i++] = d;
 5448              		.loc 1 2978 13 view .LVU2065
 5449 018e 06F80A40 		strb	r4, [r6, r10]
2976:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!dbc_2nd(d) || i >= ni - 1) return FR_INVALID_NAME;	/* Reject invalid DBC */
 5450              		.loc 1 2976 18 view .LVU2066
 5451 0192 0233     		adds	r3, r3, #2
 5452              	.LVL546:
2978:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sfn[i++] = d;
 5453              		.loc 1 2978 4 is_stmt 1 view .LVU2067
2979:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {						/* SBC */
 5454              		.loc 1 2979 4 view .LVU2068
2979:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {						/* SBC */
 5455              		.loc 1 2979 13 is_stmt 0 view .LVU2069
 5456 0194 06F80C70 		strb	r7, [r6, ip]
2979:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {						/* SBC */
 5457              		.loc 1 2979 9 view .LVU2070
 5458 0198 0AF1020A 		add	r10, r10, #2
 5459              	.LVL547:
2979:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {						/* SBC */
 5460              		.loc 1 2979 9 view .LVU2071
 5461 019c 7CE7     		b	.L491
 5462              	.LVL548:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 195


 5463              	.L505:
2979:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {						/* SBC */
 5464              		.loc 1 2979 9 view .LVU2072
 5465              	.LBE655:
 5466              	.LBE663:
3048:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 5467              		.loc 1 3048 4 is_stmt 1 view .LVU2073
3049:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 5468              		.loc 1 3049 4 view .LVU2074
3061:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			/* Get into the sub-directory */
 5469              		.loc 1 3061 4 view .LVU2075
3061:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			/* Get into the sub-directory */
 5470              		.loc 1 3061 7 is_stmt 0 view .LVU2076
 5471 019e 99F82B10 		ldrb	r1, [r9, #43]	@ zero_extendqisi2
 5472 01a2 4B07     		lsls	r3, r1, #29
 5473 01a4 3FF56DAF 		bmi	.L517
3063:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_NO_PATH; break;
 5474              		.loc 1 3063 4 is_stmt 1 view .LVU2077
3063:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_NO_PATH; break;
 5475              		.loc 1 3063 7 is_stmt 0 view .LVU2078
 5476 01a8 1AF0100F 		tst	r10, #16
 5477 01ac E4D0     		beq	.L508
3075:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 5478              		.loc 1 3075 5 is_stmt 1 view .LVU2079
3075:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 5479              		.loc 1 3075 54 is_stmt 0 view .LVU2080
 5480 01ae D9F81020 		ldr	r2, [r9, #16]
 5481              	.LBB664:
 5482              	.LBB665:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 5483              		.loc 1 1825 5 view .LVU2081
 5484 01b2 98F80070 		ldrb	r7, [r8]	@ zero_extendqisi2
 5485              	.LBE665:
 5486              	.LBE664:
3075:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 5487              		.loc 1 3075 54 view .LVU2082
 5488 01b6 C2F3080B 		ubfx	fp, r2, #0, #9
3075:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 5489              		.loc 1 3075 35 view .LVU2083
 5490 01ba 08F1300E 		add	lr, r8, #48
3075:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 5491              		.loc 1 3075 22 view .LVU2084
 5492 01be DE44     		add	lr, lr, fp
 5493              	.LVL549:
 5494              	.LBB673:
 5495              	.LBI664:
1817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,			/* Pointer to the fs object */
 5496              		.loc 1 1817 14 is_stmt 1 view .LVU2085
 5497              	.LBB672:
1822:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5498              		.loc 1 1822 2 view .LVU2086
1824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 5499              		.loc 1 1824 2 view .LVU2087
 5500              	.LBB666:
 5501              	.LBI666:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 5502              		.loc 1 614 13 view .LVU2088
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 196


 5503              	.LBB667:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5504              		.loc 1 616 2 view .LVU2089
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 5505              		.loc 1 618 2 view .LVU2090
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 5506              		.loc 1 619 2 view .LVU2091
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 5507              		.loc 1 620 2 view .LVU2092
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 5508              		.loc 1 620 2 is_stmt 0 view .LVU2093
 5509              	.LBE667:
 5510              	.LBE666:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 5511              		.loc 1 1825 5 view .LVU2094
 5512 01c0 032F     		cmp	r7, #3
 5513              	.LBB669:
 5514              	.LBB668:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 5515              		.loc 1 619 10 view .LVU2095
 5516 01c2 9EF81B00 		ldrb	r0, [lr, #27]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 5517              		.loc 1 619 20 view .LVU2096
 5518 01c6 9EF81A30 		ldrb	r3, [lr, #26]	@ zero_extendqisi2
 5519              	.LBE668:
 5520              	.LBE669:
1824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 5521              		.loc 1 1824 5 view .LVU2097
 5522 01ca 43EA0022 		orr	r2, r3, r0, lsl #8
 5523              	.LVL550:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 5524              		.loc 1 1825 2 is_stmt 1 view .LVU2098
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 5525              		.loc 1 1825 5 is_stmt 0 view .LVU2099
 5526 01ce 07D1     		bne	.L509
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 5527              		.loc 1 1826 3 is_stmt 1 view .LVU2100
 5528              	.LVL551:
 5529              	.LBB670:
 5530              	.LBI670:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 5531              		.loc 1 614 13 view .LVU2101
 5532              	.LBB671:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5533              		.loc 1 616 2 view .LVU2102
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 5534              		.loc 1 618 2 view .LVU2103
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 5535              		.loc 1 619 2 view .LVU2104
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 5536              		.loc 1 620 2 view .LVU2105
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 5537              		.loc 1 619 10 is_stmt 0 view .LVU2106
 5538 01d0 9EF81540 		ldrb	r4, [lr, #21]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 5539              		.loc 1 619 20 view .LVU2107
 5540 01d4 9EF81410 		ldrb	r1, [lr, #20]	@ zero_extendqisi2
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 197


 5541              	.LBE671:
 5542              	.LBE670:
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 5543              		.loc 1 1826 9 view .LVU2108
 5544 01d8 41EA0427 		orr	r7, r1, r4, lsl #8
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 5545              		.loc 1 1826 6 view .LVU2109
 5546 01dc 42EA0742 		orr	r2, r2, r7, lsl #16
 5547              	.LVL552:
 5548              	.L509:
1829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 5549              		.loc 1 1829 2 is_stmt 1 view .LVU2110
1829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 5550              		.loc 1 1829 2 is_stmt 0 view .LVU2111
 5551              	.LBE672:
 5552              	.LBE673:
3075:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 5553              		.loc 1 3075 20 view .LVU2112
 5554 01e0 C9F80820 		str	r2, [r9, #8]
3044:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 5555              		.loc 1 3044 9 is_stmt 1 view .LVU2113
3045:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) break;
 5556              		.loc 1 3045 8 is_stmt 0 view .LVU2114
 5557 01e4 22E7     		b	.L480
 5558              	.LVL553:
 5559              	.L479:
3040:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = dir_sdi(dp, 0);
 5560              		.loc 1 3040 3 is_stmt 1 view .LVU2115
3040:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = dir_sdi(dp, 0);
 5561              		.loc 1 3040 18 is_stmt 0 view .LVU2116
 5562 01e6 8026     		movs	r6, #128
 5563 01e8 89F82B60 		strb	r6, [r9, #43]
3041:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5564              		.loc 1 3041 3 is_stmt 1 view .LVU2117
3041:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5565              		.loc 1 3041 9 is_stmt 0 view .LVU2118
 5566 01ec 4846     		mov	r0, r9
3081:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5567              		.loc 1 3081 1 view .LVU2119
 5568 01ee BDE8F84F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5569              		.cfi_remember_state
 5570              		.cfi_restore 14
 5571              		.cfi_restore 11
 5572              		.cfi_restore 10
 5573              		.cfi_restore 9
 5574              		.cfi_restore 8
 5575              		.cfi_restore 7
 5576              		.cfi_restore 6
 5577              		.cfi_restore 5
 5578              		.cfi_restore 4
 5579              		.cfi_restore 3
 5580              		.cfi_def_cfa_offset 0
 5581              	.LVL554:
3041:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5582              		.loc 1 3041 9 view .LVU2120
 5583 01f2 FFF7FEBF 		b	dir_sdi.constprop.0
 5584              	.LVL555:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 198


 5585              	.L499:
 5586              		.cfi_restore_state
3048:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 5587              		.loc 1 3048 4 is_stmt 1 view .LVU2121
3049:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 5588              		.loc 1 3049 4 view .LVU2122
3050:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (FF_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
 5589              		.loc 1 3050 5 view .LVU2123
3050:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (FF_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
 5590              		.loc 1 3050 8 is_stmt 0 view .LVU2124
 5591 01f6 042C     		cmp	r4, #4
 5592 01f8 BAD0     		beq	.L511
3081:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5593              		.loc 1 3081 1 view .LVU2125
 5594 01fa 2046     		mov	r0, r4
 5595 01fc BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5596              	.LVL556:
 5597              	.L552:
 5598              	.LBB674:
 5599              	.LBB656:
2989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sfn[NSFLAG] = (c <= ' ' || p[si] <= ' ') ? NS_LAST : 0;	/* Set last segment flag if end of the pat
 5600              		.loc 1 2989 22 is_stmt 1 view .LVU2126
2989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sfn[NSFLAG] = (c <= ' ' || p[si] <= ' ') ? NS_LAST : 0;	/* Set last segment flag if end of the pat
 5601              		.loc 1 2989 29 is_stmt 0 view .LVU2127
 5602 0200 0524     		movs	r4, #5
 5603              	.LVL557:
2989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sfn[NSFLAG] = (c <= ' ' || p[si] <= ' ') ? NS_LAST : 0;	/* Set last segment flag if end of the pat
 5604              		.loc 1 2989 29 view .LVU2128
 5605 0202 89F82040 		strb	r4, [r9, #32]
2990:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5606              		.loc 1 2990 2 is_stmt 1 view .LVU2129
 5607 0206 7DE7     		b	.L514
 5608              	.LVL558:
 5609              	.L516:
2990:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5610              		.loc 1 2990 2 is_stmt 0 view .LVU2130
 5611              	.LBE656:
 5612              	.LBE674:
3047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ns = dp->fn[NSFLAG];
 5613              		.loc 1 3047 10 view .LVU2131
 5614 0208 0424     		movs	r4, #4
 5615 020a 3AE7     		b	.L517
 5616              	.LVL559:
 5617              	.L513:
 5618              	.LBB675:
 5619              	.LBB657:
2989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sfn[NSFLAG] = (c <= ' ' || p[si] <= ' ') ? NS_LAST : 0;	/* Set last segment flag if end of the pat
 5620              		.loc 1 2989 22 is_stmt 1 view .LVU2132
2989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	sfn[NSFLAG] = (c <= ' ' || p[si] <= ' ') ? NS_LAST : 0;	/* Set last segment flag if end of the pat
 5621              		.loc 1 2989 29 is_stmt 0 view .LVU2133
 5622 020c 4FF0050E 		mov	lr, #5
 5623 0210 89F820E0 		strb	lr, [r9, #32]
 5624 0214 4BE7     		b	.L550
 5625              	.L554:
 5626 0216 00BF     		.align	2
 5627              	.L553:
 5628 0218 00000000 		.word	.LC1
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 199


 5629              	.LBE657:
 5630              	.LBE675:
 5631              		.cfi_endproc
 5632              	.LFE26:
 5634              		.section	.text.f_mount,"ax",%progbits
 5635              		.align	1
 5636              		.p2align 2,,3
 5637              		.global	f_mount
 5638              		.syntax unified
 5639              		.thumb
 5640              		.thumb_func
 5641              		.fpu fpv4-sp-d16
 5643              	f_mount:
 5644              	.LVL560:
 5645              	.LFB32:
3589:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3590:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3591:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3592:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3593:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*---------------------------------------------------------------------------
3594:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3595:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c ****    Public Functions (FatFs API)
3596:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3597:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** ----------------------------------------------------------------------------*/
3598:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3599:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3600:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3601:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3602:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Mount/Unmount a Logical Drive                                         */
3603:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3604:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3605:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_mount (
3606:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,			/* Pointer to the filesystem object to be registered (NULL:unmount)*/
3607:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR* path,	/* Logical drive number to be mounted/unmounted */
3608:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE opt			/* Mount option: 0=Do not mount (delayed mount), 1=Mount immediately */
3609:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
3610:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 5646              		.loc 1 3610 1 is_stmt 1 view -0
 5647              		.cfi_startproc
 5648              		@ args = 0, pretend = 0, frame = 16
 5649              		@ frame_needed = 0, uses_anonymous_args = 0
3611:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *cfs;
 5650              		.loc 1 3611 2 view .LVU2135
3612:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	int vol;
 5651              		.loc 1 3612 2 view .LVU2136
3613:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 5652              		.loc 1 3613 2 view .LVU2137
3614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR *rp = path;
 5653              		.loc 1 3614 2 view .LVU2138
3610:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *cfs;
 5654              		.loc 1 3610 1 is_stmt 0 view .LVU2139
 5655 0000 10B5     		push	{r4, lr}
 5656              		.cfi_def_cfa_offset 8
 5657              		.cfi_offset 4, -8
 5658              		.cfi_offset 14, -4
 5659 0002 84B0     		sub	sp, sp, #16
 5660              		.cfi_def_cfa_offset 24
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 200


3610:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *cfs;
 5661              		.loc 1 3610 1 view .LVU2140
 5662 0004 1446     		mov	r4, r2
 5663 0006 0190     		str	r0, [sp, #4]
3615:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3617:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Get logical drive number */
3618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	vol = get_ldnumber(&rp);
 5664              		.loc 1 3618 8 view .LVU2141
 5665 0008 03A8     		add	r0, sp, #12
 5666              	.LVL561:
3610:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *cfs;
 5667              		.loc 1 3610 1 view .LVU2142
 5668 000a 0091     		str	r1, [sp]
3614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5669              		.loc 1 3614 15 view .LVU2143
 5670 000c 0391     		str	r1, [sp, #12]
 5671              		.loc 1 3618 2 is_stmt 1 view .LVU2144
 5672              		.loc 1 3618 8 is_stmt 0 view .LVU2145
 5673 000e FFF7FEFF 		bl	get_ldnumber
 5674              	.LVL562:
3619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 5675              		.loc 1 3619 2 is_stmt 1 view .LVU2146
 5676              		.loc 1 3619 5 is_stmt 0 view .LVU2147
 5677 0012 0028     		cmp	r0, #0
 5678              		.loc 1 3619 5 view .LVU2148
 5679 0014 16DB     		blt	.L559
3620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5680              		.loc 1 3620 2 is_stmt 1 view .LVU2149
 5681              		.loc 1 3620 6 is_stmt 0 view .LVU2150
 5682 0016 0D4A     		ldr	r2, .L569
 5683 0018 52F82030 		ldr	r3, [r2, r0, lsl #2]
 5684              	.LVL563:
3621:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3622:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (cfs) {
 5685              		.loc 1 3622 2 is_stmt 1 view .LVU2151
 5686              		.loc 1 3622 5 is_stmt 0 view .LVU2152
 5687 001c 0BB1     		cbz	r3, .L557
3623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
3624:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		clear_lock(cfs);
3625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3626:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_REENTRANT						/* Discard sync object of the current volume */
3627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!ff_del_syncobj(cfs->sobj)) return FR_INT_ERR;
3628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cfs->fs_type = 0;				/* Clear old fs object */
 5688              		.loc 1 3629 3 is_stmt 1 view .LVU2153
 5689              		.loc 1 3629 16 is_stmt 0 view .LVU2154
 5690 001e 0021     		movs	r1, #0
 5691 0020 1970     		strb	r1, [r3]
 5692              	.L557:
3630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3632:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs) {
 5693              		.loc 1 3632 2 is_stmt 1 view .LVU2155
 5694              		.loc 1 3632 6 is_stmt 0 view .LVU2156
 5695 0022 019B     		ldr	r3, [sp, #4]
 5696              	.LVL564:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 201


 5697              		.loc 1 3632 5 view .LVU2157
 5698 0024 0BB1     		cbz	r3, .L558
3633:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 5699              		.loc 1 3633 3 is_stmt 1 view .LVU2158
 5700              		.loc 1 3633 15 is_stmt 0 view .LVU2159
 5701 0026 0021     		movs	r1, #0
 5702 0028 1970     		strb	r1, [r3]
 5703              	.L558:
3634:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_REENTRANT						/* Create sync object for the new volume */
3635:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!ff_cre_syncobj((BYTE)vol, &fs->sobj)) return FR_INT_ERR;
3636:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3637:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3638:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FatFs[vol] = fs;					/* Register new fs object */
 5704              		.loc 1 3638 2 is_stmt 1 view .LVU2160
 5705              		.loc 1 3638 13 is_stmt 0 view .LVU2161
 5706 002a 42F82030 		str	r3, [r2, r0, lsl #2]
3639:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3640:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (opt == 0) return FR_OK;			/* Do not mount now, it will be mounted later */
 5707              		.loc 1 3640 2 is_stmt 1 view .LVU2162
 5708              		.loc 1 3640 5 is_stmt 0 view .LVU2163
 5709 002e 14B9     		cbnz	r4, .L568
 5710              		.loc 1 3640 23 view .LVU2164
 5711 0030 2046     		mov	r0, r4
 5712              	.LVL565:
3641:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3642:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = mount_volume(&path, &fs, 0);	/* Force mounted the volume */
3643:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, res);
3644:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 5713              		.loc 1 3644 1 view .LVU2165
 5714 0032 04B0     		add	sp, sp, #16
 5715              		.cfi_remember_state
 5716              		.cfi_def_cfa_offset 8
 5717              		@ sp needed
 5718 0034 10BD     		pop	{r4, pc}
 5719              	.LVL566:
 5720              	.L568:
 5721              		.cfi_restore_state
3642:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, res);
 5722              		.loc 1 3642 2 is_stmt 1 view .LVU2166
3642:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, res);
 5723              		.loc 1 3642 8 is_stmt 0 view .LVU2167
 5724 0036 0022     		movs	r2, #0
 5725 0038 01A9     		add	r1, sp, #4
 5726 003a 6846     		mov	r0, sp
 5727              	.LVL567:
3642:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, res);
 5728              		.loc 1 3642 8 view .LVU2168
 5729 003c FFF7FEFF 		bl	mount_volume
 5730              	.LVL568:
3643:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 5731              		.loc 1 3643 2 is_stmt 1 view .LVU2169
 5732              		.loc 1 3644 1 is_stmt 0 view .LVU2170
 5733 0040 04B0     		add	sp, sp, #16
 5734              		.cfi_remember_state
 5735              		.cfi_def_cfa_offset 8
 5736              		@ sp needed
 5737 0042 10BD     		pop	{r4, pc}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 202


 5738              	.LVL569:
 5739              	.L559:
 5740              		.cfi_restore_state
3619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5741              		.loc 1 3619 22 view .LVU2171
 5742 0044 0B20     		movs	r0, #11
 5743              	.LVL570:
 5744              		.loc 1 3644 1 view .LVU2172
 5745 0046 04B0     		add	sp, sp, #16
 5746              		.cfi_def_cfa_offset 8
 5747              		@ sp needed
 5748 0048 10BD     		pop	{r4, pc}
 5749              	.L570:
 5750 004a 00BF     		.align	2
 5751              	.L569:
 5752 004c 00000000 		.word	.LANCHOR0
 5753              		.cfi_endproc
 5754              	.LFE32:
 5756              		.section	.text.f_open,"ax",%progbits
 5757              		.align	1
 5758              		.p2align 2,,3
 5759              		.global	f_open
 5760              		.syntax unified
 5761              		.thumb
 5762              		.thumb_func
 5763              		.fpu fpv4-sp-d16
 5765              	f_open:
 5766              	.LVL571:
 5767              	.LFB33:
3645:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3646:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3647:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3648:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3649:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3650:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Open or Create a File                                                 */
3651:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_open (
3654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FIL* fp,			/* Pointer to the blank file object */
3655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR* path,	/* Pointer to the file name */
3656:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE mode			/* Access mode and open mode flags */
3657:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
3658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 5768              		.loc 1 3658 1 is_stmt 1 view -0
 5769              		.cfi_startproc
 5770              		@ args = 0, pretend = 0, frame = 56
 5771              		@ frame_needed = 0, uses_anonymous_args = 0
3659:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 5772              		.loc 1 3659 2 view .LVU2174
3660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR dj;
 5773              		.loc 1 3660 2 view .LVU2175
3661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
 5774              		.loc 1 3661 2 view .LVU2176
3662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
3663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD cl, bcs, clst, tm;
 5775              		.loc 1 3663 2 view .LVU2177
3664:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t sc;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 203


 5776              		.loc 1 3664 2 view .LVU2178
3665:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FSIZE_t ofs;
 5777              		.loc 1 3665 2 view .LVU2179
3666:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3667:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DEF_NAMBUF
3668:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3669:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3670:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (!fp) return FR_INVALID_OBJECT;
 5778              		.loc 1 3670 2 view .LVU2180
3658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 5779              		.loc 1 3658 1 is_stmt 0 view .LVU2181
 5780 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 5781              		.cfi_def_cfa_offset 32
 5782              		.cfi_offset 4, -32
 5783              		.cfi_offset 5, -28
 5784              		.cfi_offset 6, -24
 5785              		.cfi_offset 7, -20
 5786              		.cfi_offset 8, -16
 5787              		.cfi_offset 9, -12
 5788              		.cfi_offset 10, -8
 5789              		.cfi_offset 14, -4
 5790 0004 8EB0     		sub	sp, sp, #56
 5791              		.cfi_def_cfa_offset 88
3658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 5792              		.loc 1 3658 1 view .LVU2182
 5793 0006 0191     		str	r1, [sp, #4]
 5794              		.loc 1 3670 5 view .LVU2183
 5795 0008 0028     		cmp	r0, #0
 5796 000a 00F09180 		beq	.L594
3671:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3672:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Get logical drive number */
3673:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	mode &= FF_FS_READONLY ? FA_READ : FA_READ | FA_WRITE | FA_CREATE_ALWAYS | FA_CREATE_NEW | FA_OPEN
 5797              		.loc 1 3673 2 is_stmt 1 view .LVU2184
 5798              		.loc 1 3673 7 is_stmt 0 view .LVU2185
 5799 000e 02F03F07 		and	r7, r2, #63
 5800              	.LVL572:
3674:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = mount_volume(&path, &fs, mode);
 5801              		.loc 1 3674 2 is_stmt 1 view .LVU2186
 5802 0012 1646     		mov	r6, r2
 5803 0014 0446     		mov	r4, r0
 5804              		.loc 1 3674 8 is_stmt 0 view .LVU2187
 5805 0016 3A46     		mov	r2, r7
 5806 0018 02A9     		add	r1, sp, #8
 5807              	.LVL573:
 5808              		.loc 1 3674 8 view .LVU2188
 5809 001a 01A8     		add	r0, sp, #4
 5810              	.LVL574:
 5811              		.loc 1 3674 8 view .LVU2189
 5812 001c FFF7FEFF 		bl	mount_volume
 5813              	.LVL575:
3675:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
 5814              		.loc 1 3675 2 is_stmt 1 view .LVU2190
 5815              		.loc 1 3675 5 is_stmt 0 view .LVU2191
 5816 0020 0546     		mov	r5, r0
 5817 0022 28B1     		cbz	r0, .L628
 5818              	.LVL576:
 5819              	.L573:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 204


3676:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dj.obj.fs = fs;
3677:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		INIT_NAMBUF(fs);
3678:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
3679:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY	/* Read/Write configuration */
3680:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {
3681:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
3682:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_INVALID_NAME;
3683:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3684:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
3685:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			else {
3686:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = chk_lock(&dj, (mode & ~FA_READ) ? 1 : 0);		/* Check if the file can be used */
3687:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3688:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3689:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3690:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		/* Create or Open a file */
3691:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (mode & (FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW)) {
3692:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
3693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
3694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
3695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = enq_lock() ? dir_register(&dj) : FR_TOO_MANY_OPEN_FILES;
3696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
3697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = dir_register(&dj);
3698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3699:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
3700:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				mode |= FA_CREATE_ALWAYS;		/* File is created */
3701:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3702:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			else {								/* Any object with the same name is already existing */
3703:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (dj.obj.attr & (AM_RDO | AM_DIR)) {	/* Cannot overwrite it (R/O or DIR) */
3704:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = FR_DENIED;
3705:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} else {
3706:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (mode & FA_CREATE_NEW) res = FR_EXIST;	/* Cannot create as new file */
3707:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
3708:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3709:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_OK && (mode & FA_CREATE_ALWAYS)) {	/* Truncate the file if overwrite mode */
3710:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
3711:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3712:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					/* Get current allocation info */
3713:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->obj.fs = fs;
3714:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					init_alloc_info(fs, &fp->obj);
3715:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					/* Set directory entry block initial state */
3716:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					memset(fs->dirbuf + 2, 0, 30);	/* Clear 85 entry except for NumSec */
3717:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					memset(fs->dirbuf + 38, 0, 26);	/* Clear C0 entry except for NumName and NameHash */
3718:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_ARC;
3719:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_dword(fs->dirbuf + XDIR_CrtTime, GET_FATTIME());
3720:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 1;
3721:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = store_xdir(&dj);
3722:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (res == FR_OK && fp->obj.sclust != 0) {	/* Remove the cluster chain if exist */
3723:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = remove_chain(&fp->obj, fp->obj.sclust, 0);
3724:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->last_clst = fp->obj.sclust - 1;		/* Reuse the cluster hole */
3725:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
3726:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} else
3727:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3728:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				{
3729:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					/* Set directory entry initial state */
3730:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					tm = GET_FATTIME();					/* Set created time */
3731:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_dword(dj.dir + DIR_CrtTime, tm);
3732:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_dword(dj.dir + DIR_ModTime, tm);
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 205


3733:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get current cluster chain */
3734:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
3735:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
3736:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
3737:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->wflag = 1;
3738:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (cl != 0) {						/* Remove the cluster chain if exist */
3739:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						sc = fs->winsect;
3740:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
3741:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (res == FR_OK) {
3742:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							res = move_window(fs, sc);
3743:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
3744:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
3745:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
3746:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
3747:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3748:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3749:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		else {	/* Open an existing file */
3750:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_OK) {					/* Is the object exsiting? */
3751:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* File open against a directory */
3752:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = FR_NO_FILE;
3753:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} else {
3754:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if ((mode & FA_WRITE) && (dj.obj.attr & AM_RDO)) { /* Write mode open against R/O file */
3755:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = FR_DENIED;
3756:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
3757:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
3758:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3759:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3760:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {
3761:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (mode & FA_CREATE_ALWAYS) mode |= FA_MODIFIED;	/* Set file change flag if created or overwrit
3762:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
3763:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->dir_ptr = dj.dir;
3764:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
3765:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->obj.lockid = inc_lock(&dj, (mode & ~FA_READ) ? 1 : 0);	/* Lock the file for this session */
3766:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fp->obj.lockid == 0) res = FR_INT_ERR;
3767:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3768:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3769:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else		/* R/O configuration */
3770:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {
3771:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Is it origin directory itself? */
3772:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_INVALID_NAME;
3773:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
3774:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* Is it a directory? */
3775:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = FR_NO_FILE;
3776:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
3777:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3778:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3779:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3780:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3781:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {
3782:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
3783:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3784:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->obj.c_scl = dj.obj.sclust;							/* Get containing directory info */
3785:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->obj.c_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3786:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->obj.c_ofs = dj.blk_ofs;
3787:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				init_alloc_info(fs, &fp->obj);
3788:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else
3789:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 206


3790:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			{
3791:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->obj.sclust = ld_clust(fs, dj.dir);					/* Get object allocation info */
3792:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
3793:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3794:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_FASTSEEK
3795:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->cltbl = 0;		/* Disable fast seek mode */
3796:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3797:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->obj.fs = fs;	/* Validate the file object */
3798:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->obj.id = fs->id;
3799:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->flag = mode;	/* Set file access mode */
3800:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->err = 0;		/* Clear error flag */
3801:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->sect = 0;		/* Invalidate current data sector */
3802:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->fptr = 0;		/* Set file pointer top of the file */
3803:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
3804:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_TINY
3805:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			memset(fp->buf, 0, sizeof fp->buf);	/* Clear sector buffer */
3806:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3807:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if ((mode & FA_SEEKEND) && fp->obj.objsize > 0) {	/* Seek to end of file if FA_OPEN_APPEND is sp
3808:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
3809:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
3810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
3811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
3812:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = get_fat(&fp->obj, clst);
3813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
3814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
3815:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
3816:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->clust = clst;
3817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
3818:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					sc = clst2sect(fs, clst);
3819:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (sc == 0) {
3820:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = FR_INT_ERR;
3821:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} else {
3822:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fp->sect = sc + (DWORD)(ofs / SS(fs));
3823:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_TINY
3824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (disk_read(fs->pdrv, fp->buf, fp->sect, 1) != RES_OK) res = FR_DISK_ERR;
3825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
3827:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
3828:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
3829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res != FR_OK) dec_lock(fp->obj.lockid); /* Decrement file open counter if seek failed */
3830:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3831:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3832:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3833:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3834:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3835:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		FREE_NAMBUF();
3836:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3837:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3838:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res != FR_OK) fp->obj.fs = 0;	/* Invalidate file object on error */
 5820              		.loc 1 3838 20 is_stmt 1 discriminator 1 view .LVU2192
 5821              		.loc 1 3838 31 is_stmt 0 discriminator 1 view .LVU2193
 5822 0024 0020     		movs	r0, #0
 5823 0026 2060     		str	r0, [r4]
 5824              	.L608:
3839:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3840:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, res);
3841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 207


 5825              		.loc 1 3841 1 view .LVU2194
 5826 0028 2846     		mov	r0, r5
 5827 002a 0EB0     		add	sp, sp, #56
 5828              		.cfi_remember_state
 5829              		.cfi_def_cfa_offset 32
 5830              		@ sp needed
 5831 002c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 5832              	.LVL577:
 5833              	.L628:
 5834              		.cfi_restore_state
3676:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dj.obj.fs = fs;
 5835              		.loc 1 3676 3 is_stmt 1 view .LVU2195
3678:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY	/* Read/Write configuration */
 5836              		.loc 1 3678 9 is_stmt 0 view .LVU2196
 5837 0030 DDE90113 		ldrd	r1, r3, [sp, #4]
 5838 0034 03A8     		add	r0, sp, #12
 5839              	.LVL578:
3676:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dj.obj.fs = fs;
 5840              		.loc 1 3676 13 view .LVU2197
 5841 0036 0393     		str	r3, [sp, #12]
3677:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 5842              		.loc 1 3677 18 is_stmt 1 view .LVU2198
3678:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY	/* Read/Write configuration */
 5843              		.loc 1 3678 3 view .LVU2199
3678:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY	/* Read/Write configuration */
 5844              		.loc 1 3678 9 is_stmt 0 view .LVU2200
 5845 0038 FFF7FEFF 		bl	follow_path
 5846              	.LVL579:
3680:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
 5847              		.loc 1 3680 3 is_stmt 1 view .LVU2201
3680:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
 5848              		.loc 1 3680 6 is_stmt 0 view .LVU2202
 5849 003c 80B9     		cbnz	r0, .L574
3681:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_INVALID_NAME;
 5850              		.loc 1 3681 4 is_stmt 1 view .LVU2203
3681:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_INVALID_NAME;
 5851              		.loc 1 3681 7 is_stmt 0 view .LVU2204
 5852 003e 9DF93700 		ldrsb	r0, [sp, #55]
 5853              	.LVL580:
3681:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_INVALID_NAME;
 5854              		.loc 1 3681 7 view .LVU2205
 5855 0042 0028     		cmp	r0, #0
 5856 0044 79DB     		blt	.L595
 5857              	.LVL581:
3691:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5858              		.loc 1 3691 3 is_stmt 1 view .LVU2206
3691:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5859              		.loc 1 3691 6 is_stmt 0 view .LVU2207
 5860 0046 16F01C0F 		tst	r6, #28
 5861 004a 10D0     		beq	.L629
3703:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = FR_DENIED;
 5862              		.loc 1 3703 5 is_stmt 1 view .LVU2208
3703:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = FR_DENIED;
 5863              		.loc 1 3703 8 is_stmt 0 view .LVU2209
 5864 004c 9DF81220 		ldrb	r2, [sp, #18]	@ zero_extendqisi2
 5865 0050 12F0110F 		tst	r2, #17
 5866 0054 73D1     		bne	.L606
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 208


3706:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 5867              		.loc 1 3706 6 is_stmt 1 view .LVU2210
3706:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 5868              		.loc 1 3706 9 is_stmt 0 view .LVU2211
 5869 0056 7007     		lsls	r0, r6, #29
 5870 0058 40F1D480 		bpl	.L630
3706:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 5871              		.loc 1 3706 36 view .LVU2212
 5872 005c 0825     		movs	r5, #8
 5873 005e E1E7     		b	.L573
 5874              	.LVL582:
 5875              	.L574:
3691:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5876              		.loc 1 3691 3 is_stmt 1 view .LVU2213
3691:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5877              		.loc 1 3691 6 is_stmt 0 view .LVU2214
 5878 0060 16F01C0F 		tst	r6, #28
 5879 0064 01D0     		beq	.L600
3692:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
 5880              		.loc 1 3692 4 is_stmt 1 view .LVU2215
3693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
 5881              		.loc 1 3693 5 view .LVU2216
3693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
 5882              		.loc 1 3693 8 is_stmt 0 view .LVU2217
 5883 0066 0428     		cmp	r0, #4
 5884 0068 6DD0     		beq	.L631
 5885              	.L600:
3693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
 5886              		.loc 1 3693 8 view .LVU2218
 5887 006a 0546     		mov	r5, r0
 5888 006c DAE7     		b	.L573
 5889              	.LVL583:
 5890              	.L629:
3751:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = FR_NO_FILE;
 5891              		.loc 1 3751 5 is_stmt 1 view .LVU2219
3751:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = FR_NO_FILE;
 5892              		.loc 1 3751 15 is_stmt 0 view .LVU2220
 5893 006e 9DF81210 		ldrb	r1, [sp, #18]	@ zero_extendqisi2
3751:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = FR_NO_FILE;
 5894              		.loc 1 3751 8 view .LVU2221
 5895 0072 CA06     		lsls	r2, r1, #27
 5896 0074 65D4     		bmi	.L632
3754:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = FR_DENIED;
 5897              		.loc 1 3754 6 is_stmt 1 view .LVU2222
3754:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = FR_DENIED;
 5898              		.loc 1 3754 9 is_stmt 0 view .LVU2223
 5899 0076 B207     		lsls	r2, r6, #30
 5900 0078 01D5     		bpl	.L626
3754:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = FR_DENIED;
 5901              		.loc 1 3754 28 discriminator 1 view .LVU2224
 5902 007a CB07     		lsls	r3, r1, #31
 5903 007c 5FD4     		bmi	.L606
 5904              	.L626:
 5905 007e DDF808A0 		ldr	r10, [sp, #8]
 5906              	.LVL584:
 5907              	.L625:
3754:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = FR_DENIED;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 209


 5908              		.loc 1 3754 28 discriminator 1 view .LVU2225
 5909 0082 DAF82C10 		ldr	r1, [r10, #44]
 5910              	.L582:
 5911              	.LVL585:
3761:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 5912              		.loc 1 3761 4 is_stmt 1 view .LVU2226
3761:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 5913              		.loc 1 3761 33 view .LVU2227
3761:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 5914              		.loc 1 3761 7 is_stmt 0 view .LVU2228
 5915 0086 3E07     		lsls	r6, r7, #28
3761:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 5916              		.loc 1 3761 38 view .LVU2229
 5917 0088 48BF     		it	mi
 5918 008a 47F04007 		orrmi	r7, r7, #64
 5919              	.LVL586:
 5920              	.L578:
3762:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->dir_ptr = dj.dir;
 5921              		.loc 1 3762 4 is_stmt 1 view .LVU2230
3763:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
 5922              		.loc 1 3763 20 is_stmt 0 view .LVU2231
 5923 008e 0A9B     		ldr	r3, [sp, #40]
3763:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
 5924              		.loc 1 3763 16 view .LVU2232
 5925 0090 C4E90813 		strd	r1, r3, [r4, #32]
3781:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 5926              		.loc 1 3781 3 is_stmt 1 view .LVU2233
3791:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 5927              		.loc 1 3791 5 view .LVU2234
 5928              	.LVL587:
 5929              	.LBB676:
 5930              	.LBI676:
1817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,			/* Pointer to the fs object */
 5931              		.loc 1 1817 14 view .LVU2235
 5932              	.LBB677:
1822:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5933              		.loc 1 1822 2 view .LVU2236
1824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 5934              		.loc 1 1824 2 view .LVU2237
 5935              	.LBB678:
 5936              	.LBI678:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 5937              		.loc 1 614 13 view .LVU2238
 5938              	.LBB679:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5939              		.loc 1 616 2 view .LVU2239
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 5940              		.loc 1 618 2 view .LVU2240
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 5941              		.loc 1 619 2 view .LVU2241
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 5942              		.loc 1 620 2 view .LVU2242
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 5943              		.loc 1 620 2 is_stmt 0 view .LVU2243
 5944              	.LBE679:
 5945              	.LBE678:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 210


 5946              		.loc 1 1825 5 view .LVU2244
 5947 0094 9AF80020 		ldrb	r2, [r10]	@ zero_extendqisi2
 5948              	.LBB681:
 5949              	.LBB680:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 5950              		.loc 1 619 10 view .LVU2245
 5951 0098 93F81BE0 		ldrb	lr, [r3, #27]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 5952              		.loc 1 619 20 view .LVU2246
 5953 009c 987E     		ldrb	r0, [r3, #26]	@ zero_extendqisi2
 5954              	.LBE680:
 5955              	.LBE681:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 5956              		.loc 1 1825 5 view .LVU2247
 5957 009e 032A     		cmp	r2, #3
1824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 5958              		.loc 1 1824 5 view .LVU2248
 5959 00a0 40EA0E26 		orr	r6, r0, lr, lsl #8
 5960              	.LVL588:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 5961              		.loc 1 1825 2 is_stmt 1 view .LVU2249
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 5962              		.loc 1 1825 5 is_stmt 0 view .LVU2250
 5963 00a4 06D1     		bne	.L584
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 5964              		.loc 1 1826 3 is_stmt 1 view .LVU2251
 5965              	.LVL589:
 5966              	.LBB682:
 5967              	.LBI682:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 5968              		.loc 1 614 13 view .LVU2252
 5969              	.LBB683:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5970              		.loc 1 616 2 view .LVU2253
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 5971              		.loc 1 618 2 view .LVU2254
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 5972              		.loc 1 619 2 view .LVU2255
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 5973              		.loc 1 620 2 view .LVU2256
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 5974              		.loc 1 619 10 is_stmt 0 view .LVU2257
 5975 00a6 93F81590 		ldrb	r9, [r3, #21]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 5976              		.loc 1 619 20 view .LVU2258
 5977 00aa 197D     		ldrb	r1, [r3, #20]	@ zero_extendqisi2
 5978              	.LBE683:
 5979              	.LBE682:
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 5980              		.loc 1 1826 9 view .LVU2259
 5981 00ac 41EA0920 		orr	r0, r1, r9, lsl #8
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 5982              		.loc 1 1826 6 view .LVU2260
 5983 00b0 46EA0046 		orr	r6, r6, r0, lsl #16
 5984              	.LVL590:
 5985              	.L584:
1829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 211


 5986              		.loc 1 1829 2 is_stmt 1 view .LVU2261
1829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 5987              		.loc 1 1829 2 is_stmt 0 view .LVU2262
 5988              	.LBE677:
 5989              	.LBE676:
3791:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 5990              		.loc 1 3791 20 view .LVU2263
 5991 00b4 A660     		str	r6, [r4, #8]
3792:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 5992              		.loc 1 3792 5 is_stmt 1 view .LVU2264
 5993              	.LVL591:
 5994              	.LBB684:
 5995              	.LBI684:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 5996              		.loc 1 623 14 view .LVU2265
 5997              	.LBB685:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 5998              		.loc 1 625 2 view .LVU2266
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 5999              		.loc 1 627 2 view .LVU2267
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 6000              		.loc 1 628 2 view .LVU2268
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 6001              		.loc 1 629 2 view .LVU2269
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 6002              		.loc 1 628 5 is_stmt 0 view .LVU2270
 6003 00b6 D98B     		ldrh	r1, [r3, #30]	@ unaligned
 6004              	.LVL592:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 6005              		.loc 1 630 2 is_stmt 1 view .LVU2271
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 6006              		.loc 1 629 20 is_stmt 0 view .LVU2272
 6007 00b8 93F81DC0 		ldrb	ip, [r3, #29]	@ zero_extendqisi2
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 6008              		.loc 1 630 20 view .LVU2273
 6009 00bc 1A7F     		ldrb	r2, [r3, #28]	@ zero_extendqisi2
 6010              	.LBE685:
 6011              	.LBE684:
3798:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->flag = mode;	/* Set file access mode */
 6012              		.loc 1 3798 15 view .LVU2274
 6013 00be BAF806E0 		ldrh	lr, [r10, #6]
 6014 00c2 A4F804E0 		strh	lr, [r4, #4]	@ movhi
 6015              	.LVL593:
 6016              	.LBB687:
 6017              	.LBB686:
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 6018              		.loc 1 629 5 view .LVU2275
 6019 00c6 4CEA0128 		orr	r8, ip, r1, lsl #8
 6020              	.LVL594:
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 6021              		.loc 1 630 5 view .LVU2276
 6022 00ca 42EA0828 		orr	r8, r2, r8, lsl #8
 6023              	.LVL595:
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6024              		.loc 1 631 2 is_stmt 1 view .LVU2277
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6025              		.loc 1 631 2 is_stmt 0 view .LVU2278
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 212


 6026              	.LBE686:
 6027              	.LBE687:
3800:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->sect = 0;		/* Invalidate current data sector */
 6028              		.loc 1 3800 12 view .LVU2279
 6029 00ce 0021     		movs	r1, #0
3805:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 6030              		.loc 1 3805 13 view .LVU2280
 6031 00d0 04F12809 		add	r9, r4, #40
3797:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->obj.id = fs->id;
 6032              		.loc 1 3797 15 view .LVU2281
 6033 00d4 C4F800A0 		str	r10, [r4]
3792:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 6034              		.loc 1 3792 21 view .LVU2282
 6035 00d8 C4F80C80 		str	r8, [r4, #12]
3797:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->obj.id = fs->id;
 6036              		.loc 1 3797 4 is_stmt 1 view .LVU2283
3798:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->flag = mode;	/* Set file access mode */
 6037              		.loc 1 3798 4 view .LVU2284
3799:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->err = 0;		/* Clear error flag */
 6038              		.loc 1 3799 4 view .LVU2285
3799:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->err = 0;		/* Clear error flag */
 6039              		.loc 1 3799 13 is_stmt 0 view .LVU2286
 6040 00dc 2774     		strb	r7, [r4, #16]
3800:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->sect = 0;		/* Invalidate current data sector */
 6041              		.loc 1 3800 4 is_stmt 1 view .LVU2287
3800:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->sect = 0;		/* Invalidate current data sector */
 6042              		.loc 1 3800 12 is_stmt 0 view .LVU2288
 6043 00de 6174     		strb	r1, [r4, #17]
3801:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->fptr = 0;		/* Set file pointer top of the file */
 6044              		.loc 1 3801 4 is_stmt 1 view .LVU2289
3801:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->fptr = 0;		/* Set file pointer top of the file */
 6045              		.loc 1 3801 13 is_stmt 0 view .LVU2290
 6046 00e0 E161     		str	r1, [r4, #28]
3802:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 6047              		.loc 1 3802 4 is_stmt 1 view .LVU2291
3802:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 6048              		.loc 1 3802 13 is_stmt 0 view .LVU2292
 6049 00e2 6161     		str	r1, [r4, #20]
3805:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 6050              		.loc 1 3805 4 is_stmt 1 view .LVU2293
 6051 00e4 4846     		mov	r0, r9
 6052 00e6 4FF40072 		mov	r2, #512
 6053 00ea FFF7FEFF 		bl	memset
 6054              	.LVL596:
3807:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 6055              		.loc 1 3807 4 view .LVU2294
3807:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 6056              		.loc 1 3807 7 is_stmt 0 view .LVU2295
 6057 00ee B806     		lsls	r0, r7, #26
 6058 00f0 9AD5     		bpl	.L608
3807:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 6059              		.loc 1 3807 28 discriminator 1 view .LVU2296
 6060 00f2 B8F1000F 		cmp	r8, #0
 6061 00f6 97D0     		beq	.L608
3808:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
 6062              		.loc 1 3808 5 is_stmt 1 view .LVU2297
3809:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 213


 6063              		.loc 1 3809 11 is_stmt 0 view .LVU2298
 6064 00f8 BAF80A30 		ldrh	r3, [r10, #10]
3808:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
 6065              		.loc 1 3808 14 view .LVU2299
 6066 00fc C4F81480 		str	r8, [r4, #20]
3809:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 6067              		.loc 1 3809 5 is_stmt 1 view .LVU2300
3811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6068              		.loc 1 3811 46 is_stmt 0 view .LVU2301
 6069 0100 B8EB432F 		cmp	r8, r3, lsl #9
3809:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 6070              		.loc 1 3809 9 view .LVU2302
 6071 0104 4FEA4327 		lsl	r7, r3, #9
 6072              	.LVL597:
3810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
 6073              		.loc 1 3810 5 is_stmt 1 view .LVU2303
3811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6074              		.loc 1 3811 5 view .LVU2304
3811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6075              		.loc 1 3811 33 view .LVU2305
3811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6076              		.loc 1 3811 46 is_stmt 0 view .LVU2306
 6077 0108 08D8     		bhi	.L589
 6078 010a 82E0     		b	.L587
 6079              	.LVL598:
 6080              	.L633:
3811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6081              		.loc 1 3811 60 is_stmt 1 view .LVU2307
3814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 6082              		.loc 1 3814 9 is_stmt 0 view .LVU2308
 6083 010c 411C     		adds	r1, r0, #1
3811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6084              		.loc 1 3811 64 view .LVU2309
 6085 010e A8EB0708 		sub	r8, r8, r7
 6086              	.LVL599:
3811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6087              		.loc 1 3811 33 is_stmt 1 view .LVU2310
3814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 6088              		.loc 1 3814 9 is_stmt 0 view .LVU2311
 6089 0112 75D0     		beq	.L603
3811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6090              		.loc 1 3811 46 view .LVU2312
 6091 0114 4745     		cmp	r7, r8
 6092 0116 7CD2     		bcs	.L587
 6093 0118 D4F800A0 		ldr	r10, [r4]
 6094              	.LVL600:
 6095              	.L589:
3812:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 6096              		.loc 1 3812 6 is_stmt 1 view .LVU2313
3812:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 6097              		.loc 1 3812 13 is_stmt 0 view .LVU2314
 6098 011c 3146     		mov	r1, r6
 6099 011e 5046     		mov	r0, r10
 6100 0120 FFF7FEFF 		bl	get_fat.isra.0
 6101              	.LVL601:
3814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 6102              		.loc 1 3814 6 is_stmt 1 view .LVU2315
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 214


3813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 6103              		.loc 1 3813 9 is_stmt 0 view .LVU2316
 6104 0124 0128     		cmp	r0, #1
3812:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 6105              		.loc 1 3812 13 view .LVU2317
 6106 0126 0646     		mov	r6, r0
 6107              	.LVL602:
3813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 6108              		.loc 1 3813 6 is_stmt 1 view .LVU2318
3813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 6109              		.loc 1 3813 9 is_stmt 0 view .LVU2319
 6110 0128 F0D8     		bhi	.L633
3813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 6111              		.loc 1 3813 25 view .LVU2320
 6112 012a 0225     		movs	r5, #2
 6113              	.L588:
 6114              	.LVL603:
3816:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 6115              		.loc 1 3816 5 is_stmt 1 view .LVU2321
3816:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 6116              		.loc 1 3816 15 is_stmt 0 view .LVU2322
 6117 012c A661     		str	r6, [r4, #24]
3817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					sc = clst2sect(fs, clst);
 6118              		.loc 1 3817 5 is_stmt 1 view .LVU2323
 6119 012e 79E7     		b	.L573
 6120              	.LVL604:
 6121              	.L594:
3670:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 6122              		.loc 1 3670 18 is_stmt 0 view .LVU2324
 6123 0130 0925     		movs	r5, #9
 6124              		.loc 1 3841 1 view .LVU2325
 6125 0132 2846     		mov	r0, r5
 6126              	.LVL605:
 6127              		.loc 1 3841 1 view .LVU2326
 6128 0134 0EB0     		add	sp, sp, #56
 6129              		.cfi_remember_state
 6130              		.cfi_def_cfa_offset 32
 6131              		@ sp needed
 6132 0136 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 6133              	.LVL606:
 6134              	.L595:
 6135              		.cfi_restore_state
3682:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 6136              		.loc 1 3682 9 view .LVU2327
 6137 013a 0625     		movs	r5, #6
 6138 013c 72E7     		b	.L573
 6139              	.LVL607:
 6140              	.L606:
3755:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 6141              		.loc 1 3755 11 view .LVU2328
 6142 013e 0725     		movs	r5, #7
 6143 0140 70E7     		b	.L573
 6144              	.L632:
3752:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} else {
 6145              		.loc 1 3752 10 view .LVU2329
 6146 0142 0425     		movs	r5, #4
 6147 0144 6EE7     		b	.L573
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 215


 6148              	.LVL608:
 6149              	.L631:
3697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 6150              		.loc 1 3697 6 is_stmt 1 view .LVU2330
3697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 6151              		.loc 1 3697 12 is_stmt 0 view .LVU2331
 6152 0146 03A8     		add	r0, sp, #12
 6153              	.LVL609:
3697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 6154              		.loc 1 3697 12 view .LVU2332
 6155 0148 FFF7FEFF 		bl	dir_register
 6156              	.LVL610:
3700:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 6157              		.loc 1 3700 5 is_stmt 1 view .LVU2333
3700:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 6158              		.loc 1 3700 10 is_stmt 0 view .LVU2334
 6159 014c 47F00807 		orr	r7, r7, #8
 6160              	.LVL611:
3709:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 6161              		.loc 1 3709 4 is_stmt 1 view .LVU2335
3709:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 6162              		.loc 1 3709 7 is_stmt 0 view .LVU2336
 6163 0150 0028     		cmp	r0, #0
 6164 0152 8AD1     		bne	.L600
 6165              	.LVL612:
 6166              	.L577:
3730:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_dword(dj.dir + DIR_CrtTime, tm);
 6167              		.loc 1 3730 6 is_stmt 1 view .LVU2337
3731:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_dword(dj.dir + DIR_ModTime, tm);
 6168              		.loc 1 3731 6 view .LVU2338
3731:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_dword(dj.dir + DIR_ModTime, tm);
 6169              		.loc 1 3731 17 is_stmt 0 view .LVU2339
 6170 0154 0A9E     		ldr	r6, [sp, #40]
 6171              	.LVL613:
 6172              	.LBB688:
 6173              	.LBI688:
 658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 6174              		.loc 1 658 13 is_stmt 1 view .LVU2340
 6175              	.LBB689:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6176              		.loc 1 660 2 view .LVU2341
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6177              		.loc 1 660 2 is_stmt 0 view .LVU2342
 6178              	.LBE689:
 6179              	.LBE688:
3733:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
 6180              		.loc 1 3733 11 view .LVU2343
 6181 0156 DDF808A0 		ldr	r10, [sp, #8]
 6182              	.LBB691:
 6183              	.LBB690:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6184              		.loc 1 660 9 view .LVU2344
 6185 015a 0022     		movs	r2, #0
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 6186              		.loc 1 662 9 view .LVU2345
 6187 015c 2120     		movs	r0, #33
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 216


 6188              		.loc 1 663 9 view .LVU2346
 6189 015e 5021     		movs	r1, #80
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6190              		.loc 1 660 9 view .LVU2347
 6191 0160 B273     		strb	r2, [r6, #14]
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6192              		.loc 1 660 22 is_stmt 1 view .LVU2348
 6193              	.LVL614:
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6194              		.loc 1 661 2 view .LVU2349
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6195              		.loc 1 661 9 is_stmt 0 view .LVU2350
 6196 0162 F273     		strb	r2, [r6, #15]
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6197              		.loc 1 661 22 is_stmt 1 view .LVU2351
 6198              	.LVL615:
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 6199              		.loc 1 662 2 view .LVU2352
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 6200              		.loc 1 662 9 is_stmt 0 view .LVU2353
 6201 0164 3074     		strb	r0, [r6, #16]
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 6202              		.loc 1 662 22 is_stmt 1 view .LVU2354
 6203              	.LVL616:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6204              		.loc 1 663 2 view .LVU2355
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6205              		.loc 1 663 9 is_stmt 0 view .LVU2356
 6206 0166 7174     		strb	r1, [r6, #17]
 6207              	.LVL617:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6208              		.loc 1 663 9 view .LVU2357
 6209              	.LBE690:
 6210              	.LBE691:
3732:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get current cluster chain */
 6211              		.loc 1 3732 6 is_stmt 1 view .LVU2358
3732:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get current cluster chain */
 6212              		.loc 1 3732 17 is_stmt 0 view .LVU2359
 6213 0168 0A9B     		ldr	r3, [sp, #40]
 6214              	.LVL618:
 6215              	.LBB692:
 6216              	.LBI692:
 658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 6217              		.loc 1 658 13 is_stmt 1 view .LVU2360
 6218              	.LBB693:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6219              		.loc 1 660 2 view .LVU2361
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6220              		.loc 1 660 9 is_stmt 0 view .LVU2362
 6221 016a 9A75     		strb	r2, [r3, #22]
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6222              		.loc 1 660 22 is_stmt 1 view .LVU2363
 6223              	.LVL619:
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6224              		.loc 1 661 2 view .LVU2364
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6225              		.loc 1 661 9 is_stmt 0 view .LVU2365
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 217


 6226 016c DA75     		strb	r2, [r3, #23]
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6227              		.loc 1 661 22 is_stmt 1 view .LVU2366
 6228              	.LVL620:
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 6229              		.loc 1 662 2 view .LVU2367
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 6230              		.loc 1 662 9 is_stmt 0 view .LVU2368
 6231 016e 1876     		strb	r0, [r3, #24]
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 6232              		.loc 1 662 22 is_stmt 1 view .LVU2369
 6233              	.LVL621:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6234              		.loc 1 663 2 view .LVU2370
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6235              		.loc 1 663 9 is_stmt 0 view .LVU2371
 6236 0170 5976     		strb	r1, [r3, #25]
 6237              	.LVL622:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6238              		.loc 1 663 9 view .LVU2372
 6239              	.LBE693:
 6240              	.LBE692:
3733:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
 6241              		.loc 1 3733 6 is_stmt 1 view .LVU2373
3733:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
 6242              		.loc 1 3733 26 is_stmt 0 view .LVU2374
 6243 0172 0A98     		ldr	r0, [sp, #40]
 6244              	.LVL623:
 6245              	.LBB694:
 6246              	.LBI694:
1817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,			/* Pointer to the fs object */
 6247              		.loc 1 1817 14 is_stmt 1 view .LVU2375
 6248              	.LBB695:
1822:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 6249              		.loc 1 1822 2 view .LVU2376
1824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 6250              		.loc 1 1824 2 view .LVU2377
 6251              	.LBB696:
 6252              	.LBI696:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 6253              		.loc 1 614 13 view .LVU2378
 6254              	.LBB697:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 6255              		.loc 1 616 2 view .LVU2379
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 6256              		.loc 1 618 2 view .LVU2380
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 6257              		.loc 1 619 2 view .LVU2381
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6258              		.loc 1 620 2 view .LVU2382
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6259              		.loc 1 620 2 is_stmt 0 view .LVU2383
 6260              	.LBE697:
 6261              	.LBE696:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 6262              		.loc 1 1825 5 view .LVU2384
 6263 0174 9AF80020 		ldrb	r2, [r10]	@ zero_extendqisi2
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 218


 6264              	.LBB699:
 6265              	.LBB698:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 6266              		.loc 1 619 10 view .LVU2385
 6267 0178 90F81B80 		ldrb	r8, [r0, #27]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 6268              		.loc 1 619 20 view .LVU2386
 6269 017c 90F81A90 		ldrb	r9, [r0, #26]	@ zero_extendqisi2
 6270              	.LBE698:
 6271              	.LBE699:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 6272              		.loc 1 1825 5 view .LVU2387
 6273 0180 032A     		cmp	r2, #3
1824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 6274              		.loc 1 1824 5 view .LVU2388
 6275 0182 49EA0826 		orr	r6, r9, r8, lsl #8
 6276              	.LVL624:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 6277              		.loc 1 1825 2 is_stmt 1 view .LVU2389
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 6278              		.loc 1 1825 5 is_stmt 0 view .LVU2390
 6279 0186 06D1     		bne	.L579
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 6280              		.loc 1 1826 3 is_stmt 1 view .LVU2391
 6281              	.LVL625:
 6282              	.LBB700:
 6283              	.LBI700:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 6284              		.loc 1 614 13 view .LVU2392
 6285              	.LBB701:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 6286              		.loc 1 616 2 view .LVU2393
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 6287              		.loc 1 618 2 view .LVU2394
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 6288              		.loc 1 619 2 view .LVU2395
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6289              		.loc 1 620 2 view .LVU2396
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 6290              		.loc 1 619 10 is_stmt 0 view .LVU2397
 6291 0188 90F815C0 		ldrb	ip, [r0, #21]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 6292              		.loc 1 619 20 view .LVU2398
 6293 018c 017D     		ldrb	r1, [r0, #20]	@ zero_extendqisi2
 6294              	.LBE701:
 6295              	.LBE700:
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 6296              		.loc 1 1826 9 view .LVU2399
 6297 018e 41EA0C23 		orr	r3, r1, ip, lsl #8
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 6298              		.loc 1 1826 6 view .LVU2400
 6299 0192 46EA0346 		orr	r6, r6, r3, lsl #16
 6300              	.LVL626:
 6301              	.L579:
1829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6302              		.loc 1 1829 2 is_stmt 1 view .LVU2401
1829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 219


 6303              		.loc 1 1829 2 is_stmt 0 view .LVU2402
 6304              	.LBE695:
 6305              	.LBE694:
3734:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 6306              		.loc 1 3734 6 is_stmt 1 view .LVU2403
3734:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 6307              		.loc 1 3734 23 is_stmt 0 view .LVU2404
 6308 0196 2022     		movs	r2, #32
 6309 0198 C272     		strb	r2, [r0, #11]
3735:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
 6310              		.loc 1 3735 6 is_stmt 1 view .LVU2405
 6311 019a 0A98     		ldr	r0, [sp, #40]
 6312              	.LVL627:
 6313              	.LBB702:
 6314              	.LBI702:
1834:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
 6315              		.loc 1 1834 13 view .LVU2406
 6316              	.LBB703:
1840:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 6317              		.loc 1 1840 2 view .LVU2407
 6318              	.LBB704:
 6319              	.LBI704:
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 6320              		.loc 1 652 13 view .LVU2408
 6321              	.LBB705:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 6322              		.loc 1 654 2 view .LVU2409
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 6323              		.loc 1 654 9 is_stmt 0 view .LVU2410
 6324 019c 0023     		movs	r3, #0
 6325 019e 8376     		strb	r3, [r0, #26]
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 6326              		.loc 1 654 22 is_stmt 1 view .LVU2411
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6327              		.loc 1 655 2 view .LVU2412
 6328              	.LVL628:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6329              		.loc 1 655 9 is_stmt 0 view .LVU2413
 6330 01a0 C376     		strb	r3, [r0, #27]
 6331              	.LVL629:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6332              		.loc 1 655 9 view .LVU2414
 6333              	.LBE705:
 6334              	.LBE704:
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 6335              		.loc 1 1841 2 is_stmt 1 view .LVU2415
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 6336              		.loc 1 1841 5 is_stmt 0 view .LVU2416
 6337 01a2 9AF80010 		ldrb	r1, [r10]	@ zero_extendqisi2
 6338 01a6 0329     		cmp	r1, #3
 6339 01a8 01D1     		bne	.L580
1842:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 6340              		.loc 1 1842 3 is_stmt 1 view .LVU2417
 6341              	.LVL630:
 6342              	.LBB706:
 6343              	.LBI706:
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 220


 6344              		.loc 1 652 13 view .LVU2418
 6345              	.LBB707:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 6346              		.loc 1 654 2 view .LVU2419
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 6347              		.loc 1 654 9 is_stmt 0 view .LVU2420
 6348 01aa 0375     		strb	r3, [r0, #20]
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 6349              		.loc 1 654 22 is_stmt 1 view .LVU2421
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6350              		.loc 1 655 2 view .LVU2422
 6351              	.LVL631:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6352              		.loc 1 655 9 is_stmt 0 view .LVU2423
 6353 01ac 4375     		strb	r3, [r0, #21]
 6354              	.LVL632:
 6355              	.L580:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6356              		.loc 1 655 9 view .LVU2424
 6357              	.LBE707:
 6358              	.LBE706:
 6359              	.LBE703:
 6360              	.LBE702:
3736:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->wflag = 1;
 6361              		.loc 1 3736 6 is_stmt 1 view .LVU2425
3736:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->wflag = 1;
 6362              		.loc 1 3736 17 is_stmt 0 view .LVU2426
 6363 01ae 0A98     		ldr	r0, [sp, #40]
 6364              	.LVL633:
 6365              	.LBB708:
 6366              	.LBI708:
 658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 6367              		.loc 1 658 13 is_stmt 1 view .LVU2427
 6368              	.LBB709:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6369              		.loc 1 660 2 view .LVU2428
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6370              		.loc 1 660 9 is_stmt 0 view .LVU2429
 6371 01b0 0022     		movs	r2, #0
 6372              	.LBE709:
 6373              	.LBE708:
3737:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (cl != 0) {						/* Remove the cluster chain if exist */
 6374              		.loc 1 3737 16 view .LVU2430
 6375 01b2 0123     		movs	r3, #1
 6376              	.LBB711:
 6377              	.LBB710:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6378              		.loc 1 660 9 view .LVU2431
 6379 01b4 0277     		strb	r2, [r0, #28]
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6380              		.loc 1 660 22 is_stmt 1 view .LVU2432
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6381              		.loc 1 661 2 view .LVU2433
 6382              	.LVL634:
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6383              		.loc 1 661 9 is_stmt 0 view .LVU2434
 6384 01b6 4277     		strb	r2, [r0, #29]
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 221


 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 6385              		.loc 1 661 22 is_stmt 1 view .LVU2435
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 6386              		.loc 1 662 2 view .LVU2436
 6387              	.LVL635:
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 6388              		.loc 1 662 9 is_stmt 0 view .LVU2437
 6389 01b8 8277     		strb	r2, [r0, #30]
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 6390              		.loc 1 662 22 is_stmt 1 view .LVU2438
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6391              		.loc 1 663 2 view .LVU2439
 6392              	.LVL636:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6393              		.loc 1 663 9 is_stmt 0 view .LVU2440
 6394 01ba C277     		strb	r2, [r0, #31]
 6395              	.LVL637:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6396              		.loc 1 663 9 view .LVU2441
 6397              	.LBE710:
 6398              	.LBE711:
3737:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (cl != 0) {						/* Remove the cluster chain if exist */
 6399              		.loc 1 3737 6 is_stmt 1 view .LVU2442
3737:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (cl != 0) {						/* Remove the cluster chain if exist */
 6400              		.loc 1 3737 16 is_stmt 0 view .LVU2443
 6401 01bc 8AF80330 		strb	r3, [r10, #3]
3738:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						sc = fs->winsect;
 6402              		.loc 1 3738 6 is_stmt 1 view .LVU2444
3738:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						sc = fs->winsect;
 6403              		.loc 1 3738 9 is_stmt 0 view .LVU2445
 6404 01c0 002E     		cmp	r6, #0
 6405 01c2 3FF45EAF 		beq	.L625
3739:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 6406              		.loc 1 3739 7 is_stmt 1 view .LVU2446
3740:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (res == FR_OK) {
 6407              		.loc 1 3740 13 is_stmt 0 view .LVU2447
 6408 01c6 03A8     		add	r0, sp, #12
 6409 01c8 3146     		mov	r1, r6
3739:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 6410              		.loc 1 3739 10 view .LVU2448
 6411 01ca DAF82C80 		ldr	r8, [r10, #44]
 6412              	.LVL638:
3740:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (res == FR_OK) {
 6413              		.loc 1 3740 7 is_stmt 1 view .LVU2449
3740:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (res == FR_OK) {
 6414              		.loc 1 3740 13 is_stmt 0 view .LVU2450
 6415 01ce FFF7FEFF 		bl	remove_chain
 6416              	.LVL639:
3741:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							res = move_window(fs, sc);
 6417              		.loc 1 3741 7 is_stmt 1 view .LVU2451
3741:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							res = move_window(fs, sc);
 6418              		.loc 1 3741 10 is_stmt 0 view .LVU2452
 6419 01d2 0028     		cmp	r0, #0
 6420 01d4 7FF449AF 		bne	.L600
3742:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 6421              		.loc 1 3742 8 is_stmt 1 view .LVU2453
3742:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 222


 6422              		.loc 1 3742 14 is_stmt 0 view .LVU2454
 6423 01d8 DDF808A0 		ldr	r10, [sp, #8]
 6424              	.LVL640:
 6425              	.LBB712:
 6426              	.LBI712:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 6427              		.loc 1 1047 16 is_stmt 1 view .LVU2455
 6428              	.LBB713:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 6429              		.loc 1 1052 2 view .LVU2456
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 6430              		.loc 1 1055 2 view .LVU2457
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 6431              		.loc 1 1055 16 is_stmt 0 view .LVU2458
 6432 01dc DAF82C10 		ldr	r1, [r10, #44]
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 6433              		.loc 1 1055 5 view .LVU2459
 6434 01e0 8845     		cmp	r8, r1
 6435 01e2 38D0     		beq	.L634
 6436 01e4 5046     		mov	r0, r10
 6437              	.LVL641:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 6438              		.loc 1 1055 5 view .LVU2460
 6439 01e6 4146     		mov	r1, r8
 6440 01e8 FFF7FEFF 		bl	move_window.part.0
 6441              	.LVL642:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6442              		.loc 1 1067 2 is_stmt 1 view .LVU2461
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6443              		.loc 1 1067 2 is_stmt 0 view .LVU2462
 6444              	.LBE713:
 6445              	.LBE712:
3743:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 6446              		.loc 1 3743 8 is_stmt 1 view .LVU2463
3743:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 6447              		.loc 1 3743 10 is_stmt 0 view .LVU2464
 6448 01ec DDF808A0 		ldr	r10, [sp, #8]
3743:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 6449              		.loc 1 3743 27 view .LVU2465
 6450 01f0 721E     		subs	r2, r6, #1
3743:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 6451              		.loc 1 3743 22 view .LVU2466
 6452 01f2 CAF80C20 		str	r2, [r10, #12]
3760:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (mode & FA_CREATE_ALWAYS) mode |= FA_MODIFIED;	/* Set file change flag if created or overwrit
 6453              		.loc 1 3760 3 is_stmt 1 view .LVU2467
3760:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (mode & FA_CREATE_ALWAYS) mode |= FA_MODIFIED;	/* Set file change flag if created or overwrit
 6454              		.loc 1 3760 6 is_stmt 0 view .LVU2468
 6455 01f6 0028     		cmp	r0, #0
 6456 01f8 3FF443AF 		beq	.L625
3760:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (mode & FA_CREATE_ALWAYS) mode |= FA_MODIFIED;	/* Set file change flag if created or overwrit
 6457              		.loc 1 3760 6 view .LVU2469
 6458 01fc 0546     		mov	r5, r0
 6459 01fe 11E7     		b	.L573
 6460              	.LVL643:
 6461              	.L603:
3814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 6462              		.loc 1 3814 34 view .LVU2470
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 223


 6463 0200 0125     		movs	r5, #1
 6464 0202 93E7     		b	.L588
 6465              	.LVL644:
 6466              	.L630:
3709:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 6467              		.loc 1 3709 4 is_stmt 1 view .LVU2471
3709:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 6468              		.loc 1 3709 21 is_stmt 0 view .LVU2472
 6469 0204 3107     		lsls	r1, r6, #28
 6470 0206 A5D4     		bmi	.L577
 6471 0208 DDF808A0 		ldr	r10, [sp, #8]
 6472 020c DAF82C10 		ldr	r1, [r10, #44]
 6473 0210 3DE7     		b	.L578
 6474              	.LVL645:
 6475              	.L587:
3816:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 6476              		.loc 1 3816 5 is_stmt 1 view .LVU2473
3817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					sc = clst2sect(fs, clst);
 6477              		.loc 1 3817 29 is_stmt 0 view .LVU2474
 6478 0212 C8F30800 		ubfx	r0, r8, #0, #9
3816:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 6479              		.loc 1 3816 15 view .LVU2475
 6480 0216 A661     		str	r6, [r4, #24]
3817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					sc = clst2sect(fs, clst);
 6481              		.loc 1 3817 5 is_stmt 1 view .LVU2476
3817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					sc = clst2sect(fs, clst);
 6482              		.loc 1 3817 22 is_stmt 0 view .LVU2477
 6483 0218 0028     		cmp	r0, #0
 6484 021a 3FF405AF 		beq	.L608
3818:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (sc == 0) {
 6485              		.loc 1 3818 6 is_stmt 1 view .LVU2478
3818:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (sc == 0) {
 6486              		.loc 1 3818 11 is_stmt 0 view .LVU2479
 6487 021e 0299     		ldr	r1, [sp, #8]
 6488              	.LVL646:
 6489              	.LBB715:
 6490              	.LBI715:
1114:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 6491              		.loc 1 1114 14 is_stmt 1 view .LVU2480
 6492              	.LBB716:
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 6493              		.loc 1 1119 2 view .LVU2481
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 6494              		.loc 1 1120 27 is_stmt 0 view .LVU2482
 6495 0220 4A69     		ldr	r2, [r1, #20]
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 6496              		.loc 1 1119 7 view .LVU2483
 6497 0222 B71E     		subs	r7, r6, #2
 6498              	.LVL647:
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 6499              		.loc 1 1120 2 is_stmt 1 view .LVU2484
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 6500              		.loc 1 1120 27 is_stmt 0 view .LVU2485
 6501 0224 A2F1020A 		sub	r10, r2, #2
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 6502              		.loc 1 1120 5 view .LVU2486
 6503 0228 5745     		cmp	r7, r10
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 224


 6504 022a 05D2     		bcs	.L605
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6505              		.loc 1 1121 2 is_stmt 1 view .LVU2487
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6506              		.loc 1 1121 24 is_stmt 0 view .LVU2488
 6507 022c B1F80AC0 		ldrh	ip, [r1, #10]
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6508              		.loc 1 1121 22 view .LVU2489
 6509 0230 8B6A     		ldr	r3, [r1, #40]
 6510 0232 07FB0C36 		mla	r6, r7, ip, r3
 6511              	.LVL648:
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6512              		.loc 1 1121 22 view .LVU2490
 6513              	.LBE716:
 6514              	.LBE715:
3819:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = FR_INT_ERR;
 6515              		.loc 1 3819 6 is_stmt 1 view .LVU2491
3819:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = FR_INT_ERR;
 6516              		.loc 1 3819 9 is_stmt 0 view .LVU2492
 6517 0236 0EB9     		cbnz	r6, .L635
 6518              	.LVL649:
 6519              	.L605:
3819:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = FR_INT_ERR;
 6520              		.loc 1 3819 9 view .LVU2493
 6521 0238 0225     		movs	r5, #2
 6522 023a F3E6     		b	.L573
 6523              	.LVL650:
 6524              	.L635:
3822:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_TINY
 6525              		.loc 1 3822 7 is_stmt 1 view .LVU2494
3822:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_TINY
 6526              		.loc 1 3822 21 is_stmt 0 view .LVU2495
 6527 023c 06EB5822 		add	r2, r6, r8, lsr #9
3822:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_TINY
 6528              		.loc 1 3822 16 view .LVU2496
 6529 0240 E261     		str	r2, [r4, #28]
3824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 6530              		.loc 1 3824 7 is_stmt 1 view .LVU2497
3824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 6531              		.loc 1 3824 11 is_stmt 0 view .LVU2498
 6532 0242 4878     		ldrb	r0, [r1, #1]	@ zero_extendqisi2
 6533 0244 0123     		movs	r3, #1
 6534 0246 4946     		mov	r1, r9
 6535 0248 FFF7FEFF 		bl	disk_read
 6536              	.LVL651:
3824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 6537              		.loc 1 3824 10 view .LVU2499
 6538 024c 0028     		cmp	r0, #0
 6539 024e 3FF4EBAE 		beq	.L608
3824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 6540              		.loc 1 3824 68 view .LVU2500
 6541 0252 0125     		movs	r5, #1
 6542 0254 E6E6     		b	.L573
 6543              	.LVL652:
 6544              	.L634:
 6545              	.LBB717:
 6546              	.LBB714:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 225


1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6547              		.loc 1 1067 2 is_stmt 1 view .LVU2501
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6548              		.loc 1 1067 2 is_stmt 0 view .LVU2502
 6549              	.LBE714:
 6550              	.LBE717:
3743:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 6551              		.loc 1 3743 8 is_stmt 1 view .LVU2503
3743:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 6552              		.loc 1 3743 27 is_stmt 0 view .LVU2504
 6553 0256 013E     		subs	r6, r6, #1
 6554              	.LVL653:
3743:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 6555              		.loc 1 3743 22 view .LVU2505
 6556 0258 CAF80C60 		str	r6, [r10, #12]
3760:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (mode & FA_CREATE_ALWAYS) mode |= FA_MODIFIED;	/* Set file change flag if created or overwrit
 6557              		.loc 1 3760 3 is_stmt 1 view .LVU2506
 6558 025c 13E7     		b	.L582
 6559              		.cfi_endproc
 6560              	.LFE33:
 6562 025e 00BF     		.section	.text.f_read,"ax",%progbits
 6563              		.align	1
 6564              		.p2align 2,,3
 6565              		.global	f_read
 6566              		.syntax unified
 6567              		.thumb
 6568              		.thumb_func
 6569              		.fpu fpv4-sp-d16
 6571              	f_read:
 6572              	.LVL654:
 6573              	.LFB34:
3842:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3843:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3844:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3845:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3846:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3847:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Read File                                                             */
3848:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3849:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3850:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_read (
3851:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FIL* fp, 	/* Open file to be read */
3852:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	void* buff,	/* Data buffer to store the read data */
3853:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT btr,	/* Number of bytes to read */
3854:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT* br	/* Number of bytes read */
3855:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
3856:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 6574              		.loc 1 3856 1 view -0
 6575              		.cfi_startproc
 6576              		@ args = 0, pretend = 0, frame = 16
 6577              		@ frame_needed = 0, uses_anonymous_args = 0
3857:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 6578              		.loc 1 3857 2 view .LVU2508
3858:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
 6579              		.loc 1 3858 2 view .LVU2509
3859:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD clst;
 6580              		.loc 1 3859 2 view .LVU2510
3860:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t sect;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 226


 6581              		.loc 1 3860 2 view .LVU2511
3861:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FSIZE_t remain;
 6582              		.loc 1 3861 2 view .LVU2512
3862:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT rcnt, cc, csect;
 6583              		.loc 1 3862 2 view .LVU2513
3863:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE *rbuff = (BYTE*)buff;
 6584              		.loc 1 3863 2 view .LVU2514
3856:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 6585              		.loc 1 3856 1 is_stmt 0 view .LVU2515
 6586 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 6587              		.cfi_def_cfa_offset 36
 6588              		.cfi_offset 4, -36
 6589              		.cfi_offset 5, -32
 6590              		.cfi_offset 6, -28
 6591              		.cfi_offset 7, -24
 6592              		.cfi_offset 8, -20
 6593              		.cfi_offset 9, -16
 6594              		.cfi_offset 10, -12
 6595              		.cfi_offset 11, -8
 6596              		.cfi_offset 14, -4
 6597 0004 9846     		mov	r8, r3
 6598 0006 85B0     		sub	sp, sp, #20
 6599              		.cfi_def_cfa_offset 56
3864:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3865:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3866:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*br = 0;	/* Clear read byte counter */
 6600              		.loc 1 3866 6 view .LVU2516
 6601 0008 0023     		movs	r3, #0
 6602              	.LVL655:
3856:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 6603              		.loc 1 3856 1 view .LVU2517
 6604 000a 8A46     		mov	r10, r1
 6605              		.loc 1 3866 6 view .LVU2518
 6606 000c C8F80030 		str	r3, [r8]
3867:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 6607              		.loc 1 3867 8 view .LVU2519
 6608 0010 03A9     		add	r1, sp, #12
 6609              	.LVL656:
3866:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 6610              		.loc 1 3866 2 is_stmt 1 view .LVU2520
 6611              		.loc 1 3867 2 view .LVU2521
3856:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 6612              		.loc 1 3856 1 is_stmt 0 view .LVU2522
 6613 0012 9146     		mov	r9, r2
 6614 0014 0446     		mov	r4, r0
 6615              		.loc 1 3867 8 view .LVU2523
 6616 0016 FFF7FEFF 		bl	validate
 6617              	.LVL657:
3868:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 6618              		.loc 1 3868 2 is_stmt 1 view .LVU2524
 6619              		.loc 1 3868 5 is_stmt 0 view .LVU2525
 6620 001a 0546     		mov	r5, r0
 6621 001c 0028     		cmp	r0, #0
 6622 001e 42D1     		bne	.L637
 6623              		.loc 1 3868 27 discriminator 2 view .LVU2526
 6624 0020 657C     		ldrb	r5, [r4, #17]	@ zero_extendqisi2
 6625              	.LVL658:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 227


 6626              		.loc 1 3868 19 discriminator 2 view .LVU2527
 6627 0022 002D     		cmp	r5, #0
 6628 0024 3FD1     		bne	.L637
3869:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 6629              		.loc 1 3869 2 is_stmt 1 view .LVU2528
 6630 0026 207C     		ldrb	r0, [r4, #16]	@ zero_extendqisi2
 6631              		.loc 1 3869 5 is_stmt 0 view .LVU2529
 6632 0028 10F0010B 		ands	fp, r0, #1
 6633 002c 00F08980 		beq	.L657
3870:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 6634              		.loc 1 3870 2 is_stmt 1 view .LVU2530
 6635              		.loc 1 3870 31 is_stmt 0 view .LVU2531
 6636 0030 6069     		ldr	r0, [r4, #20]
 6637              	.LVL659:
3871:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 6638              		.loc 1 3871 2 is_stmt 1 view .LVU2532
3870:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 6639              		.loc 1 3870 9 is_stmt 0 view .LVU2533
 6640 0032 E268     		ldr	r2, [r4, #12]
 6641 0034 111A     		subs	r1, r2, r0
 6642              	.LVL660:
3870:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 6643              		.loc 1 3870 9 view .LVU2534
 6644 0036 8945     		cmp	r9, r1
 6645 0038 28BF     		it	cs
 6646 003a 8946     		movcs	r9, r1
 6647              	.LVL661:
3872:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for ( ; btr > 0; btr -= rcnt, *br += rcnt, rbuff += rcnt, fp->fptr += rcnt) {	/* Repeat until btr 
 6648              		.loc 1 3873 10 is_stmt 1 view .LVU2535
 6649              		.loc 1 3873 2 is_stmt 0 view .LVU2536
 6650 003c B9F1000F 		cmp	r9, #0
 6651 0040 31D0     		beq	.L637
 6652              	.LVL662:
 6653              	.L638:
3874:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6654              		.loc 1 3874 3 is_stmt 1 view .LVU2537
 6655              		.loc 1 3874 16 is_stmt 0 view .LVU2538
 6656 0042 C0F30801 		ubfx	r1, r0, #0, #9
 6657              		.loc 1 3874 6 view .LVU2539
 6658 0046 0029     		cmp	r1, #0
 6659 0048 46D1     		bne	.L666
3875:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 6660              		.loc 1 3875 4 is_stmt 1 view .LVU2540
 6661              		.loc 1 3875 42 is_stmt 0 view .LVU2541
 6662 004a 0399     		ldr	r1, [sp, #12]
 6663 004c 4E89     		ldrh	r6, [r1, #10]
 6664              		.loc 1 3875 50 view .LVU2542
 6665 004e 771E     		subs	r7, r6, #1
 6666              	.LVL663:
3876:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 6667              		.loc 1 3876 4 is_stmt 1 view .LVU2543
 6668              		.loc 1 3876 7 is_stmt 0 view .LVU2544
 6669 0050 17EA5023 		ands	r3, r7, r0, lsr #9
 6670              	.LVL664:
 6671              		.loc 1 3876 7 view .LVU2545
 6672 0054 2BD0     		beq	.L641
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 228


 6673 0056 A069     		ldr	r0, [r4, #24]
3877:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
3878:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
3879:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} else {						/* Middle or end of the file */
3880:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_FASTSEEK
3881:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (fp->cltbl) {
3882:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
3883:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} else
3884:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3885:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					{
3886:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						clst = get_fat(&fp->obj, fp->clust);	/* Follow cluster chain on the FAT */
3887:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
3888:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
3889:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst < 2) ABORT(fs, FR_INT_ERR);
3890:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
3891:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->clust = clst;				/* Update current cluster */
3892:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3893:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sect = clst2sect(fs, fp->clust);	/* Get current sector */
 6674              		.loc 1 3893 4 is_stmt 1 view .LVU2546
 6675              	.LVL665:
 6676              	.LBB718:
 6677              	.LBI718:
1114:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 6678              		.loc 1 1114 14 view .LVU2547
 6679              	.LBB719:
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 6680              		.loc 1 1119 2 view .LVU2548
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 6681              		.loc 1 1120 27 is_stmt 0 view .LVU2549
 6682 0058 4A69     		ldr	r2, [r1, #20]
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 6683              		.loc 1 1119 7 view .LVU2550
 6684 005a A0F1020C 		sub	ip, r0, #2
 6685              	.LVL666:
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 6686              		.loc 1 1120 2 is_stmt 1 view .LVU2551
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 6687              		.loc 1 1120 27 is_stmt 0 view .LVU2552
 6688 005e 901E     		subs	r0, r2, #2
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 6689              		.loc 1 1120 5 view .LVU2553
 6690 0060 8445     		cmp	ip, r0
 6691 0062 33D2     		bcs	.L647
 6692              	.LVL667:
 6693              	.L669:
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6694              		.loc 1 1121 2 is_stmt 1 view .LVU2554
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6695              		.loc 1 1121 24 is_stmt 0 view .LVU2555
 6696 0064 4A89     		ldrh	r2, [r1, #10]
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6697              		.loc 1 1121 22 view .LVU2556
 6698 0066 8E6A     		ldr	r6, [r1, #40]
 6699 0068 02FB0C66 		mla	r6, r2, ip, r6
 6700              	.LVL668:
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6701              		.loc 1 1121 22 view .LVU2557
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 229


 6702              	.LBE719:
 6703              	.LBE718:
3894:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (sect == 0) ABORT(fs, FR_INT_ERR);
 6704              		.loc 1 3894 4 is_stmt 1 view .LVU2558
 6705              		.loc 1 3894 7 is_stmt 0 view .LVU2559
 6706 006c 76B3     		cbz	r6, .L647
 6707              		.loc 1 3894 40 is_stmt 1 discriminator 2 view .LVU2560
3895:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sect += csect;
 6708              		.loc 1 3895 4 discriminator 2 view .LVU2561
3896:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
3897:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (cc > 0) {						/* Read maximum contiguous sectors directly */
 6709              		.loc 1 3897 7 is_stmt 0 discriminator 2 view .LVU2562
 6710 006e B9F5007F 		cmp	r9, #512
3895:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sect += csect;
 6711              		.loc 1 3895 9 discriminator 2 view .LVU2563
 6712 0072 1E44     		add	r6, r6, r3
 6713              	.LVL669:
3896:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
 6714              		.loc 1 3896 4 is_stmt 1 discriminator 2 view .LVU2564
 6715              		.loc 1 3897 4 discriminator 2 view .LVU2565
 6716              		.loc 1 3897 7 is_stmt 0 discriminator 2 view .LVU2566
 6717 0074 49D2     		bcs	.L667
3898:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
3899:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					cc = fs->csize - csect;
3900:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
3901:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (disk_read(fs->pdrv, rbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
3902:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY && FF_FS_MINIMIZE <= 2		/* Replace one of the read sectors with cached data if 
3903:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_TINY
3904:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fs->wflag && fs->winsect - sect < cc) {
3905:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					memcpy(rbuff + ((fs->winsect - sect) * SS(fs)), fs->win, SS(fs));
3906:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
3907:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
3908:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if ((fp->flag & FA_DIRTY) && fp->sect - sect < cc) {
3909:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					memcpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
3910:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
3911:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3912:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3913:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				rcnt = SS(fs) * cc;				/* Number of bytes transferred */
3914:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				continue;
3915:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3916:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_TINY
3917:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fp->sect != sect) {			/* Load data sector if not in cache */
 6718              		.loc 1 3917 4 is_stmt 1 view .LVU2567
 6719              		.loc 1 3917 10 is_stmt 0 view .LVU2568
 6720 0076 E269     		ldr	r2, [r4, #28]
 6721              		.loc 1 3917 7 view .LVU2569
 6722 0078 B242     		cmp	r2, r6
 6723 007a 64D0     		beq	.L668
3918:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
3919:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
 6724              		.loc 1 3919 5 is_stmt 1 view .LVU2570
 6725              		.loc 1 3919 8 is_stmt 0 view .LVU2571
 6726 007c 94F91030 		ldrsb	r3, [r4, #16]
 6727 0080 002B     		cmp	r3, #0
3920:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (disk_write(fs->pdrv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6728              		.loc 1 3920 33 view .LVU2572
 6729 0082 04F12807 		add	r7, r4, #40
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 230


3919:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (disk_write(fs->pdrv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6730              		.loc 1 3919 8 view .LVU2573
 6731 0086 61DB     		blt	.L654
 6732              	.L655:
3921:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
3922:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
3923:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3924:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (disk_read(fs->pdrv, fp->buf, sect, 1) != RES_OK)	ABORT(fs, FR_DISK_ERR);	/* Fill sector cac
 6733              		.loc 1 3924 5 is_stmt 1 view .LVU2574
 6734              		.loc 1 3924 9 is_stmt 0 view .LVU2575
 6735 0088 4878     		ldrb	r0, [r1, #1]	@ zero_extendqisi2
 6736 008a 0123     		movs	r3, #1
 6737 008c 3246     		mov	r2, r6
 6738 008e 3946     		mov	r1, r7
 6739 0090 FFF7FEFF 		bl	disk_read
 6740              	.LVL670:
 6741              		.loc 1 3924 8 view .LVU2576
 6742 0094 20B9     		cbnz	r0, .L650
 6743              	.L653:
 6744              		.loc 1 3924 80 is_stmt 1 view .LVU2577
3925:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
3926:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3927:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->sect = sect;
 6745              		.loc 1 3927 4 view .LVU2578
 6746 0096 6369     		ldr	r3, [r4, #20]
 6747              		.loc 1 3927 13 is_stmt 0 view .LVU2579
 6748 0098 E661     		str	r6, [r4, #28]
 6749 009a C3F30801 		ubfx	r1, r3, #0, #9
 6750 009e 1DE0     		b	.L640
 6751              	.LVL671:
 6752              	.L650:
3890:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6753              		.loc 1 3890 29 is_stmt 1 discriminator 1 view .LVU2580
 6754 00a0 0126     		movs	r6, #1
 6755 00a2 5D46     		mov	r5, fp
 6756              	.LVL672:
3890:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6757              		.loc 1 3890 29 is_stmt 0 discriminator 1 view .LVU2581
 6758 00a4 6674     		strb	r6, [r4, #17]
3890:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6759              		.loc 1 3890 29 is_stmt 1 discriminator 1 view .LVU2582
 6760              	.LVL673:
 6761              	.L637:
3928:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
3929:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes remains in the sector */
3930:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
3931:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_TINY
3932:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3933:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		memcpy(rbuff, fs->win + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
3934:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
3935:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		memcpy(rbuff, fp->buf + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
3936:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3937:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3938:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3939:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, FR_OK);
3940:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 6762              		.loc 1 3940 1 is_stmt 0 view .LVU2583
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 231


 6763 00a6 2846     		mov	r0, r5
 6764 00a8 05B0     		add	sp, sp, #20
 6765              		.cfi_remember_state
 6766              		.cfi_def_cfa_offset 36
 6767              		@ sp needed
 6768 00aa BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 6769              	.LVL674:
 6770              	.L641:
 6771              		.cfi_restore_state
3877:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
 6772              		.loc 1 3877 5 is_stmt 1 view .LVU2584
3877:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
 6773              		.loc 1 3877 8 is_stmt 0 view .LVU2585
 6774 00ae 0028     		cmp	r0, #0
 6775 00b0 40D1     		bne	.L643
3878:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} else {						/* Middle or end of the file */
 6776              		.loc 1 3878 6 is_stmt 1 view .LVU2586
3878:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} else {						/* Middle or end of the file */
 6777              		.loc 1 3878 11 is_stmt 0 view .LVU2587
 6778 00b2 A068     		ldr	r0, [r4, #8]
 6779              	.LVL675:
 6780              	.L644:
3889:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6781              		.loc 1 3889 5 is_stmt 1 view .LVU2588
3889:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6782              		.loc 1 3889 8 is_stmt 0 view .LVU2589
 6783 00b4 0128     		cmp	r0, #1
 6784 00b6 09D9     		bls	.L647
3889:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6785              		.loc 1 3889 40 is_stmt 1 discriminator 2 view .LVU2590
3890:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6786              		.loc 1 3890 5 discriminator 2 view .LVU2591
3890:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6787              		.loc 1 3890 8 is_stmt 0 discriminator 2 view .LVU2592
 6788 00b8 421C     		adds	r2, r0, #1
 6789 00ba F1D0     		beq	.L650
3890:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6790              		.loc 1 3890 51 is_stmt 1 discriminator 2 view .LVU2593
3891:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 6791              		.loc 1 3891 5 discriminator 2 view .LVU2594
 6792 00bc 0399     		ldr	r1, [sp, #12]
3891:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 6793              		.loc 1 3891 15 is_stmt 0 discriminator 2 view .LVU2595
 6794 00be A061     		str	r0, [r4, #24]
3893:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (sect == 0) ABORT(fs, FR_INT_ERR);
 6795              		.loc 1 3893 4 is_stmt 1 discriminator 2 view .LVU2596
 6796              	.LVL676:
 6797              	.LBB721:
1114:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 6798              		.loc 1 1114 14 discriminator 2 view .LVU2597
 6799              	.LBB720:
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 6800              		.loc 1 1119 2 discriminator 2 view .LVU2598
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 6801              		.loc 1 1120 27 is_stmt 0 discriminator 2 view .LVU2599
 6802 00c0 4A69     		ldr	r2, [r1, #20]
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 232


 6803              		.loc 1 1119 7 discriminator 2 view .LVU2600
 6804 00c2 A0F1020C 		sub	ip, r0, #2
 6805              	.LVL677:
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 6806              		.loc 1 1120 2 is_stmt 1 discriminator 2 view .LVU2601
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 6807              		.loc 1 1120 27 is_stmt 0 discriminator 2 view .LVU2602
 6808 00c6 901E     		subs	r0, r2, #2
 6809              	.LVL678:
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 6810              		.loc 1 1120 5 discriminator 2 view .LVU2603
 6811 00c8 8445     		cmp	ip, r0
 6812 00ca CBD3     		bcc	.L669
 6813              	.LVL679:
 6814              	.L647:
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 6815              		.loc 1 1120 5 discriminator 2 view .LVU2604
 6816              	.LBE720:
 6817              	.LBE721:
3889:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6818              		.loc 1 3889 19 is_stmt 1 discriminator 1 view .LVU2605
 6819 00cc 0225     		movs	r5, #2
 6820              	.LVL680:
 6821              		.loc 1 3940 1 is_stmt 0 discriminator 1 view .LVU2606
 6822 00ce 2846     		mov	r0, r5
3889:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6823              		.loc 1 3889 19 discriminator 1 view .LVU2607
 6824 00d0 6574     		strb	r5, [r4, #17]
3889:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6825              		.loc 1 3889 19 is_stmt 1 discriminator 1 view .LVU2608
 6826              		.loc 1 3940 1 is_stmt 0 discriminator 1 view .LVU2609
 6827 00d2 05B0     		add	sp, sp, #20
 6828              		.cfi_remember_state
 6829              		.cfi_def_cfa_offset 36
 6830              		@ sp needed
 6831 00d4 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 6832              	.LVL681:
 6833              	.L666:
 6834              		.cfi_restore_state
 6835              		.loc 1 3940 1 discriminator 1 view .LVU2610
 6836 00d8 04F12807 		add	r7, r4, #40
 6837              	.L640:
3929:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 6838              		.loc 1 3929 3 is_stmt 1 view .LVU2611
3929:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 6839              		.loc 1 3929 8 is_stmt 0 view .LVU2612
 6840 00dc C1F50076 		rsb	r6, r1, #512
 6841              	.LVL682:
3930:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_TINY
 6842              		.loc 1 3930 3 is_stmt 1 view .LVU2613
 6843 00e0 4E45     		cmp	r6, r9
 6844 00e2 28BF     		it	cs
 6845 00e4 4E46     		movcs	r6, r9
 6846              	.LVL683:
3935:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 6847              		.loc 1 3935 3 view .LVU2614
 6848 00e6 3944     		add	r1, r1, r7
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 233


 6849 00e8 3246     		mov	r2, r6
 6850 00ea 5046     		mov	r0, r10
 6851 00ec FFF7FEFF 		bl	memcpy
 6852              	.LVL684:
 6853              	.L652:
3873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6854              		.loc 1 3873 19 view .LVU2615
3873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6855              		.loc 1 3873 36 is_stmt 0 view .LVU2616
 6856 00f0 D8F80030 		ldr	r3, [r8]
3873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6857              		.loc 1 3873 69 view .LVU2617
 6858 00f4 6069     		ldr	r0, [r4, #20]
3873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6859              		.loc 1 3873 36 view .LVU2618
 6860 00f6 3344     		add	r3, r3, r6
3873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6861              		.loc 1 3873 69 view .LVU2619
 6862 00f8 3044     		add	r0, r0, r6
3873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6863              		.loc 1 3873 2 view .LVU2620
 6864 00fa B9EB0609 		subs	r9, r9, r6
 6865              	.LVL685:
3873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6866              		.loc 1 3873 36 view .LVU2621
 6867 00fe C8F80030 		str	r3, [r8]
3873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6868              		.loc 1 3873 51 view .LVU2622
 6869 0102 B244     		add	r10, r10, r6
 6870              	.LVL686:
3873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6871              		.loc 1 3873 69 view .LVU2623
 6872 0104 6061     		str	r0, [r4, #20]
3873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6873              		.loc 1 3873 10 is_stmt 1 view .LVU2624
3873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6874              		.loc 1 3873 2 is_stmt 0 view .LVU2625
 6875 0106 9CD1     		bne	.L638
3873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6876              		.loc 1 3873 2 view .LVU2626
 6877 0108 CDE7     		b	.L637
 6878              	.LVL687:
 6879              	.L667:
3898:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					cc = fs->csize - csect;
 6880              		.loc 1 3898 15 view .LVU2627
 6881 010a 03EB592E 		add	lr, r3, r9, lsr #9
3898:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					cc = fs->csize - csect;
 6882              		.loc 1 3898 8 view .LVU2628
 6883 010e 9645     		cmp	lr, r2
3896:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (cc > 0) {						/* Read maximum contiguous sectors directly */
 6884              		.loc 1 3896 7 view .LVU2629
 6885 0110 4FEA5927 		lsr	r7, r9, #9
3898:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					cc = fs->csize - csect;
 6886              		.loc 1 3898 5 is_stmt 1 view .LVU2630
3899:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 6887              		.loc 1 3899 6 view .LVU2631
3899:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 234


 6888              		.loc 1 3899 9 is_stmt 0 view .LVU2632
 6889 0114 88BF     		it	hi
 6890 0116 D71A     		subhi	r7, r2, r3
 6891              	.LVL688:
3901:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY && FF_FS_MINIMIZE <= 2		/* Replace one of the read sectors with cached data if 
 6892              		.loc 1 3901 5 is_stmt 1 view .LVU2633
3901:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY && FF_FS_MINIMIZE <= 2		/* Replace one of the read sectors with cached data if 
 6893              		.loc 1 3901 9 is_stmt 0 view .LVU2634
 6894 0118 4878     		ldrb	r0, [r1, #1]	@ zero_extendqisi2
 6895 011a 3B46     		mov	r3, r7
 6896 011c 3246     		mov	r2, r6
 6897 011e 5146     		mov	r1, r10
 6898 0120 FFF7FEFF 		bl	disk_read
 6899              	.LVL689:
3901:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY && FF_FS_MINIMIZE <= 2		/* Replace one of the read sectors with cached data if 
 6900              		.loc 1 3901 8 view .LVU2635
 6901 0124 0028     		cmp	r0, #0
 6902 0126 BBD1     		bne	.L650
3901:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY && FF_FS_MINIMIZE <= 2		/* Replace one of the read sectors with cached data if 
 6903              		.loc 1 3901 79 is_stmt 1 discriminator 2 view .LVU2636
3908:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					memcpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 6904              		.loc 1 3908 5 discriminator 2 view .LVU2637
3908:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					memcpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 6905              		.loc 1 3908 8 is_stmt 0 discriminator 2 view .LVU2638
 6906 0128 94F91000 		ldrsb	r0, [r4, #16]
 6907 012c 0028     		cmp	r0, #0
 6908 012e 1ADB     		blt	.L670
 6909              	.L651:
3913:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				continue;
 6910              		.loc 1 3913 5 is_stmt 1 view .LVU2639
3913:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				continue;
 6911              		.loc 1 3913 10 is_stmt 0 view .LVU2640
 6912 0130 7E02     		lsls	r6, r7, #9
 6913              	.LVL690:
3914:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 6914              		.loc 1 3914 5 is_stmt 1 view .LVU2641
 6915 0132 DDE7     		b	.L652
 6916              	.LVL691:
 6917              	.L643:
3886:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 6918              		.loc 1 3886 7 view .LVU2642
3886:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 6919              		.loc 1 3886 14 is_stmt 0 view .LVU2643
 6920 0134 A169     		ldr	r1, [r4, #24]
 6921 0136 2068     		ldr	r0, [r4]
 6922 0138 0193     		str	r3, [sp, #4]
 6923 013a FFF7FEFF 		bl	get_fat.isra.0
 6924              	.LVL692:
3886:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 6925              		.loc 1 3886 14 view .LVU2644
 6926 013e 019B     		ldr	r3, [sp, #4]
 6927              	.LVL693:
3886:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 6928              		.loc 1 3886 14 view .LVU2645
 6929 0140 B8E7     		b	.L644
 6930              	.LVL694:
 6931              	.L657:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 235


3869:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 6932              		.loc 1 3869 29 view .LVU2646
 6933 0142 0725     		movs	r5, #7
 6934              	.LVL695:
3869:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 6935              		.loc 1 3869 29 view .LVU2647
 6936 0144 AFE7     		b	.L637
 6937              	.LVL696:
 6938              	.L668:
3869:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 6939              		.loc 1 3869 29 view .LVU2648
 6940 0146 04F12807 		add	r7, r4, #40
 6941 014a A4E7     		b	.L653
 6942              	.L654:
3920:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6943              		.loc 1 3920 6 is_stmt 1 view .LVU2649
3920:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6944              		.loc 1 3920 10 is_stmt 0 view .LVU2650
 6945 014c 4878     		ldrb	r0, [r1, #1]	@ zero_extendqisi2
 6946 014e 0123     		movs	r3, #1
 6947 0150 3946     		mov	r1, r7
 6948 0152 FFF7FEFF 		bl	disk_write
 6949              	.LVL697:
3920:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6950              		.loc 1 3920 9 view .LVU2651
 6951 0156 0028     		cmp	r0, #0
 6952 0158 A2D1     		bne	.L650
3920:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6953              		.loc 1 3920 86 is_stmt 1 discriminator 2 view .LVU2652
3921:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 6954              		.loc 1 3921 6 discriminator 2 view .LVU2653
3921:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 6955              		.loc 1 3921 15 is_stmt 0 discriminator 2 view .LVU2654
 6956 015a 207C     		ldrb	r0, [r4, #16]	@ zero_extendqisi2
 6957 015c 0399     		ldr	r1, [sp, #12]
 6958 015e 00F07F02 		and	r2, r0, #127
 6959 0162 2274     		strb	r2, [r4, #16]
 6960 0164 90E7     		b	.L655
 6961              	.LVL698:
 6962              	.L670:
3908:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					memcpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 6963              		.loc 1 3908 43 discriminator 1 view .LVU2655
 6964 0166 E169     		ldr	r1, [r4, #28]
 6965 0168 8A1B     		subs	r2, r1, r6
3908:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					memcpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 6966              		.loc 1 3908 31 discriminator 1 view .LVU2656
 6967 016a BA42     		cmp	r2, r7
 6968 016c E0D2     		bcs	.L651
3909:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 6969              		.loc 1 3909 6 is_stmt 1 view .LVU2657
 6970 016e 0AEB4220 		add	r0, r10, r2, lsl #9
 6971 0172 04F12801 		add	r1, r4, #40
 6972 0176 4FF40072 		mov	r2, #512
 6973 017a FFF7FEFF 		bl	memcpy
 6974              	.LVL699:
 6975 017e D7E7     		b	.L651
 6976              		.cfi_endproc
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 236


 6977              	.LFE34:
 6979              		.section	.text.f_write,"ax",%progbits
 6980              		.align	1
 6981              		.p2align 2,,3
 6982              		.global	f_write
 6983              		.syntax unified
 6984              		.thumb
 6985              		.thumb_func
 6986              		.fpu fpv4-sp-d16
 6988              	f_write:
 6989              	.LVL700:
 6990              	.LFB35:
3941:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3942:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3943:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3944:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3945:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
3946:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3947:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Write File                                                            */
3948:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
3949:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3950:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_write (
3951:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FIL* fp,			/* Open file to be written */
3952:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const void* buff,	/* Data to be written */
3953:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT btw,			/* Number of bytes to write */
3954:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT* bw			/* Number of bytes written */
3955:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
3956:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 6991              		.loc 1 3956 1 view -0
 6992              		.cfi_startproc
 6993              		@ args = 0, pretend = 0, frame = 8
 6994              		@ frame_needed = 0, uses_anonymous_args = 0
3957:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 6995              		.loc 1 3957 2 view .LVU2659
3958:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
 6996              		.loc 1 3958 2 view .LVU2660
3959:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD clst;
 6997              		.loc 1 3959 2 view .LVU2661
3960:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t sect;
 6998              		.loc 1 3960 2 view .LVU2662
3961:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT wcnt, cc, csect;
 6999              		.loc 1 3961 2 view .LVU2663
3962:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
 7000              		.loc 1 3962 2 view .LVU2664
3956:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 7001              		.loc 1 3956 1 is_stmt 0 view .LVU2665
 7002 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 7003              		.cfi_def_cfa_offset 36
 7004              		.cfi_offset 4, -36
 7005              		.cfi_offset 5, -32
 7006              		.cfi_offset 6, -28
 7007              		.cfi_offset 7, -24
 7008              		.cfi_offset 8, -20
 7009              		.cfi_offset 9, -16
 7010              		.cfi_offset 10, -12
 7011              		.cfi_offset 11, -8
 7012              		.cfi_offset 14, -4
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 237


 7013 0004 9946     		mov	r9, r3
 7014 0006 83B0     		sub	sp, sp, #12
 7015              		.cfi_def_cfa_offset 48
3963:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3964:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3965:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*bw = 0;	/* Clear write byte counter */
 7016              		.loc 1 3965 6 view .LVU2666
 7017 0008 0023     		movs	r3, #0
 7018              	.LVL701:
3956:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 7019              		.loc 1 3956 1 view .LVU2667
 7020 000a 8A46     		mov	r10, r1
 7021              		.loc 1 3965 6 view .LVU2668
 7022 000c C9F80030 		str	r3, [r9]
3966:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 7023              		.loc 1 3966 8 view .LVU2669
 7024 0010 01A9     		add	r1, sp, #4
 7025              	.LVL702:
3965:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 7026              		.loc 1 3965 2 is_stmt 1 view .LVU2670
 7027              		.loc 1 3966 2 view .LVU2671
3956:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 7028              		.loc 1 3956 1 is_stmt 0 view .LVU2672
 7029 0012 1646     		mov	r6, r2
 7030 0014 0446     		mov	r4, r0
 7031              		.loc 1 3966 8 view .LVU2673
 7032 0016 FFF7FEFF 		bl	validate
 7033              	.LVL703:
3967:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 7034              		.loc 1 3967 2 is_stmt 1 view .LVU2674
 7035              		.loc 1 3967 5 is_stmt 0 view .LVU2675
 7036 001a 0546     		mov	r5, r0
 7037 001c 0028     		cmp	r0, #0
 7038 001e 60D1     		bne	.L672
 7039              		.loc 1 3967 27 discriminator 2 view .LVU2676
 7040 0020 657C     		ldrb	r5, [r4, #17]	@ zero_extendqisi2
 7041              	.LVL704:
 7042              		.loc 1 3967 19 discriminator 2 view .LVU2677
 7043 0022 002D     		cmp	r5, #0
 7044 0024 5DD1     		bne	.L672
3968:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 7045              		.loc 1 3968 2 is_stmt 1 view .LVU2678
 7046              		.loc 1 3968 10 is_stmt 0 view .LVU2679
 7047 0026 207C     		ldrb	r0, [r4, #16]	@ zero_extendqisi2
 7048              		.loc 1 3968 5 view .LVU2680
 7049 0028 8207     		lsls	r2, r0, #30
 7050 002a 40F1B580 		bpl	.L695
3969:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3970:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Check fptr wrap-around (file size cannot reach 4 GiB at FAT volume) */
3971:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if ((!FF_FS_EXFAT || fs->fs_type != FS_EXFAT) && (DWORD)(fp->fptr + btw) < (DWORD)fp->fptr) {
 7051              		.loc 1 3971 2 is_stmt 1 view .LVU2681
 7052              		.loc 1 3971 61 is_stmt 0 view .LVU2682
 7053 002e 6769     		ldr	r7, [r4, #20]
 7054              		.loc 1 3971 5 view .LVU2683
 7055 0030 F742     		cmn	r7, r6
3972:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 7056              		.loc 1 3972 3 is_stmt 1 view .LVU2684
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 238


 7057              		.loc 1 3972 7 is_stmt 0 view .LVU2685
 7058 0032 28BF     		it	cs
 7059 0034 FE43     		mvncs	r6, r7
 7060              	.LVL705:
3973:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
3974:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
3975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for ( ; btw > 0; btw -= wcnt, *bw += wcnt, wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp-
 7061              		.loc 1 3975 10 is_stmt 1 view .LVU2686
 7062              		.loc 1 3975 2 is_stmt 0 view .LVU2687
 7063 0036 002E     		cmp	r6, #0
 7064 0038 50D0     		beq	.L674
 7065              	.LVL706:
 7066              	.L694:
3976:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7067              		.loc 1 3976 3 is_stmt 1 view .LVU2688
 7068              		.loc 1 3976 16 is_stmt 0 view .LVU2689
 7069 003a C7F30800 		ubfx	r0, r7, #0, #9
 7070              		.loc 1 3976 6 view .LVU2690
 7071 003e 0028     		cmp	r0, #0
 7072 0040 53D1     		bne	.L705
3977:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 7073              		.loc 1 3977 4 is_stmt 1 view .LVU2691
 7074              		.loc 1 3977 43 is_stmt 0 view .LVU2692
 7075 0042 0199     		ldr	r1, [sp, #4]
 7076 0044 B1F80AB0 		ldrh	fp, [r1, #10]
 7077              		.loc 1 3977 51 view .LVU2693
 7078 0048 0BF1FF30 		add	r0, fp, #-1
 7079              	.LVL707:
3978:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 7080              		.loc 1 3978 4 is_stmt 1 view .LVU2694
 7081              		.loc 1 3978 7 is_stmt 0 view .LVU2695
 7082 004c 10EA572B 		ands	fp, r0, r7, lsr #9
 7083              	.LVL708:
 7084              		.loc 1 3978 7 view .LVU2696
 7085 0050 0FD1     		bne	.L677
3979:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 7086              		.loc 1 3979 5 is_stmt 1 view .LVU2697
 7087              		.loc 1 3979 8 is_stmt 0 view .LVU2698
 7088 0052 002F     		cmp	r7, #0
 7089 0054 3BD1     		bne	.L678
3980:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
 7090              		.loc 1 3980 6 is_stmt 1 view .LVU2699
 7091              		.loc 1 3980 11 is_stmt 0 view .LVU2700
 7092 0056 A068     		ldr	r0, [r4, #8]
 7093              	.LVL709:
3981:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
 7094              		.loc 1 3981 6 is_stmt 1 view .LVU2701
 7095              		.loc 1 3981 9 is_stmt 0 view .LVU2702
 7096 0058 0028     		cmp	r0, #0
 7097 005a 00F08F80 		beq	.L706
 7098              	.L679:
3982:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
3983:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
3984:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} else {					/* On the middle or end of the file */
3985:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_FASTSEEK
3986:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (fp->cltbl) {
3987:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 239


3988:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} else
3989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
3990:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					{
3991:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						clst = create_chain(&fp->obj, fp->clust);	/* Follow or stretch cluster chain on the FAT */
3992:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
3993:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
3994:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0) break;		/* Could not allocate a new cluster (disk full) */
3995:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 7099              		.loc 1 3995 5 is_stmt 1 view .LVU2703
 7100              		.loc 1 3995 8 is_stmt 0 view .LVU2704
 7101 005e 0128     		cmp	r0, #1
 7102 0060 65D0     		beq	.L686
 7103              		.loc 1 3995 41 is_stmt 1 discriminator 2 view .LVU2705
3996:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7104              		.loc 1 3996 5 discriminator 2 view .LVU2706
 7105              		.loc 1 3996 8 is_stmt 0 discriminator 2 view .LVU2707
 7106 0062 431C     		adds	r3, r0, #1
 7107 0064 00F09280 		beq	.L685
 7108              		.loc 1 3996 51 is_stmt 1 discriminator 2 view .LVU2708
3997:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 7109              		.loc 1 3997 5 discriminator 2 view .LVU2709
3998:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
 7110              		.loc 1 3998 8 is_stmt 0 discriminator 2 view .LVU2710
 7111 0068 A268     		ldr	r2, [r4, #8]
 7112 006a 0199     		ldr	r1, [sp, #4]
3997:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 7113              		.loc 1 3997 15 discriminator 2 view .LVU2711
 7114 006c A061     		str	r0, [r4, #24]
 7115              		.loc 1 3998 5 is_stmt 1 discriminator 2 view .LVU2712
 7116              		.loc 1 3998 8 is_stmt 0 discriminator 2 view .LVU2713
 7117 006e 002A     		cmp	r2, #0
 7118 0070 70D0     		beq	.L683
 7119              	.LVL710:
 7120              	.L677:
3999:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4000:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_TINY
4001:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->winsect == fp->sect && sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Write-back s
4002:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
4003:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back sector cache */
 7121              		.loc 1 4003 4 is_stmt 1 view .LVU2714
 7122              		.loc 1 4003 7 is_stmt 0 view .LVU2715
 7123 0072 94F91070 		ldrsb	r7, [r4, #16]
 7124 0076 002F     		cmp	r7, #0
 7125 0078 71DB     		blt	.L707
 7126              	.L684:
4004:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (disk_write(fs->pdrv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
4005:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
4006:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4007:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4008:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sect = clst2sect(fs, fp->clust);	/* Get current sector */
 7127              		.loc 1 4008 4 is_stmt 1 view .LVU2716
 7128              	.LVL711:
 7129              	.LBB722:
 7130              	.LBI722:
1114:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 7131              		.loc 1 1114 14 view .LVU2717
 7132              	.LBB723:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 240


1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 7133              		.loc 1 1119 2 view .LVU2718
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 7134              		.loc 1 1119 7 is_stmt 0 view .LVU2719
 7135 007a A069     		ldr	r0, [r4, #24]
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 7136              		.loc 1 1120 27 view .LVU2720
 7137 007c 4F69     		ldr	r7, [r1, #20]
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 7138              		.loc 1 1119 7 view .LVU2721
 7139 007e A0F1020C 		sub	ip, r0, #2
 7140              	.LVL712:
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 7141              		.loc 1 1120 2 is_stmt 1 view .LVU2722
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 7142              		.loc 1 1120 27 is_stmt 0 view .LVU2723
 7143 0082 BA1E     		subs	r2, r7, #2
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 7144              		.loc 1 1120 5 view .LVU2724
 7145 0084 9445     		cmp	ip, r2
 7146 0086 52D2     		bcs	.L686
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7147              		.loc 1 1121 2 is_stmt 1 view .LVU2725
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7148              		.loc 1 1121 24 is_stmt 0 view .LVU2726
 7149 0088 B1F80AE0 		ldrh	lr, [r1, #10]
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7150              		.loc 1 1121 22 view .LVU2727
 7151 008c 8B6A     		ldr	r3, [r1, #40]
 7152 008e 0EFB0C30 		mla	r0, lr, ip, r3
 7153              	.LVL713:
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7154              		.loc 1 1121 22 view .LVU2728
 7155              	.LBE723:
 7156              	.LBE722:
4009:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (sect == 0) ABORT(fs, FR_INT_ERR);
 7157              		.loc 1 4009 4 is_stmt 1 view .LVU2729
 7158              		.loc 1 4009 7 is_stmt 0 view .LVU2730
 7159 0092 0028     		cmp	r0, #0
 7160 0094 4BD0     		beq	.L686
 7161              		.loc 1 4009 40 is_stmt 1 discriminator 2 view .LVU2731
4010:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sect += csect;
 7162              		.loc 1 4010 4 discriminator 2 view .LVU2732
4011:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
4012:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (cc > 0) {					/* Write maximum contiguous sectors directly */
 7163              		.loc 1 4012 7 is_stmt 0 discriminator 2 view .LVU2733
 7164 0096 B6F5007F 		cmp	r6, #512
4010:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sect += csect;
 7165              		.loc 1 4010 9 discriminator 2 view .LVU2734
 7166 009a 0BEB0007 		add	r7, fp, r0
 7167              	.LVL714:
4011:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
 7168              		.loc 1 4011 4 is_stmt 1 discriminator 2 view .LVU2735
 7169              		.loc 1 4012 4 discriminator 2 view .LVU2736
 7170              		.loc 1 4012 7 is_stmt 0 discriminator 2 view .LVU2737
 7171 009e 4CD3     		bcc	.L687
4013:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 241


 7172              		.loc 1 4013 15 view .LVU2738
 7173 00a0 0BEB562C 		add	ip, fp, r6, lsr #9
 7174              		.loc 1 4013 8 view .LVU2739
 7175 00a4 F445     		cmp	ip, lr
4011:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
 7176              		.loc 1 4011 7 view .LVU2740
 7177 00a6 4FEA5628 		lsr	r8, r6, #9
 7178              	.LVL715:
 7179              		.loc 1 4013 5 is_stmt 1 view .LVU2741
4014:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					cc = fs->csize - csect;
 7180              		.loc 1 4014 6 view .LVU2742
 7181              		.loc 1 4014 9 is_stmt 0 view .LVU2743
 7182 00aa 88BF     		it	hi
 7183 00ac AEEB0B08 		subhi	r8, lr, fp
 7184              	.LVL716:
4015:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4016:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (disk_write(fs->pdrv, wbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7185              		.loc 1 4016 5 is_stmt 1 view .LVU2744
 7186              		.loc 1 4016 9 is_stmt 0 view .LVU2745
 7187 00b0 4878     		ldrb	r0, [r1, #1]	@ zero_extendqisi2
 7188 00b2 4346     		mov	r3, r8
 7189 00b4 3A46     		mov	r2, r7
 7190 00b6 5146     		mov	r1, r10
 7191 00b8 FFF7FEFF 		bl	disk_write
 7192              	.LVL717:
 7193              		.loc 1 4016 8 view .LVU2746
 7194 00bc 0028     		cmp	r0, #0
 7195 00be 65D1     		bne	.L685
 7196              		.loc 1 4016 80 is_stmt 1 discriminator 2 view .LVU2747
4017:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_MINIMIZE <= 2
4018:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_TINY
4019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fs->winsect - sect < cc) {	/* Refill sector cache if it gets invalidated by the direct writ
4020:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					memcpy(fs->win, wbuff + ((fs->winsect - sect) * SS(fs)), SS(fs));
4021:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->wflag = 0;
4022:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4023:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
4024:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fp->sect - sect < cc) { /* Refill sector cache if it gets invalidated by the direct write *
 7197              		.loc 1 4024 5 discriminator 2 view .LVU2748
 7198              		.loc 1 4024 18 is_stmt 0 discriminator 2 view .LVU2749
 7199 00c0 E269     		ldr	r2, [r4, #28]
 7200 00c2 D31B     		subs	r3, r2, r7
 7201              		.loc 1 4024 8 discriminator 2 view .LVU2750
 7202 00c4 4345     		cmp	r3, r8
 7203 00c6 76D3     		bcc	.L708
 7204              	.L689:
4025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					memcpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
4026:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
4027:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4028:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4029:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4030:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				wcnt = SS(fs) * cc;		/* Number of bytes transferred */
 7205              		.loc 1 4030 5 is_stmt 1 view .LVU2751
 7206              		.loc 1 4030 10 is_stmt 0 view .LVU2752
 7207 00c8 4FEA4828 		lsl	r8, r8, #9
 7208              	.LVL718:
4031:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				continue;
 7209              		.loc 1 4031 5 is_stmt 1 view .LVU2753
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 242


 7210 00cc 1DE0     		b	.L690
 7211              	.LVL719:
 7212              	.L678:
3991:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 7213              		.loc 1 3991 7 view .LVU2754
3991:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 7214              		.loc 1 3991 14 is_stmt 0 view .LVU2755
 7215 00ce A169     		ldr	r1, [r4, #24]
 7216 00d0 2046     		mov	r0, r4
 7217 00d2 FFF7FEFF 		bl	create_chain
 7218              	.LVL720:
3994:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 7219              		.loc 1 3994 5 is_stmt 1 view .LVU2756
3994:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 7220              		.loc 1 3994 8 is_stmt 0 view .LVU2757
 7221 00d6 0028     		cmp	r0, #0
 7222 00d8 C1D1     		bne	.L679
 7223              	.LVL721:
 7224              	.L704:
3994:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 7225              		.loc 1 3994 8 view .LVU2758
 7226 00da 207C     		ldrb	r0, [r4, #16]	@ zero_extendqisi2
 7227              	.L674:
4032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4033:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_TINY
4034:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fp->fptr >= fp->obj.objsize) {	/* Avoid silly cache filling on the growing edge */
4035:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);
4036:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->winsect = sect;
4037:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4038:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
4039:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fp->sect != sect && 		/* Fill sector cache with file data */
4040:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->fptr < fp->obj.objsize &&
4041:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				disk_read(fs->pdrv, fp->buf, sect, 1) != RES_OK) {
4042:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					ABORT(fs, FR_DISK_ERR);
4043:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4044:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4045:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->sect = sect;
4046:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		wcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes remains in the sector */
4048:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
4049:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_TINY
4050:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
4051:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		memcpy(fs->win + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
4052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fs->wflag = 1;
4053:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
4054:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		memcpy(fp->buf + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
4055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fp->flag |= FA_DIRTY;
4056:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4057:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
4058:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4059:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	fp->flag |= FA_MODIFIED;				/* Set file change flag */
 7228              		.loc 1 4059 2 is_stmt 1 view .LVU2759
 7229              		.loc 1 4059 11 is_stmt 0 view .LVU2760
 7230 00dc 40F04001 		orr	r1, r0, #64
 7231 00e0 2174     		strb	r1, [r4, #16]
4060:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4061:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, FR_OK);
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 243


 7232              		.loc 1 4061 2 is_stmt 1 view .LVU2761
 7233              	.LVL722:
 7234              	.L672:
4062:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7235              		.loc 1 4062 1 is_stmt 0 view .LVU2762
 7236 00e2 2846     		mov	r0, r5
 7237 00e4 03B0     		add	sp, sp, #12
 7238              		.cfi_remember_state
 7239              		.cfi_def_cfa_offset 36
 7240              		@ sp needed
 7241 00e6 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7242              	.LVL723:
 7243              	.L705:
 7244              		.cfi_restore_state
 7245              		.loc 1 4062 1 view .LVU2763
 7246 00ea 04F1280B 		add	fp, r4, #40
 7247              	.L676:
4047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 7248              		.loc 1 4047 3 is_stmt 1 view .LVU2764
4047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 7249              		.loc 1 4047 8 is_stmt 0 view .LVU2765
 7250 00ee C0F50078 		rsb	r8, r0, #512
 7251              	.LVL724:
4048:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_TINY
 7252              		.loc 1 4048 3 is_stmt 1 view .LVU2766
 7253 00f2 B045     		cmp	r8, r6
 7254 00f4 28BF     		it	cs
 7255 00f6 B046     		movcs	r8, r6
 7256              	.LVL725:
4054:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fp->flag |= FA_DIRTY;
 7257              		.loc 1 4054 3 view .LVU2767
 7258 00f8 5146     		mov	r1, r10
 7259 00fa 5844     		add	r0, r0, fp
 7260 00fc 4246     		mov	r2, r8
 7261 00fe FFF7FEFF 		bl	memcpy
 7262              	.LVL726:
4055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 7263              		.loc 1 4055 3 view .LVU2768
4055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 7264              		.loc 1 4055 12 is_stmt 0 view .LVU2769
 7265 0102 217C     		ldrb	r1, [r4, #16]	@ zero_extendqisi2
 7266 0104 61F07F07 		orn	r7, r1, #127
 7267 0108 2774     		strb	r7, [r4, #16]
 7268              	.L690:
3975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7269              		.loc 1 3975 19 is_stmt 1 view .LVU2770
 7270              	.LVL727:
3975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7271              		.loc 1 3975 69 is_stmt 0 view .LVU2771
 7272 010a 6769     		ldr	r7, [r4, #20]
3975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7273              		.loc 1 3975 136 view .LVU2772
 7274 010c E368     		ldr	r3, [r4, #12]
3975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7275              		.loc 1 3975 36 view .LVU2773
 7276 010e D9F80020 		ldr	r2, [r9]
3975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 244


 7277              		.loc 1 3975 69 view .LVU2774
 7278 0112 4744     		add	r7, r7, r8
3975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7279              		.loc 1 3975 136 view .LVU2775
 7280 0114 BB42     		cmp	r3, r7
 7281 0116 38BF     		it	cc
 7282 0118 3B46     		movcc	r3, r7
3975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7283              		.loc 1 3975 36 view .LVU2776
 7284 011a 4244     		add	r2, r2, r8
3975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7285              		.loc 1 3975 2 view .LVU2777
 7286 011c B6EB0806 		subs	r6, r6, r8
 7287              	.LVL728:
3975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7288              		.loc 1 3975 36 view .LVU2778
 7289 0120 C9F80020 		str	r2, [r9]
3975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7290              		.loc 1 3975 51 view .LVU2779
 7291 0124 C244     		add	r10, r10, r8
 7292              	.LVL729:
3975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7293              		.loc 1 3975 94 view .LVU2780
 7294 0126 E360     		str	r3, [r4, #12]
3975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7295              		.loc 1 3975 10 is_stmt 1 view .LVU2781
3975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7296              		.loc 1 3975 69 is_stmt 0 view .LVU2782
 7297 0128 6761     		str	r7, [r4, #20]
3975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7298              		.loc 1 3975 2 view .LVU2783
 7299 012a 86D1     		bne	.L694
3975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7300              		.loc 1 3975 2 view .LVU2784
 7301 012c D5E7     		b	.L704
 7302              	.LVL730:
 7303              	.L686:
3995:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7304              		.loc 1 3995 20 is_stmt 1 discriminator 1 view .LVU2785
 7305 012e 0225     		movs	r5, #2
 7306              	.LVL731:
 7307              		.loc 1 4062 1 is_stmt 0 discriminator 1 view .LVU2786
 7308 0130 2846     		mov	r0, r5
3995:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7309              		.loc 1 3995 20 discriminator 1 view .LVU2787
 7310 0132 6574     		strb	r5, [r4, #17]
3995:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7311              		.loc 1 3995 20 is_stmt 1 discriminator 1 view .LVU2788
 7312              		.loc 1 4062 1 is_stmt 0 discriminator 1 view .LVU2789
 7313 0134 03B0     		add	sp, sp, #12
 7314              		.cfi_remember_state
 7315              		.cfi_def_cfa_offset 36
 7316              		@ sp needed
 7317 0136 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7318              	.LVL732:
 7319              	.L687:
 7320              		.cfi_restore_state
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 245


4039:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->fptr < fp->obj.objsize &&
 7321              		.loc 1 4039 4 is_stmt 1 view .LVU2790
4039:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->fptr < fp->obj.objsize &&
 7322              		.loc 1 4039 7 is_stmt 0 view .LVU2791
 7323 013a E269     		ldr	r2, [r4, #28]
4040:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				disk_read(fs->pdrv, fp->buf, sect, 1) != RES_OK) {
 7324              		.loc 1 4040 7 view .LVU2792
 7325 013c 6069     		ldr	r0, [r4, #20]
4039:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->fptr < fp->obj.objsize &&
 7326              		.loc 1 4039 7 view .LVU2793
 7327 013e BA42     		cmp	r2, r7
 7328 0140 2CD0     		beq	.L691
4039:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->fptr < fp->obj.objsize &&
 7329              		.loc 1 4039 25 discriminator 1 view .LVU2794
 7330 0142 E368     		ldr	r3, [r4, #12]
 7331 0144 9842     		cmp	r0, r3
4041:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					ABORT(fs, FR_DISK_ERR);
 7332              		.loc 1 4041 27 discriminator 1 view .LVU2795
 7333 0146 04F1280B 		add	fp, r4, #40
 7334              	.LVL733:
4039:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->fptr < fp->obj.objsize &&
 7335              		.loc 1 4039 25 discriminator 1 view .LVU2796
 7336 014a 2AD3     		bcc	.L692
 7337              	.L693:
4042:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 7338              		.loc 1 4042 28 is_stmt 1 view .LVU2797
4045:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 7339              		.loc 1 4045 4 view .LVU2798
4045:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 7340              		.loc 1 4045 13 is_stmt 0 view .LVU2799
 7341 014c E761     		str	r7, [r4, #28]
 7342 014e C0F30800 		ubfx	r0, r0, #0, #9
 7343 0152 CCE7     		b	.L676
 7344              	.LVL734:
 7345              	.L683:
3998:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 7346              		.loc 1 3998 30 is_stmt 1 discriminator 1 view .LVU2800
4003:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (disk_write(fs->pdrv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7347              		.loc 1 4003 7 is_stmt 0 discriminator 1 view .LVU2801
 7348 0154 94F91070 		ldrsb	r7, [r4, #16]
3998:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 7349              		.loc 1 3998 45 discriminator 1 view .LVU2802
 7350 0158 A060     		str	r0, [r4, #8]
4003:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (disk_write(fs->pdrv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7351              		.loc 1 4003 4 is_stmt 1 discriminator 1 view .LVU2803
4003:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (disk_write(fs->pdrv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7352              		.loc 1 4003 7 is_stmt 0 discriminator 1 view .LVU2804
 7353 015a 002F     		cmp	r7, #0
 7354 015c 8DDA     		bge	.L684
 7355              	.LVL735:
 7356              	.L707:
4004:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7357              		.loc 1 4004 5 is_stmt 1 view .LVU2805
4004:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7358              		.loc 1 4004 9 is_stmt 0 view .LVU2806
 7359 015e 4878     		ldrb	r0, [r1, #1]	@ zero_extendqisi2
 7360 0160 E269     		ldr	r2, [r4, #28]
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 246


 7361 0162 0123     		movs	r3, #1
 7362 0164 04F12801 		add	r1, r4, #40
 7363 0168 FFF7FEFF 		bl	disk_write
 7364              	.LVL736:
4004:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7365              		.loc 1 4004 8 view .LVU2807
 7366 016c 70B9     		cbnz	r0, .L685
4004:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7367              		.loc 1 4004 85 is_stmt 1 discriminator 2 view .LVU2808
4005:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 7368              		.loc 1 4005 5 discriminator 2 view .LVU2809
4005:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 7369              		.loc 1 4005 14 is_stmt 0 discriminator 2 view .LVU2810
 7370 016e 94F81080 		ldrb	r8, [r4, #16]	@ zero_extendqisi2
 7371 0172 0199     		ldr	r1, [sp, #4]
 7372 0174 08F07F03 		and	r3, r8, #127
 7373 0178 2374     		strb	r3, [r4, #16]
 7374 017a 7EE7     		b	.L684
 7375              	.LVL737:
 7376              	.L706:
3982:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 7377              		.loc 1 3982 7 is_stmt 1 view .LVU2811
3982:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 7378              		.loc 1 3982 14 is_stmt 0 view .LVU2812
 7379 017c 5946     		mov	r1, fp
 7380 017e 2046     		mov	r0, r4
 7381              	.LVL738:
3982:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 7382              		.loc 1 3982 14 view .LVU2813
 7383 0180 FFF7FEFF 		bl	create_chain
 7384              	.LVL739:
3994:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 7385              		.loc 1 3994 5 is_stmt 1 view .LVU2814
3994:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 7386              		.loc 1 3994 8 is_stmt 0 view .LVU2815
 7387 0184 0028     		cmp	r0, #0
 7388 0186 7FF46AAF 		bne	.L679
 7389 018a A6E7     		b	.L704
 7390              	.LVL740:
 7391              	.L685:
3996:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 7392              		.loc 1 3996 29 is_stmt 1 discriminator 1 view .LVU2816
 7393 018c 0125     		movs	r5, #1
 7394              	.LVL741:
 7395              		.loc 1 4062 1 is_stmt 0 discriminator 1 view .LVU2817
 7396 018e 2846     		mov	r0, r5
3996:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 7397              		.loc 1 3996 29 discriminator 1 view .LVU2818
 7398 0190 6574     		strb	r5, [r4, #17]
3996:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 7399              		.loc 1 3996 29 is_stmt 1 discriminator 1 view .LVU2819
 7400              		.loc 1 4062 1 is_stmt 0 discriminator 1 view .LVU2820
 7401 0192 03B0     		add	sp, sp, #12
 7402              		.cfi_remember_state
 7403              		.cfi_def_cfa_offset 36
 7404              		@ sp needed
 7405 0194 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 247


 7406              	.LVL742:
 7407              	.L695:
 7408              		.cfi_restore_state
3968:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 7409              		.loc 1 3968 30 view .LVU2821
 7410 0198 0725     		movs	r5, #7
 7411              	.LVL743:
3968:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 7412              		.loc 1 3968 30 view .LVU2822
 7413 019a A2E7     		b	.L672
 7414              	.LVL744:
 7415              	.L691:
3968:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 7416              		.loc 1 3968 30 view .LVU2823
 7417 019c 04F1280B 		add	fp, r4, #40
 7418              	.LVL745:
3968:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 7419              		.loc 1 3968 30 view .LVU2824
 7420 01a0 D4E7     		b	.L693
 7421              	.L692:
4041:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					ABORT(fs, FR_DISK_ERR);
 7422              		.loc 1 4041 5 view .LVU2825
 7423 01a2 4878     		ldrb	r0, [r1, #1]	@ zero_extendqisi2
 7424 01a4 0123     		movs	r3, #1
 7425 01a6 5946     		mov	r1, fp
 7426 01a8 3A46     		mov	r2, r7
 7427 01aa FFF7FEFF 		bl	disk_read
 7428              	.LVL746:
4040:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				disk_read(fs->pdrv, fp->buf, sect, 1) != RES_OK) {
 7429              		.loc 1 4040 32 view .LVU2826
 7430 01ae 0028     		cmp	r0, #0
 7431 01b0 ECD1     		bne	.L685
 7432 01b2 6069     		ldr	r0, [r4, #20]
 7433 01b4 CAE7     		b	.L693
 7434              	.LVL747:
 7435              	.L708:
4025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7436              		.loc 1 4025 6 is_stmt 1 view .LVU2827
 7437 01b6 0AEB4321 		add	r1, r10, r3, lsl #9
 7438 01ba 4FF40072 		mov	r2, #512
 7439 01be 04F12800 		add	r0, r4, #40
 7440 01c2 FFF7FEFF 		bl	memcpy
 7441              	.LVL748:
4026:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 7442              		.loc 1 4026 6 view .LVU2828
4026:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 7443              		.loc 1 4026 15 is_stmt 0 view .LVU2829
 7444 01c6 207C     		ldrb	r0, [r4, #16]	@ zero_extendqisi2
 7445 01c8 00F07F01 		and	r1, r0, #127
 7446 01cc 2174     		strb	r1, [r4, #16]
 7447 01ce 7BE7     		b	.L689
 7448              		.cfi_endproc
 7449              	.LFE35:
 7451              		.section	.text.f_sync,"ax",%progbits
 7452              		.align	1
 7453              		.p2align 2,,3
 7454              		.global	f_sync
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 248


 7455              		.syntax unified
 7456              		.thumb
 7457              		.thumb_func
 7458              		.fpu fpv4-sp-d16
 7460              	f_sync:
 7461              	.LVL749:
 7462              	.LFB36:
4063:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4064:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4065:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4066:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4068:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Synchronize the File                                                  */
4069:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4070:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4071:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_sync (
4072:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FIL* fp		/* Open file to be synced */
4073:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
4074:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 7463              		.loc 1 4074 1 is_stmt 1 view -0
 7464              		.cfi_startproc
 7465              		@ args = 0, pretend = 0, frame = 8
 7466              		@ frame_needed = 0, uses_anonymous_args = 0
4075:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 7467              		.loc 1 4075 2 view .LVU2831
4076:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
 7468              		.loc 1 4076 2 view .LVU2832
4077:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD tm;
 7469              		.loc 1 4077 2 view .LVU2833
4078:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE *dir;
 7470              		.loc 1 4078 2 view .LVU2834
4079:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4080:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4081:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
 7471              		.loc 1 4081 2 view .LVU2835
4074:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 7472              		.loc 1 4074 1 is_stmt 0 view .LVU2836
 7473 0000 70B5     		push	{r4, r5, r6, lr}
 7474              		.cfi_def_cfa_offset 16
 7475              		.cfi_offset 4, -16
 7476              		.cfi_offset 5, -12
 7477              		.cfi_offset 6, -8
 7478              		.cfi_offset 14, -4
 7479 0002 82B0     		sub	sp, sp, #8
 7480              		.cfi_def_cfa_offset 24
 7481              		.loc 1 4081 8 view .LVU2837
 7482 0004 01A9     		add	r1, sp, #4
4074:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 7483              		.loc 1 4074 1 view .LVU2838
 7484 0006 0446     		mov	r4, r0
 7485              		.loc 1 4081 8 view .LVU2839
 7486 0008 FFF7FEFF 		bl	validate
 7487              	.LVL750:
4082:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
 7488              		.loc 1 4082 2 is_stmt 1 view .LVU2840
 7489              		.loc 1 4082 5 is_stmt 0 view .LVU2841
 7490 000c 0028     		cmp	r0, #0
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 249


 7491 000e 3AD1     		bne	.L710
4083:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
 7492              		.loc 1 4083 3 is_stmt 1 view .LVU2842
 7493              		.loc 1 4083 9 is_stmt 0 view .LVU2843
 7494 0010 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 7495              		.loc 1 4083 6 view .LVU2844
 7496 0012 13F04000 		ands	r0, r3, #64
 7497              	.LVL751:
 7498              		.loc 1 4083 6 view .LVU2845
 7499 0016 36D0     		beq	.L710
4084:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_TINY
4085:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fp->flag & FA_DIRTY) {	/* Write-back cached data if needed */
 7500              		.loc 1 4085 4 is_stmt 1 view .LVU2846
 7501              		.loc 1 4085 7 is_stmt 0 view .LVU2847
 7502 0018 1B06     		lsls	r3, r3, #24
 7503 001a 36D4     		bmi	.L719
 7504              	.L711:
4086:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (disk_write(fs->pdrv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
4087:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
4088:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4089:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4090:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			/* Update the directory entry */
4091:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			tm = GET_FATTIME();				/* Modified time */
 7505              		.loc 1 4091 4 is_stmt 1 view .LVU2848
 7506              	.LVL752:
4092:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
4093:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4094:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = fill_first_frag(&fp->obj);	/* Fill first fragment on the FAT if needed */
4095:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {
4096:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if nee
4097:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4098:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {
4099:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					DIR dj;
4100:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					DEF_NAMBUF
4101:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4102:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					INIT_NAMBUF(fs);
4103:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = load_obj_xdir(&dj, &fp->obj);	/* Load directory entry block */
4104:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (res == FR_OK) {
4105:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->dirbuf[XDIR_Attr] |= AM_ARC;				/* Set archive attribute to indicate that the file has be
4106:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->dirbuf[XDIR_GenFlags] = fp->obj.stat | 1;	/* Update file allocation information */
4107:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_dword(fs->dirbuf + XDIR_FstClus, fp->obj.sclust);		/* Update start cluster */
4108:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_qword(fs->dirbuf + XDIR_FileSize, fp->obj.objsize);		/* Update file size */
4109:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_qword(fs->dirbuf + XDIR_ValidFileSize, fp->obj.objsize);	/* (FatFs does not support Valid 
4110:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_dword(fs->dirbuf + XDIR_ModTime, tm);		/* Update modified time */
4111:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->dirbuf[XDIR_ModTime10] = 0;
4112:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_dword(fs->dirbuf + XDIR_AccTime, 0);
4113:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = store_xdir(&dj);	/* Restore it to the directory */
4114:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (res == FR_OK) {
4115:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							res = sync_fs(fs);
4116:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							fp->flag &= (BYTE)~FA_MODIFIED;
4117:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
4118:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
4119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					FREE_NAMBUF();
4120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else
4122:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4123:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			{
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 250


4124:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = move_window(fs, fp->dir_sect);
 7507              		.loc 1 4124 5 view .LVU2849
 7508              		.loc 1 4124 11 is_stmt 0 view .LVU2850
 7509 001c 0198     		ldr	r0, [sp, #4]
 7510 001e 216A     		ldr	r1, [r4, #32]
 7511              	.LVL753:
 7512              	.LBB724:
 7513              	.LBI724:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 7514              		.loc 1 1047 16 is_stmt 1 view .LVU2851
 7515              	.LBB725:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 7516              		.loc 1 1052 2 view .LVU2852
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 7517              		.loc 1 1055 2 view .LVU2853
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 7518              		.loc 1 1055 5 is_stmt 0 view .LVU2854
 7519 0020 C56A     		ldr	r5, [r0, #44]
 7520 0022 A942     		cmp	r1, r5
 7521 0024 03D0     		beq	.L712
 7522 0026 FFF7FEFF 		bl	move_window.part.0
 7523              	.LVL754:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7524              		.loc 1 1067 2 is_stmt 1 view .LVU2855
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7525              		.loc 1 1067 2 is_stmt 0 view .LVU2856
 7526              	.LBE725:
 7527              	.LBE724:
4125:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {
 7528              		.loc 1 4125 5 is_stmt 1 view .LVU2857
 7529              		.loc 1 4125 8 is_stmt 0 view .LVU2858
 7530 002a 60BB     		cbnz	r0, .L710
 7531 002c 0198     		ldr	r0, [sp, #4]
 7532              	.LVL755:
 7533              	.L712:
4126:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					dir = fp->dir_ptr;
 7534              		.loc 1 4126 6 is_stmt 1 view .LVU2859
 7535              		.loc 1 4126 10 is_stmt 0 view .LVU2860
 7536 002e 636A     		ldr	r3, [r4, #36]
 7537              	.LVL756:
4127:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive attribute to indicate that the file has been chan
 7538              		.loc 1 4127 6 is_stmt 1 view .LVU2861
 7539              		.loc 1 4127 20 is_stmt 0 view .LVU2862
 7540 0030 DE7A     		ldrb	r6, [r3, #11]	@ zero_extendqisi2
 7541 0032 46F02001 		orr	r1, r6, #32
 7542 0036 D972     		strb	r1, [r3, #11]
4128:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation information  */
 7543              		.loc 1 4128 6 is_stmt 1 view .LVU2863
 7544 0038 A268     		ldr	r2, [r4, #8]
 7545 003a 2668     		ldr	r6, [r4]
 7546              	.LVL757:
 7547              	.LBB726:
 7548              	.LBI726:
1834:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
 7549              		.loc 1 1834 13 view .LVU2864
 7550              	.LBB727:
1840:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 251


 7551              		.loc 1 1840 2 view .LVU2865
 7552              	.LBB728:
 7553              	.LBI728:
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 7554              		.loc 1 652 13 view .LVU2866
 7555              	.LBB729:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7556              		.loc 1 654 2 view .LVU2867
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7557              		.loc 1 654 11 is_stmt 0 view .LVU2868
 7558 003c 9A76     		strb	r2, [r3, #26]
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7559              		.loc 1 654 22 is_stmt 1 view .LVU2869
 7560              	.LVL758:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7561              		.loc 1 655 2 view .LVU2870
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7562              		.loc 1 654 26 is_stmt 0 view .LVU2871
 7563 003e C2F30725 		ubfx	r5, r2, #8, #8
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7564              		.loc 1 655 11 view .LVU2872
 7565 0042 DD76     		strb	r5, [r3, #27]
 7566              	.LVL759:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7567              		.loc 1 655 11 view .LVU2873
 7568              	.LBE729:
 7569              	.LBE728:
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 7570              		.loc 1 1841 2 is_stmt 1 view .LVU2874
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 7571              		.loc 1 1841 5 is_stmt 0 view .LVU2875
 7572 0044 3178     		ldrb	r1, [r6]	@ zero_extendqisi2
 7573 0046 0329     		cmp	r1, #3
 7574 0048 03D1     		bne	.L713
1842:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 7575              		.loc 1 1842 3 is_stmt 1 view .LVU2876
1842:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 7576              		.loc 1 1842 42 is_stmt 0 view .LVU2877
 7577 004a 120C     		lsrs	r2, r2, #16
 7578              	.LVL760:
 7579              	.LBB730:
 7580              	.LBI730:
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 7581              		.loc 1 652 13 is_stmt 1 view .LVU2878
 7582              	.LBB731:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7583              		.loc 1 654 2 view .LVU2879
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7584              		.loc 1 654 26 is_stmt 0 view .LVU2880
 7585 004c 160A     		lsrs	r6, r2, #8
 7586              	.LVL761:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7587              		.loc 1 654 11 view .LVU2881
 7588 004e 1A75     		strb	r2, [r3, #20]
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7589              		.loc 1 654 22 is_stmt 1 view .LVU2882
 7590              	.LVL762:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 252


 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7591              		.loc 1 655 2 view .LVU2883
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7592              		.loc 1 655 11 is_stmt 0 view .LVU2884
 7593 0050 5E75     		strb	r6, [r3, #21]
 7594              	.LVL763:
 7595              	.L713:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7596              		.loc 1 655 11 view .LVU2885
 7597              	.LBE731:
 7598              	.LBE730:
 7599              	.LBE727:
 7600              	.LBE726:
4129:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
 7601              		.loc 1 4129 6 is_stmt 1 view .LVU2886
 7602              		.loc 1 4129 49 is_stmt 0 view .LVU2887
 7603 0052 E268     		ldr	r2, [r4, #12]
 7604              	.LVL764:
 7605              	.LBB732:
 7606              	.LBI732:
 658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 7607              		.loc 1 658 13 is_stmt 1 view .LVU2888
 7608              	.LBB733:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 7609              		.loc 1 660 2 view .LVU2889
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 7610              		.loc 1 660 11 is_stmt 0 view .LVU2890
 7611 0054 1A77     		strb	r2, [r3, #28]
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 7612              		.loc 1 660 22 is_stmt 1 view .LVU2891
 7613              	.LVL765:
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 7614              		.loc 1 661 2 view .LVU2892
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 7615              		.loc 1 660 26 is_stmt 0 view .LVU2893
 7616 0056 110A     		lsrs	r1, r2, #8
 7617              	.LVL766:
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 7618              		.loc 1 661 26 view .LVU2894
 7619 0058 150C     		lsrs	r5, r2, #16
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7620              		.loc 1 662 26 view .LVU2895
 7621 005a 120E     		lsrs	r2, r2, #24
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 7622              		.loc 1 661 11 view .LVU2896
 7623 005c 5977     		strb	r1, [r3, #29]
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 7624              		.loc 1 661 22 is_stmt 1 view .LVU2897
 7625              	.LVL767:
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7626              		.loc 1 662 2 view .LVU2898
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7627              		.loc 1 662 11 is_stmt 0 view .LVU2899
 7628 005e 9D77     		strb	r5, [r3, #30]
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7629              		.loc 1 662 22 is_stmt 1 view .LVU2900
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 253


 7630              		.loc 1 663 2 view .LVU2901
 7631              	.LVL768:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7632              		.loc 1 663 2 is_stmt 0 view .LVU2902
 7633              	.LBE733:
 7634              	.LBE732:
 7635              	.LBB735:
 7636              	.LBB736:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 7637              		.loc 1 660 9 view .LVU2903
 7638 0060 0021     		movs	r1, #0
 7639              	.LBE736:
 7640              	.LBE735:
 7641              	.LBB740:
 7642              	.LBB734:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7643              		.loc 1 663 11 view .LVU2904
 7644 0062 DA77     		strb	r2, [r3, #31]
 7645              	.LVL769:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7646              		.loc 1 663 11 view .LVU2905
 7647              	.LBE734:
 7648              	.LBE740:
4130:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
 7649              		.loc 1 4130 6 is_stmt 1 view .LVU2906
 7650              	.LBB741:
 7651              	.LBI735:
 658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 7652              		.loc 1 658 13 view .LVU2907
 7653              	.LBB737:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 7654              		.loc 1 660 2 view .LVU2908
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7655              		.loc 1 662 9 is_stmt 0 view .LVU2909
 7656 0064 2126     		movs	r6, #33
 7657              	.LBE737:
 7658              	.LBE741:
4131:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_word(dir + DIR_LstAccDate, 0);
4132:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->wflag = 1;
 7659              		.loc 1 4132 16 view .LVU2910
 7660 0066 0122     		movs	r2, #1
 7661              	.LBB742:
 7662              	.LBB738:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7663              		.loc 1 663 9 view .LVU2911
 7664 0068 5025     		movs	r5, #80
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 7665              		.loc 1 660 9 view .LVU2912
 7666 006a 9975     		strb	r1, [r3, #22]
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 7667              		.loc 1 660 22 is_stmt 1 view .LVU2913
 7668              	.LVL770:
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 7669              		.loc 1 661 2 view .LVU2914
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 7670              		.loc 1 661 9 is_stmt 0 view .LVU2915
 7671 006c D975     		strb	r1, [r3, #23]
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 254


 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 7672              		.loc 1 661 22 is_stmt 1 view .LVU2916
 7673              	.LVL771:
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7674              		.loc 1 662 2 view .LVU2917
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7675              		.loc 1 662 2 is_stmt 0 view .LVU2918
 7676              	.LBE738:
 7677              	.LBE742:
 7678              	.LBB743:
 7679              	.LBB744:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7680              		.loc 1 654 9 view .LVU2919
 7681 006e 9974     		strb	r1, [r3, #18]
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7682              		.loc 1 655 9 view .LVU2920
 7683 0070 D974     		strb	r1, [r3, #19]
 7684              	.LBE744:
 7685              	.LBE743:
 7686              	.LBB746:
 7687              	.LBB739:
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7688              		.loc 1 662 9 view .LVU2921
 7689 0072 1E76     		strb	r6, [r3, #24]
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7690              		.loc 1 662 22 is_stmt 1 view .LVU2922
 7691              	.LVL772:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7692              		.loc 1 663 2 view .LVU2923
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7693              		.loc 1 663 9 is_stmt 0 view .LVU2924
 7694 0074 5D76     		strb	r5, [r3, #25]
 7695              	.LVL773:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7696              		.loc 1 663 9 view .LVU2925
 7697              	.LBE739:
 7698              	.LBE746:
4131:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->wflag = 1;
 7699              		.loc 1 4131 6 is_stmt 1 view .LVU2926
 7700              	.LBB747:
 7701              	.LBI743:
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 7702              		.loc 1 652 13 view .LVU2927
 7703              	.LBB745:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7704              		.loc 1 654 2 view .LVU2928
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 7705              		.loc 1 654 22 view .LVU2929
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7706              		.loc 1 655 2 view .LVU2930
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7707              		.loc 1 655 2 is_stmt 0 view .LVU2931
 7708              	.LBE745:
 7709              	.LBE747:
 7710              		.loc 1 4132 6 is_stmt 1 view .LVU2932
 7711              		.loc 1 4132 16 is_stmt 0 view .LVU2933
 7712 0076 C270     		strb	r2, [r0, #3]
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 255


4133:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
 7713              		.loc 1 4133 6 is_stmt 1 view .LVU2934
 7714              		.loc 1 4133 12 is_stmt 0 view .LVU2935
 7715 0078 FFF7FEFF 		bl	sync_fs
 7716              	.LVL774:
4134:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
 7717              		.loc 1 4134 15 view .LVU2936
 7718 007c 94F810C0 		ldrb	ip, [r4, #16]	@ zero_extendqisi2
 7719 0080 2CF04003 		bic	r3, ip, #64
 7720              	.LVL775:
 7721              		.loc 1 4134 6 is_stmt 1 view .LVU2937
 7722              		.loc 1 4134 15 is_stmt 0 view .LVU2938
 7723 0084 2374     		strb	r3, [r4, #16]
 7724              	.LVL776:
 7725              	.L710:
4135:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4136:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4137:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4138:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
4139:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4140:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, res);
4141:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7726              		.loc 1 4141 1 view .LVU2939
 7727 0086 02B0     		add	sp, sp, #8
 7728              		.cfi_remember_state
 7729              		.cfi_def_cfa_offset 16
 7730              		@ sp needed
 7731 0088 70BD     		pop	{r4, r5, r6, pc}
 7732              	.LVL777:
 7733              	.L719:
 7734              		.cfi_restore_state
4086:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7735              		.loc 1 4086 5 is_stmt 1 view .LVU2940
4086:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7736              		.loc 1 4086 9 is_stmt 0 view .LVU2941
 7737 008a 0198     		ldr	r0, [sp, #4]
 7738 008c E269     		ldr	r2, [r4, #28]
 7739 008e 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 7740 0090 0123     		movs	r3, #1
 7741 0092 04F12801 		add	r1, r4, #40
 7742 0096 FFF7FEFF 		bl	disk_write
 7743              	.LVL778:
4086:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7744              		.loc 1 4086 8 view .LVU2942
 7745 009a 20B9     		cbnz	r0, .L714
4087:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 7746              		.loc 1 4087 5 is_stmt 1 view .LVU2943
4087:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 7747              		.loc 1 4087 14 is_stmt 0 view .LVU2944
 7748 009c 217C     		ldrb	r1, [r4, #16]	@ zero_extendqisi2
 7749 009e 01F07F02 		and	r2, r1, #127
 7750 00a2 2274     		strb	r2, [r4, #16]
 7751 00a4 BAE7     		b	.L711
 7752              	.L714:
4086:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7753              		.loc 1 4086 63 view .LVU2945
 7754 00a6 0120     		movs	r0, #1
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 256


 7755 00a8 EDE7     		b	.L710
 7756              		.cfi_endproc
 7757              	.LFE36:
 7759 00aa 00BF     		.section	.text.f_close,"ax",%progbits
 7760              		.align	1
 7761              		.p2align 2,,3
 7762              		.global	f_close
 7763              		.syntax unified
 7764              		.thumb
 7765              		.thumb_func
 7766              		.fpu fpv4-sp-d16
 7768              	f_close:
 7769              	.LVL779:
 7770              	.LFB37:
4142:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4143:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif /* !FF_FS_READONLY */
4144:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4145:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4146:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4147:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4148:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4149:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Close File                                                            */
4150:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4151:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4152:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_close (
4153:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FIL* fp		/* Open file to be closed */
4154:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
4155:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 7771              		.loc 1 4155 1 is_stmt 1 view -0
 7772              		.cfi_startproc
 7773              		@ args = 0, pretend = 0, frame = 8
 7774              		@ frame_needed = 0, uses_anonymous_args = 0
4156:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 7775              		.loc 1 4156 2 view .LVU2947
4157:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
 7776              		.loc 1 4157 2 view .LVU2948
4158:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4159:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
4160:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = f_sync(fp);					/* Flush cached data */
 7777              		.loc 1 4160 2 view .LVU2949
4155:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 7778              		.loc 1 4155 1 is_stmt 0 view .LVU2950
 7779 0000 10B5     		push	{r4, lr}
 7780              		.cfi_def_cfa_offset 8
 7781              		.cfi_offset 4, -8
 7782              		.cfi_offset 14, -4
 7783 0002 82B0     		sub	sp, sp, #8
 7784              		.cfi_def_cfa_offset 16
4155:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 7785              		.loc 1 4155 1 view .LVU2951
 7786 0004 0446     		mov	r4, r0
 7787              		.loc 1 4160 8 view .LVU2952
 7788 0006 FFF7FEFF 		bl	f_sync
 7789              	.LVL780:
4161:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK)
 7790              		.loc 1 4161 2 is_stmt 1 view .LVU2953
 7791              		.loc 1 4161 5 is_stmt 0 view .LVU2954
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 257


 7792 000a 08B1     		cbz	r0, .L723
 7793              	.L721:
4162:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4163:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	{
4164:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = validate(&fp->obj, &fs);	/* Lock volume */
4165:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {
4166:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
4167:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = dec_lock(fp->obj.lockid);		/* Decrement file open counter */
4168:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_OK) fp->obj.fs = 0;	/* Invalidate file object */
4169:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
4170:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->obj.fs = 0;	/* Invalidate file object */
4171:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4172:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_REENTRANT
4173:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			unlock_fs(fs, FR_OK);		/* Unlock volume */
4174:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4175:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4176:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
4177:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
 7794              		.loc 1 4177 2 is_stmt 1 view .LVU2955
4178:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7795              		.loc 1 4178 1 is_stmt 0 view .LVU2956
 7796 000c 02B0     		add	sp, sp, #8
 7797              		.cfi_remember_state
 7798              		.cfi_def_cfa_offset 8
 7799              		@ sp needed
 7800 000e 10BD     		pop	{r4, pc}
 7801              	.LVL781:
 7802              	.L723:
 7803              		.cfi_restore_state
4164:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {
 7804              		.loc 1 4164 3 is_stmt 1 view .LVU2957
4164:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {
 7805              		.loc 1 4164 9 is_stmt 0 view .LVU2958
 7806 0010 01A9     		add	r1, sp, #4
 7807 0012 2046     		mov	r0, r4
 7808              	.LVL782:
4164:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {
 7809              		.loc 1 4164 9 view .LVU2959
 7810 0014 FFF7FEFF 		bl	validate
 7811              	.LVL783:
4165:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
 7812              		.loc 1 4165 3 is_stmt 1 view .LVU2960
4165:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
 7813              		.loc 1 4165 6 is_stmt 0 view .LVU2961
 7814 0018 0028     		cmp	r0, #0
 7815 001a F7D1     		bne	.L721
4170:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 7816              		.loc 1 4170 4 is_stmt 1 view .LVU2962
4170:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 7817              		.loc 1 4170 15 is_stmt 0 view .LVU2963
 7818 001c 2060     		str	r0, [r4]
4177:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 7819              		.loc 1 4177 2 is_stmt 1 view .LVU2964
 7820              		.loc 1 4178 1 is_stmt 0 view .LVU2965
 7821 001e 02B0     		add	sp, sp, #8
 7822              		.cfi_def_cfa_offset 8
 7823              		@ sp needed
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 258


 7824 0020 10BD     		pop	{r4, pc}
 7825              		.loc 1 4178 1 view .LVU2966
 7826              		.cfi_endproc
 7827              	.LFE37:
 7829 0022 00BF     		.section	.text.f_lseek,"ax",%progbits
 7830              		.align	1
 7831              		.p2align 2,,3
 7832              		.global	f_lseek
 7833              		.syntax unified
 7834              		.thumb
 7835              		.thumb_func
 7836              		.fpu fpv4-sp-d16
 7838              	f_lseek:
 7839              	.LVL784:
 7840              	.LFB38:
4179:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4180:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4181:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4182:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4183:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH >= 1
4184:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4185:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Change Current Directory or Current Drive, Get Current Directory      */
4186:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4187:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4188:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_chdrive (
4189:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR* path		/* Drive number to set */
4190:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
4191:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
4192:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	int vol;
4193:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4194:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4195:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Get logical drive number */
4196:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	vol = get_ldnumber(&path);
4197:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
4198:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	CurrVol = (BYTE)vol;	/* Set it as current volume */
4199:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4200:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return FR_OK;
4201:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
4202:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4203:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4204:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4205:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_chdir (
4206:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
4207:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
4208:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
4209:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_STR_VOLUME_ID == 2
4210:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i;
4211:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4212:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
4213:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR dj;
4214:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
4215:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DEF_NAMBUF
4216:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4217:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4218:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Get logical drive */
4219:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = mount_volume(&path, &fs, 0);
4220:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 259


4221:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dj.obj.fs = fs;
4222:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		INIT_NAMBUF(fs);
4223:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = follow_path(&dj, path);		/* Follow the path */
4224:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
4225:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Is it the start directory itself? */
4226:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->cdir = dj.obj.sclust;
4227:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
4228:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4229:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->cdc_scl = dj.obj.c_scl;
4230:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->cdc_size = dj.obj.c_size;
4231:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->cdc_ofs = dj.obj.c_ofs;
4232:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4233:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4234:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
4235:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (dj.obj.attr & AM_DIR) {	/* It is a sub-directory */
4236:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
4237:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
4238:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->cdir = ld_dword(fs->dirbuf + XDIR_FstClus);		/* Sub-directory cluster */
4239:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->cdc_scl = dj.obj.sclust;						/* Save containing directory information */
4240:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->cdc_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
4241:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->cdc_ofs = dj.blk_ofs;
4242:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} else
4243:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4244:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					{
4245:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->cdir = ld_clust(fs, dj.dir);					/* Sub-directory cluster */
4246:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
4247:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} else {
4248:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = FR_NO_PATH;		/* Reached but a file */
4249:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4250:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4251:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4252:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		FREE_NAMBUF();
4253:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
4254:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_STR_VOLUME_ID == 2	/* Also current drive is changed if in Unix style volume ID */
4255:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {
4256:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			for (i = FF_VOLUMES - 1; i && fs != FatFs[i]; i--) ;	/* Set current drive */
4257:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			CurrVol = (BYTE)i;
4258:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4259:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4260:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
4261:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4262:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, res);
4263:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
4264:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4265:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4266:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH >= 2
4267:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_getcwd (
4268:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	TCHAR* buff,	/* Pointer to the directory path */
4269:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT len		/* Size of buff in unit of TCHAR */
4270:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
4271:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
4272:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
4273:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR dj;
4274:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
4275:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i, n;
4276:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD ccl;
4277:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	TCHAR *tp = buff;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 260


4278:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_VOLUMES >= 2
4279:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT vl;
4280:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_STR_VOLUME_ID
4281:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const char *vp;
4282:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4283:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4284:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FILINFO fno;
4285:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DEF_NAMBUF
4286:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4287:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4288:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Get logical drive */
4289:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	buff[0] = 0;	/* Set null string to get current volume */
4290:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = mount_volume((const TCHAR**)&buff, &fs, 0);	/* Get current volume */
4291:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
4292:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dj.obj.fs = fs;
4293:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		INIT_NAMBUF(fs);
4294:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4295:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		/* Follow parent directories and create the path */
4296:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		i = len;			/* Bottom of buffer (directory stack base) */
4297:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!FF_FS_EXFAT || fs->fs_type != FS_EXFAT) {	/* (Cannot do getcwd on exFAT and returns root pat
4298:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			dj.obj.sclust = fs->cdir;				/* Start to follow upper directory from current directory */
4299:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			while ((ccl = dj.obj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
4300:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = dir_sdi(&dj, 1 * SZDIRE);	/* Get parent directory */
4301:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res != FR_OK) break;
4302:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = move_window(fs, dj.sect);
4303:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res != FR_OK) break;
4304:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dj.obj.sclust = ld_clust(fs, dj.dir);	/* Goto parent directory */
4305:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = dir_sdi(&dj, 0);
4306:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res != FR_OK) break;
4307:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				do {							/* Find the entry links to the child directory */
4308:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = DIR_READ_FILE(&dj);
4309:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (res != FR_OK) break;
4310:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (ccl == ld_clust(fs, dj.dir)) break;	/* Found the entry */
4311:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = dir_next(&dj, 0);
4312:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} while (res == FR_OK);
4313:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_NO_FILE) res = FR_INT_ERR;/* It cannot be 'not found'. */
4314:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res != FR_OK) break;
4315:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				get_fileinfo(&dj, &fno);		/* Get the directory name and push it to the buffer */
4316:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				for (n = 0; fno.fname[n]; n++) ;	/* Name length */
4317:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (i < n + 1) {	/* Insufficient space to store the path name? */
4318:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = FR_NOT_ENOUGH_CORE; break;
4319:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4320:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				while (n) buff[--i] = fno.fname[--n];	/* Stack the name */
4321:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				buff[--i] = '/';
4322:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4323:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4324:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {
4325:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (i == len) buff[--i] = '/';	/* Is it the root-directory? */
4326:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_VOLUMES >= 2			/* Put drive prefix */
4327:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			vl = 0;
4328:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_STR_VOLUME_ID >= 1	/* String volume ID */
4329:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			for (n = 0, vp = (const char*)VolumeStr[CurrVol]; vp[n]; n++) ;
4330:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (i >= n + 2) {
4331:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (FF_STR_VOLUME_ID == 2) *tp++ = (TCHAR)'/';
4332:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				for (vl = 0; vl < n; *tp++ = (TCHAR)vp[vl], vl++) ;
4333:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (FF_STR_VOLUME_ID == 1) *tp++ = (TCHAR)':';
4334:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				vl++;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 261


4335:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4336:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else						/* Numeric volume ID */
4337:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (i >= 3) {
4338:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				*tp++ = (TCHAR)'0' + CurrVol;
4339:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				*tp++ = (TCHAR)':';
4340:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				vl = 2;
4341:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4342:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4343:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (vl == 0) res = FR_NOT_ENOUGH_CORE;
4344:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4345:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			/* Add current directory path */
4346:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_OK) {
4347:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				do *tp++ = buff[i++]; while (i < len);	/* Copy stacked path string */
4348:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4349:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4350:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		FREE_NAMBUF();
4351:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
4352:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4353:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*tp = 0;
4354:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, res);
4355:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
4356:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4357:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif /* FF_FS_RPATH >= 2 */
4358:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif /* FF_FS_RPATH >= 1 */
4359:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4360:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4361:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4362:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_MINIMIZE <= 2
4363:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4364:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Seek File Read/Write Pointer                                          */
4365:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4366:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4367:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_lseek (
4368:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FIL* fp,		/* Pointer to the file object */
4369:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FSIZE_t ofs		/* File pointer from top of file */
4370:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
4371:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 7841              		.loc 1 4371 1 is_stmt 1 view -0
 7842              		.cfi_startproc
 7843              		@ args = 0, pretend = 0, frame = 16
 7844              		@ frame_needed = 0, uses_anonymous_args = 0
4372:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 7845              		.loc 1 4372 2 view .LVU2968
4373:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
 7846              		.loc 1 4373 2 view .LVU2969
4374:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD clst, bcs;
 7847              		.loc 1 4374 2 view .LVU2970
4375:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t nsect;
 7848              		.loc 1 4375 2 view .LVU2971
4376:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FSIZE_t ifptr;
 7849              		.loc 1 4376 2 view .LVU2972
4377:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_FASTSEEK
4378:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD cl, pcl, ncl, tcl, tlen, ulen;
4379:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD *tbl;
4380:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t dsc;
4381:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4382:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 262


4383:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
 7850              		.loc 1 4383 2 view .LVU2973
4371:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 7851              		.loc 1 4371 1 is_stmt 0 view .LVU2974
 7852 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 7853              		.cfi_def_cfa_offset 24
 7854              		.cfi_offset 4, -24
 7855              		.cfi_offset 5, -20
 7856              		.cfi_offset 6, -16
 7857              		.cfi_offset 7, -12
 7858              		.cfi_offset 8, -8
 7859              		.cfi_offset 14, -4
 7860 0004 84B0     		sub	sp, sp, #16
 7861              		.cfi_def_cfa_offset 40
4371:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 7862              		.loc 1 4371 1 view .LVU2975
 7863 0006 0E46     		mov	r6, r1
 7864              		.loc 1 4383 8 view .LVU2976
 7865 0008 03A9     		add	r1, sp, #12
 7866              	.LVL785:
4371:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 7867              		.loc 1 4371 1 view .LVU2977
 7868 000a 0446     		mov	r4, r0
 7869              		.loc 1 4383 8 view .LVU2978
 7870 000c FFF7FEFF 		bl	validate
 7871              	.LVL786:
4384:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 7872              		.loc 1 4384 2 is_stmt 1 view .LVU2979
 7873              		.loc 1 4384 5 is_stmt 0 view .LVU2980
 7874 0010 0746     		mov	r7, r0
 7875 0012 0028     		cmp	r0, #0
 7876 0014 7CD1     		bne	.L725
 7877              		.loc 1 4384 20 is_stmt 1 discriminator 1 view .LVU2981
 7878              		.loc 1 4384 24 is_stmt 0 discriminator 1 view .LVU2982
 7879 0016 677C     		ldrb	r7, [r4, #17]	@ zero_extendqisi2
 7880              	.LVL787:
4385:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT && !FF_FS_READONLY
4386:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK && fs->fs_type == FS_EXFAT) {
4387:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if needed
4388:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
4389:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4390:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
 7881              		.loc 1 4390 2 is_stmt 1 discriminator 1 view .LVU2983
 7882              		.loc 1 4390 5 is_stmt 0 discriminator 1 view .LVU2984
 7883 0018 002F     		cmp	r7, #0
 7884 001a 79D1     		bne	.L725
4391:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4392:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_FASTSEEK
4393:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fp->cltbl) {	/* Fast seek */
4394:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
4395:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			tbl = fp->cltbl;
4396:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
4397:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
4398:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (cl != 0) {
4399:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				do {
4400:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					/* Get a fragment */
4401:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					tcl = cl; ncl = 0; ulen += 2;	/* Top, length and used items */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 263


4402:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					do {
4403:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						pcl = cl; ncl++;
4404:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						cl = get_fat(&fp->obj, cl);
4405:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
4406:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4407:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} while (cl == pcl + 1);
4408:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
4409:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
4410:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
4411:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} while (cl < fs->n_fatent);	/* Repeat until end of chain */
4412:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4413:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*fp->cltbl = ulen;	/* Number of items used */
4414:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ulen <= tlen) {
4415:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				*tbl = 0;		/* Terminate table */
4416:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
4417:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_NOT_ENOUGH_CORE;	/* Given table size is smaller than required */
4418:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4419:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {						/* Fast seek */
4420:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ofs > fp->obj.objsize) ofs = fp->obj.objsize;	/* Clip offset at the file size */
4421:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
4422:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ofs > 0) {
4423:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
4424:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dsc = clst2sect(fs, fp->clust);
4425:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (dsc == 0) ABORT(fs, FR_INT_ERR);
4426:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
4427:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
4428:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_TINY
4429:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
4430:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
4431:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (disk_write(fs->pdrv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
4432:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
4433:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
4434:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4435:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (disk_read(fs->pdrv, fp->buf, dsc, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Load current se
4436:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4437:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->sect = dsc;
4438:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4439:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4440:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4441:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	} else
4442:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4443:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4444:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Normal Seek */
4445:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	{
4446:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
4447:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->fs_type != FS_EXFAT && ofs >= 0x100000000) ofs = 0xFFFFFFFF;	/* Clip at 4 GiB - 1 if at F
4448:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4449:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (ofs > fp->obj.objsize && (FF_FS_READONLY || !(fp->flag & FA_WRITE))) {	/* In read-only mode, 
 7885              		.loc 1 4449 3 is_stmt 1 view .LVU2985
 7886              		.loc 1 4449 20 is_stmt 0 view .LVU2986
 7887 001c E368     		ldr	r3, [r4, #12]
 7888              		.loc 1 4449 6 view .LVU2987
 7889 001e B342     		cmp	r3, r6
 7890 0020 04D2     		bcs	.L726
 7891              		.loc 1 4449 29 discriminator 1 view .LVU2988
 7892 0022 227C     		ldrb	r2, [r4, #16]	@ zero_extendqisi2
 7893 0024 12F0020F 		tst	r2, #2
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 264


 7894 0028 08BF     		it	eq
 7895 002a 1E46     		moveq	r6, r3
 7896              	.LVL788:
 7897              	.L726:
4450:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ofs = fp->obj.objsize;
4451:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4452:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		ifptr = fp->fptr;
 7898              		.loc 1 4452 3 is_stmt 1 view .LVU2989
4453:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fp->fptr = nsect = 0;
 7899              		.loc 1 4453 12 is_stmt 0 view .LVU2990
 7900 002c 0020     		movs	r0, #0
4452:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fp->fptr = nsect = 0;
 7901              		.loc 1 4452 9 view .LVU2991
 7902 002e 6169     		ldr	r1, [r4, #20]
 7903              	.LVL789:
 7904              		.loc 1 4453 3 is_stmt 1 view .LVU2992
 7905              		.loc 1 4453 12 is_stmt 0 view .LVU2993
 7906 0030 6061     		str	r0, [r4, #20]
4454:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (ofs > 0) {
 7907              		.loc 1 4454 3 is_stmt 1 view .LVU2994
 7908              		.loc 1 4454 6 is_stmt 0 view .LVU2995
 7909 0032 002E     		cmp	r6, #0
 7910 0034 6CD0     		beq	.L725
4455:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
 7911              		.loc 1 4455 4 is_stmt 1 view .LVU2996
 7912              		.loc 1 4455 19 is_stmt 0 view .LVU2997
 7913 0036 039D     		ldr	r5, [sp, #12]
 7914              		.loc 1 4455 10 view .LVU2998
 7915 0038 6B89     		ldrh	r3, [r5, #10]
 7916              		.loc 1 4455 8 view .LVU2999
 7917 003a 4FEA4328 		lsl	r8, r3, #9
 7918              	.LVL790:
4456:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ifptr > 0 &&
 7919              		.loc 1 4456 4 is_stmt 1 view .LVU3000
 7920              		.loc 1 4456 7 is_stmt 0 view .LVU3001
 7921 003e 0029     		cmp	r1, #0
 7922 0040 6AD0     		beq	.L727
4457:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 7923              		.loc 1 4457 31 discriminator 1 view .LVU3002
 7924 0042 4B1E     		subs	r3, r1, #1
 7925              		.loc 1 4457 10 discriminator 1 view .LVU3003
 7926 0044 06F1FF3C 		add	ip, r6, #-1
 7927              		.loc 1 4457 36 discriminator 1 view .LVU3004
 7928 0048 B3FBF8F0 		udiv	r0, r3, r8
 7929              		.loc 1 4457 15 discriminator 1 view .LVU3005
 7930 004c BCFBF8FE 		udiv	lr, ip, r8
4456:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ifptr > 0 &&
 7931              		.loc 1 4456 18 discriminator 1 view .LVU3006
 7932 0050 8645     		cmp	lr, r0
 7933 0052 61D3     		bcc	.L727
4458:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 7934              		.loc 1 4458 5 is_stmt 1 view .LVU3007
 7935              		.loc 1 4458 30 is_stmt 0 view .LVU3008
 7936 0054 C8F10002 		rsb	r2, r8, #0
 7937              		.loc 1 4458 28 view .LVU3009
 7938 0058 1340     		ands	r3, r3, r2
4459:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				ofs -= fp->fptr;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 265


4460:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				clst = fp->clust;
 7939              		.loc 1 4460 10 view .LVU3010
 7940 005a A569     		ldr	r5, [r4, #24]
4458:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 7941              		.loc 1 4458 14 view .LVU3011
 7942 005c 6361     		str	r3, [r4, #20]
4459:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				ofs -= fp->fptr;
 7943              		.loc 1 4459 5 is_stmt 1 view .LVU3012
4459:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				ofs -= fp->fptr;
 7944              		.loc 1 4459 9 is_stmt 0 view .LVU3013
 7945 005e F61A     		subs	r6, r6, r3
 7946              	.LVL791:
 7947              		.loc 1 4460 5 is_stmt 1 view .LVU3014
 7948              	.L728:
4461:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {									/* When seek to back cluster, */
4462:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				clst = fp->obj.sclust;					/* start from the first cluster */
4463:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
4464:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (clst == 0) {						/* If no cluster chain, create a new chain */
4465:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = create_chain(&fp->obj, 0);
4466:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
4467:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4468:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->obj.sclust = clst;
4469:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4470:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4471:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->clust = clst;
4472:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4473:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (clst != 0) {
 7949              		.loc 1 4473 4 view .LVU3015
 7950              		.loc 1 4473 7 is_stmt 0 view .LVU3016
 7951 0060 002D     		cmp	r5, #0
 7952 0062 38D0     		beq	.L732
4474:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 7953              		.loc 1 4474 11 is_stmt 1 view .LVU3017
 7954 0064 4645     		cmp	r6, r8
 7955 0066 11D8     		bhi	.L741
 7956 0068 20E0     		b	.L733
 7957              	.LVL792:
 7958              	.L767:
4475:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
4476:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
4477:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (fp->flag & FA_WRITE) {			/* Check if in write mode or not */
4478:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (FF_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize
4479:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							fp->obj.objsize = fp->fptr;
4480:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							fp->flag |= FA_MODIFIED;
4481:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
4482:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						clst = create_chain(&fp->obj, clst);	/* Follow chain with forceed stretch */
 7959              		.loc 1 4482 14 is_stmt 0 view .LVU3018
 7960 006a FFF7FEFF 		bl	create_chain
 7961              	.LVL793:
4483:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
 7962              		.loc 1 4483 7 is_stmt 1 view .LVU3019
 7963              		.loc 1 4483 10 is_stmt 0 view .LVU3020
 7964 006e 0546     		mov	r5, r0
 7965 0070 0028     		cmp	r0, #0
 7966 0072 7AD0     		beq	.L766
 7967              	.L735:
4484:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							ofs = 0; break;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 266


4485:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
4486:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} else
4487:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4488:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					{
4489:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						clst = get_fat(&fp->obj, clst);	/* Follow cluster chain if not in write mode */
4490:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
4491:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7968              		.loc 1 4491 6 is_stmt 1 view .LVU3021
 7969              		.loc 1 4491 52 view .LVU3022
4492:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 7970              		.loc 1 4492 6 view .LVU3023
 7971              		.loc 1 4492 66 view .LVU3024
4493:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->clust = clst;
 7972              		.loc 1 4493 6 view .LVU3025
4491:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 7973              		.loc 1 4491 9 is_stmt 0 view .LVU3026
 7974 0074 6B1C     		adds	r3, r5, #1
 7975 0076 69D0     		beq	.L736
4492:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 7976              		.loc 1 4492 9 discriminator 2 view .LVU3027
 7977 0078 012D     		cmp	r5, #1
 7978 007a 6DD9     		bls	.L738
4492:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 7979              		.loc 1 4492 33 discriminator 2 view .LVU3028
 7980 007c 0399     		ldr	r1, [sp, #12]
4492:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 7981              		.loc 1 4492 20 discriminator 2 view .LVU3029
 7982 007e 4B69     		ldr	r3, [r1, #20]
 7983 0080 AB42     		cmp	r3, r5
 7984 0082 69D9     		bls	.L738
4474:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
 7985              		.loc 1 4474 11 discriminator 4 view .LVU3030
 7986 0084 B045     		cmp	r8, r6
 7987 0086 6369     		ldr	r3, [r4, #20]
 7988              		.loc 1 4493 16 discriminator 4 view .LVU3031
 7989 0088 A561     		str	r5, [r4, #24]
4474:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
 7990              		.loc 1 4474 11 is_stmt 1 discriminator 4 view .LVU3032
 7991 008a 0FD2     		bcs	.L733
 7992              	.LVL794:
 7993              	.L741:
4475:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 7994              		.loc 1 4475 6 view .LVU3033
4478:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							fp->obj.objsize = fp->fptr;
 7995              		.loc 1 4478 7 view .LVU3034
4482:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
 7996              		.loc 1 4482 7 view .LVU3035
4489:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 7997              		.loc 1 4489 7 view .LVU3036
4477:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (FF_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize
 7998              		.loc 1 4477 9 is_stmt 0 view .LVU3037
 7999 008c 94F810C0 		ldrb	ip, [r4, #16]	@ zero_extendqisi2
4475:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 8000              		.loc 1 4475 27 view .LVU3038
 8001 0090 4344     		add	r3, r3, r8
4477:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (FF_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize
 8002              		.loc 1 4477 9 view .LVU3039
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 267


 8003 0092 5FEA8C72 		lsls	r2, ip, #30
4482:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
 8004              		.loc 1 4482 14 view .LVU3040
 8005 0096 2946     		mov	r1, r5
 8006 0098 2046     		mov	r0, r4
4475:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 8007              		.loc 1 4475 27 view .LVU3041
 8008 009a 6361     		str	r3, [r4, #20]
4475:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 8009              		.loc 1 4475 10 view .LVU3042
 8010 009c A6EB0806 		sub	r6, r6, r8
 8011              	.LVL795:
4475:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 8012              		.loc 1 4475 18 is_stmt 1 view .LVU3043
4477:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (FF_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize
 8013              		.loc 1 4477 6 view .LVU3044
4477:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (FF_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize
 8014              		.loc 1 4477 9 is_stmt 0 view .LVU3045
 8015 00a0 E3D4     		bmi	.L767
 8016              	.LVL796:
4489:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 8017              		.loc 1 4489 14 view .LVU3046
 8018 00a2 2068     		ldr	r0, [r4]
 8019              	.LVL797:
4489:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 8020              		.loc 1 4489 14 view .LVU3047
 8021 00a4 FFF7FEFF 		bl	get_fat.isra.0
 8022              	.LVL798:
4489:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 8023              		.loc 1 4489 14 view .LVU3048
 8024 00a8 0546     		mov	r5, r0
 8025              	.LVL799:
4489:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 8026              		.loc 1 4489 14 view .LVU3049
 8027 00aa E3E7     		b	.L735
 8028              	.LVL800:
 8029              	.L733:
4494:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4495:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->fptr += ofs;
 8030              		.loc 1 4495 5 is_stmt 1 view .LVU3050
 8031              		.loc 1 4495 14 is_stmt 0 view .LVU3051
 8032 00ac 3344     		add	r3, r3, r6
4496:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (ofs % SS(fs)) {
 8033              		.loc 1 4496 13 view .LVU3052
 8034 00ae C6F30800 		ubfx	r0, r6, #0, #9
4495:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (ofs % SS(fs)) {
 8035              		.loc 1 4495 14 view .LVU3053
 8036 00b2 6361     		str	r3, [r4, #20]
 8037              		.loc 1 4496 5 is_stmt 1 view .LVU3054
 8038              		.loc 1 4496 8 is_stmt 0 view .LVU3055
 8039 00b4 0028     		cmp	r0, #0
 8040 00b6 5AD0     		beq	.L746
4497:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					nsect = clst2sect(fs, clst);	/* Current sector */
 8041              		.loc 1 4497 6 is_stmt 1 view .LVU3056
 8042              		.loc 1 4497 14 is_stmt 0 view .LVU3057
 8043 00b8 0399     		ldr	r1, [sp, #12]
 8044              	.LVL801:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 268


 8045              	.LBB748:
 8046              	.LBI748:
1114:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 8047              		.loc 1 1114 14 is_stmt 1 view .LVU3058
 8048              	.LBB749:
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 8049              		.loc 1 1119 2 view .LVU3059
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 8050              		.loc 1 1120 27 is_stmt 0 view .LVU3060
 8051 00ba 4A69     		ldr	r2, [r1, #20]
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 8052              		.loc 1 1119 7 view .LVU3061
 8053 00bc A81E     		subs	r0, r5, #2
 8054              	.LVL802:
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 8055              		.loc 1 1120 2 is_stmt 1 view .LVU3062
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 8056              		.loc 1 1120 27 is_stmt 0 view .LVU3063
 8057 00be 951E     		subs	r5, r2, #2
 8058              	.LVL803:
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 8059              		.loc 1 1120 5 view .LVU3064
 8060 00c0 A842     		cmp	r0, r5
 8061 00c2 49D2     		bcs	.L738
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8062              		.loc 1 1121 2 is_stmt 1 view .LVU3065
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8063              		.loc 1 1121 24 is_stmt 0 view .LVU3066
 8064 00c4 B1F80A80 		ldrh	r8, [r1, #10]
 8065              	.LVL804:
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8066              		.loc 1 1121 22 view .LVU3067
 8067 00c8 896A     		ldr	r1, [r1, #40]
 8068              	.LVL805:
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8069              		.loc 1 1121 22 view .LVU3068
 8070 00ca 00FB0812 		mla	r2, r0, r8, r1
 8071              	.LVL806:
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8072              		.loc 1 1121 22 view .LVU3069
 8073              	.LBE749:
 8074              	.LBE748:
4498:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (nsect == 0) ABORT(fs, FR_INT_ERR);
 8075              		.loc 1 4498 6 is_stmt 1 view .LVU3070
 8076              		.loc 1 4498 9 is_stmt 0 view .LVU3071
 8077 00ce 002A     		cmp	r2, #0
 8078 00d0 42D0     		beq	.L738
 8079              		.loc 1 4498 43 is_stmt 1 discriminator 2 view .LVU3072
4499:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 8080              		.loc 1 4499 6 discriminator 2 view .LVU3073
 8081              		.loc 1 4499 12 is_stmt 0 discriminator 2 view .LVU3074
 8082 00d2 02EB5625 		add	r5, r2, r6, lsr #9
 8083              	.LVL807:
 8084              	.L732:
4500:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4501:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4502:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 269


4503:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!FF_FS_READONLY && fp->fptr > fp->obj.objsize) {	/* Set file change flag if the file size is 
 8085              		.loc 1 4503 3 is_stmt 1 view .LVU3075
 8086              		.loc 1 4503 6 is_stmt 0 view .LVU3076
 8087 00d6 E668     		ldr	r6, [r4, #12]
 8088 00d8 9E42     		cmp	r6, r3
 8089 00da 04D2     		bcs	.L742
4504:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->obj.objsize = fp->fptr;
 8090              		.loc 1 4504 4 is_stmt 1 view .LVU3077
4505:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->flag |= FA_MODIFIED;
 8091              		.loc 1 4505 13 is_stmt 0 view .LVU3078
 8092 00dc 207C     		ldrb	r0, [r4, #16]	@ zero_extendqisi2
4504:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->obj.objsize = fp->fptr;
 8093              		.loc 1 4504 20 view .LVU3079
 8094 00de E360     		str	r3, [r4, #12]
 8095              		.loc 1 4505 4 is_stmt 1 view .LVU3080
 8096              		.loc 1 4505 13 is_stmt 0 view .LVU3081
 8097 00e0 40F04001 		orr	r1, r0, #64
 8098 00e4 2174     		strb	r1, [r4, #16]
 8099              	.L742:
 8100              	.LVL808:
4506:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4507:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr % SS(fs) && nsect != fp->sect) {	/* Fill sector cache if needed */
 8101              		.loc 1 4507 3 is_stmt 1 view .LVU3082
 8102              		.loc 1 4507 16 is_stmt 0 view .LVU3083
 8103 00e6 C3F30803 		ubfx	r3, r3, #0, #9
 8104              		.loc 1 4507 6 view .LVU3084
 8105 00ea 8BB1     		cbz	r3, .L725
 8106              		.loc 1 4507 39 discriminator 1 view .LVU3085
 8107 00ec E269     		ldr	r2, [r4, #28]
 8108              		.loc 1 4507 25 discriminator 1 view .LVU3086
 8109 00ee AA42     		cmp	r2, r5
 8110 00f0 0ED0     		beq	.L725
4508:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_TINY
4509:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
4510:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fp->flag & FA_DIRTY) {			/* Write-back dirty sector cache */
 8111              		.loc 1 4510 4 is_stmt 1 view .LVU3087
 8112              		.loc 1 4510 7 is_stmt 0 view .LVU3088
 8113 00f2 94F91070 		ldrsb	r7, [r4, #16]
 8114              	.LVL809:
 8115              		.loc 1 4510 7 view .LVU3089
 8116 00f6 002F     		cmp	r7, #0
 8117 00f8 1FDB     		blt	.L743
 8118 00fa 04F12801 		add	r1, r4, #40
 8119              	.L744:
4511:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (disk_write(fs->pdrv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
4512:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
4513:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4514:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4515:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (disk_read(fs->pdrv, fp->buf, nsect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Fill sector cac
 8120              		.loc 1 4515 4 is_stmt 1 view .LVU3090
 8121              		.loc 1 4515 8 is_stmt 0 view .LVU3091
 8122 00fe 039B     		ldr	r3, [sp, #12]
 8123 0100 2A46     		mov	r2, r5
 8124 0102 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 8125 0104 0123     		movs	r3, #1
 8126 0106 FFF7FEFF 		bl	disk_read
 8127              	.LVL810:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 270


 8128              		.loc 1 4515 7 view .LVU3092
 8129 010a 0746     		mov	r7, r0
 8130 010c F0B9     		cbnz	r0, .L736
 8131              		.loc 1 4515 80 is_stmt 1 discriminator 2 view .LVU3093
4516:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4517:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->sect = nsect;
 8132              		.loc 1 4517 4 discriminator 2 view .LVU3094
 8133              		.loc 1 4517 13 is_stmt 0 discriminator 2 view .LVU3095
 8134 010e E561     		str	r5, [r4, #28]
 8135              	.L725:
4518:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4519:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
4520:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4521:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, res);
4522:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8136              		.loc 1 4522 1 view .LVU3096
 8137 0110 3846     		mov	r0, r7
 8138 0112 04B0     		add	sp, sp, #16
 8139              		.cfi_remember_state
 8140              		.cfi_def_cfa_offset 24
 8141              		@ sp needed
 8142 0114 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 8143              	.LVL811:
 8144              	.L727:
 8145              		.cfi_restore_state
4462:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 8146              		.loc 1 4462 5 is_stmt 1 view .LVU3097
4462:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 8147              		.loc 1 4462 10 is_stmt 0 view .LVU3098
 8148 0118 A568     		ldr	r5, [r4, #8]
 8149              	.LVL812:
4464:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = create_chain(&fp->obj, 0);
 8150              		.loc 1 4464 5 is_stmt 1 view .LVU3099
4464:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = create_chain(&fp->obj, 0);
 8151              		.loc 1 4464 8 is_stmt 0 view .LVU3100
 8152 011a 15B1     		cbz	r5, .L768
 8153 011c 0023     		movs	r3, #0
 8154              	.LVL813:
 8155              	.L729:
4471:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 8156              		.loc 1 4471 5 is_stmt 1 view .LVU3101
4471:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 8157              		.loc 1 4471 15 is_stmt 0 view .LVU3102
 8158 011e A561     		str	r5, [r4, #24]
 8159 0120 9EE7     		b	.L728
 8160              	.LVL814:
 8161              	.L768:
4465:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 8162              		.loc 1 4465 6 is_stmt 1 view .LVU3103
4465:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 8163              		.loc 1 4465 13 is_stmt 0 view .LVU3104
 8164 0122 2946     		mov	r1, r5
 8165              	.LVL815:
4465:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 8166              		.loc 1 4465 13 view .LVU3105
 8167 0124 2046     		mov	r0, r4
 8168 0126 FFF7FEFF 		bl	create_chain
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 271


 8169              	.LVL816:
4466:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8170              		.loc 1 4466 9 view .LVU3106
 8171 012a 0128     		cmp	r0, #1
4465:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 8172              		.loc 1 4465 13 view .LVU3107
 8173 012c 0546     		mov	r5, r0
 8174              	.LVL817:
4466:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8175              		.loc 1 4466 6 is_stmt 1 view .LVU3108
4466:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8176              		.loc 1 4466 9 is_stmt 0 view .LVU3109
 8177 012e 13D0     		beq	.L738
4466:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8178              		.loc 1 4466 42 is_stmt 1 discriminator 2 view .LVU3110
4467:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->obj.sclust = clst;
 8179              		.loc 1 4467 6 discriminator 2 view .LVU3111
4467:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->obj.sclust = clst;
 8180              		.loc 1 4467 9 is_stmt 0 discriminator 2 view .LVU3112
 8181 0130 411C     		adds	r1, r0, #1
 8182 0132 0BD0     		beq	.L736
4467:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->obj.sclust = clst;
 8183              		.loc 1 4467 52 is_stmt 1 discriminator 2 view .LVU3113
4468:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 8184              		.loc 1 4468 6 discriminator 2 view .LVU3114
 8185 0134 6369     		ldr	r3, [r4, #20]
4468:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 8186              		.loc 1 4468 21 is_stmt 0 discriminator 2 view .LVU3115
 8187 0136 A060     		str	r0, [r4, #8]
 8188 0138 F1E7     		b	.L729
 8189              	.LVL818:
 8190              	.L743:
4511:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8191              		.loc 1 4511 5 is_stmt 1 view .LVU3116
4511:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8192              		.loc 1 4511 9 is_stmt 0 view .LVU3117
 8193 013a 039E     		ldr	r6, [sp, #12]
4511:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8194              		.loc 1 4511 32 view .LVU3118
 8195 013c 04F12801 		add	r1, r4, #40
4511:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8196              		.loc 1 4511 9 view .LVU3119
 8197 0140 7078     		ldrb	r0, [r6, #1]	@ zero_extendqisi2
 8198 0142 0191     		str	r1, [sp, #4]
 8199 0144 0123     		movs	r3, #1
 8200 0146 FFF7FEFF 		bl	disk_write
 8201              	.LVL819:
4511:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8202              		.loc 1 4511 8 view .LVU3120
 8203 014a 40B1     		cbz	r0, .L769
 8204              	.L736:
4467:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->obj.sclust = clst;
 8205              		.loc 1 4467 30 is_stmt 1 discriminator 1 view .LVU3121
 8206 014c 0127     		movs	r7, #1
 8207              		.loc 1 4522 1 is_stmt 0 discriminator 1 view .LVU3122
 8208 014e 3846     		mov	r0, r7
4467:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->obj.sclust = clst;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 272


 8209              		.loc 1 4467 30 discriminator 1 view .LVU3123
 8210 0150 6774     		strb	r7, [r4, #17]
4467:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fp->obj.sclust = clst;
 8211              		.loc 1 4467 30 is_stmt 1 discriminator 1 view .LVU3124
 8212              		.loc 1 4522 1 is_stmt 0 discriminator 1 view .LVU3125
 8213 0152 04B0     		add	sp, sp, #16
 8214              		.cfi_remember_state
 8215              		.cfi_def_cfa_offset 24
 8216              		@ sp needed
 8217 0154 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 8218              	.LVL820:
 8219              	.L738:
 8220              		.cfi_restore_state
4466:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8221              		.loc 1 4466 21 is_stmt 1 discriminator 1 view .LVU3126
 8222 0158 0227     		movs	r7, #2
 8223              	.LVL821:
4466:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8224              		.loc 1 4466 21 is_stmt 0 discriminator 1 view .LVU3127
 8225 015a 6774     		strb	r7, [r4, #17]
4466:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8226              		.loc 1 4466 21 is_stmt 1 discriminator 1 view .LVU3128
 8227 015c D8E7     		b	.L725
 8228              	.LVL822:
 8229              	.L769:
4511:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8230              		.loc 1 4511 85 discriminator 2 view .LVU3129
4512:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 8231              		.loc 1 4512 5 discriminator 2 view .LVU3130
4512:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 8232              		.loc 1 4512 14 is_stmt 0 discriminator 2 view .LVU3131
 8233 015e 227C     		ldrb	r2, [r4, #16]	@ zero_extendqisi2
 8234 0160 0199     		ldr	r1, [sp, #4]
 8235 0162 02F07F00 		and	r0, r2, #127
 8236 0166 2074     		strb	r0, [r4, #16]
 8237 0168 C9E7     		b	.L744
 8238              	.LVL823:
 8239              	.L766:
4512:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 8240              		.loc 1 4512 14 discriminator 2 view .LVU3132
 8241 016a 6369     		ldr	r3, [r4, #20]
 8242 016c B3E7     		b	.L732
 8243              	.LVL824:
 8244              	.L746:
4453:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (ofs > 0) {
 8245              		.loc 1 4453 20 view .LVU3133
 8246 016e 0546     		mov	r5, r0
 8247              	.LVL825:
4453:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (ofs > 0) {
 8248              		.loc 1 4453 20 view .LVU3134
 8249 0170 B1E7     		b	.L732
 8250              		.cfi_endproc
 8251              	.LFE38:
 8253 0172 00BF     		.section	.text.f_opendir,"ax",%progbits
 8254              		.align	1
 8255              		.p2align 2,,3
 8256              		.global	f_opendir
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 273


 8257              		.syntax unified
 8258              		.thumb
 8259              		.thumb_func
 8260              		.fpu fpv4-sp-d16
 8262              	f_opendir:
 8263              	.LVL826:
 8264              	.LFB39:
4523:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4524:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4525:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4526:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_MINIMIZE <= 1
4527:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4528:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Create a Directory Object                                             */
4529:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4530:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4531:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_opendir (
4532:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,			/* Pointer to directory object to create */
4533:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
4534:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
4535:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 8265              		.loc 1 4535 1 is_stmt 1 view -0
 8266              		.cfi_startproc
 8267              		@ args = 0, pretend = 0, frame = 16
 8268              		@ frame_needed = 0, uses_anonymous_args = 0
4536:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 8269              		.loc 1 4536 2 view .LVU3136
4537:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
 8270              		.loc 1 4537 2 view .LVU3137
4538:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DEF_NAMBUF
4539:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4540:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4541:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
 8271              		.loc 1 4541 2 view .LVU3138
4535:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 8272              		.loc 1 4535 1 is_stmt 0 view .LVU3139
 8273 0000 30B5     		push	{r4, r5, lr}
 8274              		.cfi_def_cfa_offset 12
 8275              		.cfi_offset 4, -12
 8276              		.cfi_offset 5, -8
 8277              		.cfi_offset 14, -4
 8278 0002 85B0     		sub	sp, sp, #20
 8279              		.cfi_def_cfa_offset 32
4535:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 8280              		.loc 1 4535 1 view .LVU3140
 8281 0004 0191     		str	r1, [sp, #4]
 8282              		.loc 1 4541 5 view .LVU3141
 8283 0006 0028     		cmp	r0, #0
 8284 0008 39D0     		beq	.L779
4542:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4543:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Get logical drive */
4544:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = mount_volume(&path, &fs, 0);
 8285              		.loc 1 4544 2 is_stmt 1 view .LVU3142
 8286 000a 0446     		mov	r4, r0
 8287              		.loc 1 4544 8 is_stmt 0 view .LVU3143
 8288 000c 0022     		movs	r2, #0
 8289 000e 03A9     		add	r1, sp, #12
 8290              	.LVL827:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 274


 8291              		.loc 1 4544 8 view .LVU3144
 8292 0010 01A8     		add	r0, sp, #4
 8293              	.LVL828:
 8294              		.loc 1 4544 8 view .LVU3145
 8295 0012 FFF7FEFF 		bl	mount_volume
 8296              	.LVL829:
4545:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
 8297              		.loc 1 4545 2 is_stmt 1 view .LVU3146
 8298              		.loc 1 4545 5 is_stmt 0 view .LVU3147
 8299 0016 18B1     		cbz	r0, .L792
 8300              	.LVL830:
 8301              	.L772:
4546:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.fs = fs;
4547:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		INIT_NAMBUF(fs);
4548:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
4549:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
4550:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
4551:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (dp->obj.attr & AM_DIR) {		/* This object is a sub-directory */
4552:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
4553:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
4554:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dp->obj.c_scl = dp->obj.sclust;							/* Get containing directory inforamation */
4555:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dp->obj.c_size = ((DWORD)dp->obj.objsize & 0xFFFFFF00) | dp->obj.stat;
4556:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dp->obj.c_ofs = dp->blk_ofs;
4557:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						init_alloc_info(fs, &dp->obj);	/* Get object allocation info */
4558:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} else
4559:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4560:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					{
4561:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dp->obj.sclust = ld_clust(fs, dp->dir);	/* Get object allocation info */
4562:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
4563:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} else {						/* This object is a file */
4564:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = FR_NO_PATH;
4565:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4566:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4567:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_OK) {
4568:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->obj.id = fs->id;
4569:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
4570:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
4571:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {
4572:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (dp->obj.sclust != 0) {
4573:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dp->obj.lockid = inc_lock(dp, 0);	/* Lock the sub directory */
4574:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (!dp->obj.lockid) res = FR_TOO_MANY_OPEN_FILES;
4575:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} else {
4576:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dp->obj.lockid = 0;	/* Root directory need not to be locked */
4577:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
4578:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4579:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4580:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4581:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4582:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		FREE_NAMBUF();
4583:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
4584:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
4585:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res != FR_OK) dp->obj.fs = 0;		/* Invalidate the directory object if function faild */
 8302              		.loc 1 4585 20 is_stmt 1 discriminator 1 view .LVU3148
 8303              		.loc 1 4585 31 is_stmt 0 discriminator 1 view .LVU3149
 8304 0018 0025     		movs	r5, #0
 8305 001a 2560     		str	r5, [r4]
4586:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 275


4587:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, res);
4588:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8306              		.loc 1 4588 1 discriminator 1 view .LVU3150
 8307 001c 05B0     		add	sp, sp, #20
 8308              		.cfi_remember_state
 8309              		.cfi_def_cfa_offset 12
 8310              		@ sp needed
 8311 001e 30BD     		pop	{r4, r5, pc}
 8312              	.LVL831:
 8313              	.L792:
 8314              		.cfi_restore_state
4546:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.fs = fs;
 8315              		.loc 1 4546 3 is_stmt 1 view .LVU3151
4546:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.fs = fs;
 8316              		.loc 1 4546 14 is_stmt 0 view .LVU3152
 8317 0020 039B     		ldr	r3, [sp, #12]
4548:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 8318              		.loc 1 4548 9 view .LVU3153
 8319 0022 0199     		ldr	r1, [sp, #4]
4546:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.fs = fs;
 8320              		.loc 1 4546 14 view .LVU3154
 8321 0024 2360     		str	r3, [r4]
4547:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
 8322              		.loc 1 4547 18 is_stmt 1 view .LVU3155
4548:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 8323              		.loc 1 4548 3 view .LVU3156
4548:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 8324              		.loc 1 4548 9 is_stmt 0 view .LVU3157
 8325 0026 2046     		mov	r0, r4
 8326              	.LVL832:
4548:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 8327              		.loc 1 4548 9 view .LVU3158
 8328 0028 FFF7FEFF 		bl	follow_path
 8329              	.LVL833:
4549:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
 8330              		.loc 1 4549 3 is_stmt 1 view .LVU3159
4549:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
 8331              		.loc 1 4549 6 is_stmt 0 view .LVU3160
 8332 002c 18BB     		cbnz	r0, .L773
4550:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (dp->obj.attr & AM_DIR) {		/* This object is a sub-directory */
 8333              		.loc 1 4550 4 is_stmt 1 view .LVU3161
4550:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (dp->obj.attr & AM_DIR) {		/* This object is a sub-directory */
 8334              		.loc 1 4550 7 is_stmt 0 view .LVU3162
 8335 002e 94F92B00 		ldrsb	r0, [r4, #43]
 8336              	.LVL834:
4550:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (dp->obj.attr & AM_DIR) {		/* This object is a sub-directory */
 8337              		.loc 1 4550 7 view .LVU3163
 8338 0032 0028     		cmp	r0, #0
 8339 0034 26DB     		blt	.L793
4551:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 8340              		.loc 1 4551 5 is_stmt 1 view .LVU3164
4551:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 8341              		.loc 1 4551 8 is_stmt 0 view .LVU3165
 8342 0036 A179     		ldrb	r1, [r4, #6]	@ zero_extendqisi2
 8343 0038 CB06     		lsls	r3, r1, #27
 8344 003a 1ED5     		bpl	.L778
4561:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 276


 8345              		.loc 1 4561 7 is_stmt 1 view .LVU3166
4561:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 8346              		.loc 1 4561 24 is_stmt 0 view .LVU3167
 8347 003c 039A     		ldr	r2, [sp, #12]
4561:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 8348              		.loc 1 4561 39 view .LVU3168
 8349 003e E169     		ldr	r1, [r4, #28]
 8350              	.LVL835:
 8351              	.LBB750:
 8352              	.LBI750:
1817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,			/* Pointer to the fs object */
 8353              		.loc 1 1817 14 is_stmt 1 view .LVU3169
 8354              	.LBB751:
1822:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 8355              		.loc 1 1822 2 view .LVU3170
1824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 8356              		.loc 1 1824 2 view .LVU3171
 8357              	.LBB752:
 8358              	.LBI752:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 8359              		.loc 1 614 13 view .LVU3172
 8360              	.LBB753:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 8361              		.loc 1 616 2 view .LVU3173
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 8362              		.loc 1 618 2 view .LVU3174
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 8363              		.loc 1 619 2 view .LVU3175
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8364              		.loc 1 620 2 view .LVU3176
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8365              		.loc 1 620 2 is_stmt 0 view .LVU3177
 8366              	.LBE753:
 8367              	.LBE752:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 8368              		.loc 1 1825 5 view .LVU3178
 8369 0040 1078     		ldrb	r0, [r2]	@ zero_extendqisi2
 8370              	.LBB755:
 8371              	.LBB754:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 8372              		.loc 1 619 10 view .LVU3179
 8373 0042 CD7E     		ldrb	r5, [r1, #27]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 8374              		.loc 1 619 20 view .LVU3180
 8375 0044 91F81AC0 		ldrb	ip, [r1, #26]	@ zero_extendqisi2
 8376              	.LBE754:
 8377              	.LBE755:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 8378              		.loc 1 1825 5 view .LVU3181
 8379 0048 0328     		cmp	r0, #3
1824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 8380              		.loc 1 1824 5 view .LVU3182
 8381 004a 4CEA0523 		orr	r3, ip, r5, lsl #8
 8382              	.LVL836:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 8383              		.loc 1 1825 2 is_stmt 1 view .LVU3183
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 277


 8384              		.loc 1 1825 5 is_stmt 0 view .LVU3184
 8385 004e 06D1     		bne	.L777
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 8386              		.loc 1 1826 3 is_stmt 1 view .LVU3185
 8387              	.LVL837:
 8388              	.LBB756:
 8389              	.LBI756:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 8390              		.loc 1 614 13 view .LVU3186
 8391              	.LBB757:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 8392              		.loc 1 616 2 view .LVU3187
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 8393              		.loc 1 618 2 view .LVU3188
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 8394              		.loc 1 619 2 view .LVU3189
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8395              		.loc 1 620 2 view .LVU3190
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 8396              		.loc 1 619 10 is_stmt 0 view .LVU3191
 8397 0050 4D7D     		ldrb	r5, [r1, #21]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 8398              		.loc 1 619 20 view .LVU3192
 8399 0052 91F814E0 		ldrb	lr, [r1, #20]	@ zero_extendqisi2
 8400              	.LBE757:
 8401              	.LBE756:
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 8402              		.loc 1 1826 9 view .LVU3193
 8403 0056 4EEA0521 		orr	r1, lr, r5, lsl #8
 8404              	.LVL838:
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 8405              		.loc 1 1826 6 view .LVU3194
 8406 005a 43EA0143 		orr	r3, r3, r1, lsl #16
 8407              	.LVL839:
 8408              	.L777:
1829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8409              		.loc 1 1829 2 is_stmt 1 view .LVU3195
1829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8410              		.loc 1 1829 2 is_stmt 0 view .LVU3196
 8411              	.LBE751:
 8412              	.LBE750:
4561:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 8413              		.loc 1 4561 22 view .LVU3197
 8414 005e A360     		str	r3, [r4, #8]
 8415              	.LVL840:
 8416              	.L775:
4567:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				dp->obj.id = fs->id;
 8417              		.loc 1 4567 4 is_stmt 1 view .LVU3198
4568:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 8418              		.loc 1 4568 5 view .LVU3199
4568:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 8419              		.loc 1 4568 16 is_stmt 0 view .LVU3200
 8420 0060 D288     		ldrh	r2, [r2, #6]
 8421 0062 A280     		strh	r2, [r4, #4]	@ movhi
4569:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
 8422              		.loc 1 4569 5 is_stmt 1 view .LVU3201
4569:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 278


 8423              		.loc 1 4569 11 is_stmt 0 view .LVU3202
 8424 0064 2046     		mov	r0, r4
 8425 0066 FFF7FEFF 		bl	dir_sdi.constprop.0
 8426              	.LVL841:
4582:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
 8427              		.loc 1 4582 16 is_stmt 1 view .LVU3203
4583:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 8428              		.loc 1 4583 3 view .LVU3204
4583:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 8429              		.loc 1 4583 6 is_stmt 0 view .LVU3205
 8430 006a 0428     		cmp	r0, #4
 8431 006c 05D0     		beq	.L778
4585:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 8432              		.loc 1 4585 2 is_stmt 1 view .LVU3206
4585:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 8433              		.loc 1 4585 5 is_stmt 0 view .LVU3207
 8434 006e 0028     		cmp	r0, #0
 8435 0070 D2D1     		bne	.L772
 8436              		.loc 1 4588 1 view .LVU3208
 8437 0072 05B0     		add	sp, sp, #20
 8438              		.cfi_remember_state
 8439              		.cfi_def_cfa_offset 12
 8440              		@ sp needed
 8441 0074 30BD     		pop	{r4, r5, pc}
 8442              	.LVL842:
 8443              	.L773:
 8444              		.cfi_restore_state
4582:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
 8445              		.loc 1 4582 16 is_stmt 1 view .LVU3209
4583:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 8446              		.loc 1 4583 3 view .LVU3210
4583:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 8447              		.loc 1 4583 6 is_stmt 0 view .LVU3211
 8448 0076 0428     		cmp	r0, #4
 8449 0078 CED1     		bne	.L772
 8450              	.LVL843:
 8451              	.L778:
4564:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 8452              		.loc 1 4564 10 view .LVU3212
 8453 007a 0520     		movs	r0, #5
 8454 007c CCE7     		b	.L772
 8455              	.LVL844:
 8456              	.L779:
4541:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 8457              		.loc 1 4541 18 view .LVU3213
 8458 007e 0920     		movs	r0, #9
 8459              	.LVL845:
 8460              		.loc 1 4588 1 view .LVU3214
 8461 0080 05B0     		add	sp, sp, #20
 8462              		.cfi_remember_state
 8463              		.cfi_def_cfa_offset 12
 8464              		@ sp needed
 8465 0082 30BD     		pop	{r4, r5, pc}
 8466              	.LVL846:
 8467              	.L793:
 8468              		.cfi_restore_state
 8469              		.loc 1 4588 1 view .LVU3215
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 279


 8470 0084 039A     		ldr	r2, [sp, #12]
 8471 0086 EBE7     		b	.L775
 8472              		.cfi_endproc
 8473              	.LFE39:
 8475              		.section	.text.f_closedir,"ax",%progbits
 8476              		.align	1
 8477              		.p2align 2,,3
 8478              		.global	f_closedir
 8479              		.syntax unified
 8480              		.thumb
 8481              		.thumb_func
 8482              		.fpu fpv4-sp-d16
 8484              	f_closedir:
 8485              	.LVL847:
 8486              	.LFB40:
4589:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4590:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4591:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4592:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4593:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4594:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Close Directory                                                       */
4595:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4596:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4597:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_closedir (
4598:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR *dp		/* Pointer to the directory object to be closed */
4599:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
4600:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 8487              		.loc 1 4600 1 is_stmt 1 view -0
 8488              		.cfi_startproc
 8489              		@ args = 0, pretend = 0, frame = 8
 8490              		@ frame_needed = 0, uses_anonymous_args = 0
4601:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 8491              		.loc 1 4601 2 view .LVU3217
4602:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
 8492              		.loc 1 4602 2 view .LVU3218
4603:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4604:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4605:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = validate(&dp->obj, &fs);	/* Check validity of the file object */
 8493              		.loc 1 4605 2 view .LVU3219
4600:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 8494              		.loc 1 4600 1 is_stmt 0 view .LVU3220
 8495 0000 10B5     		push	{r4, lr}
 8496              		.cfi_def_cfa_offset 8
 8497              		.cfi_offset 4, -8
 8498              		.cfi_offset 14, -4
 8499 0002 82B0     		sub	sp, sp, #8
 8500              		.cfi_def_cfa_offset 16
 8501              		.loc 1 4605 8 view .LVU3221
 8502 0004 01A9     		add	r1, sp, #4
4600:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 8503              		.loc 1 4600 1 view .LVU3222
 8504 0006 0446     		mov	r4, r0
 8505              		.loc 1 4605 8 view .LVU3223
 8506 0008 FFF7FEFF 		bl	validate
 8507              	.LVL848:
4606:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
 8508              		.loc 1 4606 2 is_stmt 1 view .LVU3224
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 280


 8509              		.loc 1 4606 5 is_stmt 0 view .LVU3225
 8510 000c 00B9     		cbnz	r0, .L795
4607:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
4608:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (dp->obj.lockid) res = dec_lock(dp->obj.lockid);	/* Decrement sub-directory open counter */
4609:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) dp->obj.fs = 0;	/* Invalidate directory object */
4610:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
4611:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dp->obj.fs = 0;	/* Invalidate directory object */
 8511              		.loc 1 4611 3 is_stmt 1 view .LVU3226
 8512              		.loc 1 4611 14 is_stmt 0 view .LVU3227
 8513 000e 2060     		str	r0, [r4]
 8514              	.L795:
4612:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4613:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_REENTRANT
4614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		unlock_fs(fs, FR_OK);		/* Unlock volume */
4615:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
4617:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
 8515              		.loc 1 4617 2 is_stmt 1 view .LVU3228
4618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8516              		.loc 1 4618 1 is_stmt 0 view .LVU3229
 8517 0010 02B0     		add	sp, sp, #8
 8518              		.cfi_def_cfa_offset 8
 8519              		@ sp needed
 8520 0012 10BD     		pop	{r4, pc}
 8521              		.loc 1 4618 1 view .LVU3230
 8522              		.cfi_endproc
 8523              	.LFE40:
 8525              		.section	.text.f_readdir,"ax",%progbits
 8526              		.align	1
 8527              		.p2align 2,,3
 8528              		.global	f_readdir
 8529              		.syntax unified
 8530              		.thumb
 8531              		.thumb_func
 8532              		.fpu fpv4-sp-d16
 8534              	f_readdir:
 8535              	.LVL849:
 8536              	.LFB41:
4619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4621:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4622:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4624:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Read Directory Entries in Sequence                                    */
4625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4626:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_readdir (
4628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,			/* Pointer to the open directory object */
4629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
4631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 8537              		.loc 1 4631 1 is_stmt 1 view -0
 8538              		.cfi_startproc
 8539              		@ args = 0, pretend = 0, frame = 8
 8540              		@ frame_needed = 0, uses_anonymous_args = 0
4632:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 8541              		.loc 1 4632 2 view .LVU3232
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 281


4633:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
 8542              		.loc 1 4633 2 view .LVU3233
4634:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DEF_NAMBUF
4635:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4636:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4637:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = validate(&dp->obj, &fs);	/* Check validity of the directory object */
 8543              		.loc 1 4637 2 view .LVU3234
4631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 8544              		.loc 1 4631 1 is_stmt 0 view .LVU3235
 8545 0000 30B5     		push	{r4, r5, lr}
 8546              		.cfi_def_cfa_offset 12
 8547              		.cfi_offset 4, -12
 8548              		.cfi_offset 5, -8
 8549              		.cfi_offset 14, -4
 8550 0002 83B0     		sub	sp, sp, #12
 8551              		.cfi_def_cfa_offset 24
4631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 8552              		.loc 1 4631 1 view .LVU3236
 8553 0004 0D46     		mov	r5, r1
 8554              		.loc 1 4637 8 view .LVU3237
 8555 0006 01A9     		add	r1, sp, #4
 8556              	.LVL850:
4631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 8557              		.loc 1 4631 1 view .LVU3238
 8558 0008 0446     		mov	r4, r0
 8559              		.loc 1 4637 8 view .LVU3239
 8560 000a FFF7FEFF 		bl	validate
 8561              	.LVL851:
4638:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
 8562              		.loc 1 4638 2 is_stmt 1 view .LVU3240
 8563              		.loc 1 4638 5 is_stmt 0 view .LVU3241
 8564 000e A8B9     		cbnz	r0, .L798
4639:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!fno) {
 8565              		.loc 1 4639 3 is_stmt 1 view .LVU3242
4640:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 8566              		.loc 1 4640 10 is_stmt 0 view .LVU3243
 8567 0010 2046     		mov	r0, r4
 8568              	.LVL852:
4639:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (!fno) {
 8569              		.loc 1 4639 6 view .LVU3244
 8570 0012 ADB1     		cbz	r5, .L805
4641:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {
4642:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			INIT_NAMBUF(fs);
 8571              		.loc 1 4642 19 is_stmt 1 view .LVU3245
4643:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = DIR_READ_FILE(dp);		/* Read an item */
 8572              		.loc 1 4643 4 view .LVU3246
 8573              		.loc 1 4643 10 is_stmt 0 view .LVU3247
 8574 0014 FFF7FEFF 		bl	dir_read.constprop.0
 8575              	.LVL853:
4644:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 8576              		.loc 1 4644 4 is_stmt 1 view .LVU3248
4645:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
 8577              		.loc 1 4645 4 view .LVU3249
 8578              		.loc 1 4645 7 is_stmt 0 view .LVU3250
 8579 0018 10F0FB03 		ands	r3, r0, #251
 8580 001c 0ED1     		bne	.L798
 8581              	.LVL854:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 282


4646:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 8582              		.loc 1 4646 5 is_stmt 1 view .LVU3251
 8583 001e A269     		ldr	r2, [r4, #24]
 8584              	.LVL855:
 8585              	.LBB758:
 8586              	.LBI758:
2586:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
 8587              		.loc 1 2586 13 view .LVU3252
 8588              	.LBB759:
2591:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN
 8589              		.loc 1 2591 2 view .LVU3253
2598:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 8590              		.loc 1 2598 2 view .LVU3254
2602:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->sect == 0) return;	/* Exit if read pointer has reached end of directory */
 8591              		.loc 1 2602 2 view .LVU3255
2602:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->sect == 0) return;	/* Exit if read pointer has reached end of directory */
 8592              		.loc 1 2602 16 is_stmt 0 view .LVU3256
 8593 0020 6B72     		strb	r3, [r5, #9]
2603:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 8594              		.loc 1 2603 2 is_stmt 1 view .LVU3257
2603:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 8595              		.loc 1 2603 5 is_stmt 0 view .LVU3258
 8596 0022 22B1     		cbz	r2, .L800
 8597 0024 2946     		mov	r1, r5
 8598 0026 04F11C00 		add	r0, r4, #28
 8599 002a FFF7FEFF 		bl	get_fileinfo.isra.0.part.0
 8600              	.LVL856:
 8601              	.L800:
2603:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 8602              		.loc 1 2603 5 view .LVU3259
 8603              	.LBE759:
 8604              	.LBE758:
4647:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
 8605              		.loc 1 4647 5 is_stmt 1 view .LVU3260
 8606              		.loc 1 4647 11 is_stmt 0 view .LVU3261
 8607 002e 2046     		mov	r0, r4
 8608 0030 0021     		movs	r1, #0
 8609 0032 FFF7FEFF 		bl	dir_next
 8610              	.LVL857:
4648:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 8611              		.loc 1 4648 5 is_stmt 1 view .LVU3262
 8612              		.loc 1 4648 32 is_stmt 0 view .LVU3263
 8613 0036 0428     		cmp	r0, #4
 8614 0038 08BF     		it	eq
 8615 003a 0020     		moveq	r0, #0
 8616              	.LVL858:
 8617              	.L798:
4649:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4650:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			FREE_NAMBUF();
 8618              		.loc 1 4650 17 is_stmt 1 view .LVU3264
4651:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
4653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, res);
 8619              		.loc 1 4653 2 view .LVU3265
4654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8620              		.loc 1 4654 1 is_stmt 0 view .LVU3266
 8621 003c 03B0     		add	sp, sp, #12
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 283


 8622              		.cfi_remember_state
 8623              		.cfi_def_cfa_offset 12
 8624              		@ sp needed
 8625 003e 30BD     		pop	{r4, r5, pc}
 8626              	.LVL859:
 8627              	.L805:
 8628              		.cfi_restore_state
4640:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {
 8629              		.loc 1 4640 4 is_stmt 1 view .LVU3267
4640:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {
 8630              		.loc 1 4640 10 is_stmt 0 view .LVU3268
 8631 0040 FFF7FEFF 		bl	dir_sdi.constprop.0
 8632              	.LVL860:
4650:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
 8633              		.loc 1 4650 17 is_stmt 1 view .LVU3269
4653:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8634              		.loc 1 4653 2 view .LVU3270
 8635              		.loc 1 4654 1 is_stmt 0 view .LVU3271
 8636 0044 03B0     		add	sp, sp, #12
 8637              		.cfi_def_cfa_offset 12
 8638              		@ sp needed
 8639 0046 30BD     		pop	{r4, r5, pc}
 8640              		.loc 1 4654 1 view .LVU3272
 8641              		.cfi_endproc
 8642              	.LFE41:
 8644              		.section	.text.f_stat,"ax",%progbits
 8645              		.align	1
 8646              		.p2align 2,,3
 8647              		.global	f_stat
 8648              		.syntax unified
 8649              		.thumb
 8650              		.thumb_func
 8651              		.fpu fpv4-sp-d16
 8653              	f_stat:
 8654              	.LVL861:
 8655              	.LFB42:
4655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4656:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4657:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_FIND
4659:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Find Next File                                                        */
4661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_findnext (
4664:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,		/* Pointer to the open directory object */
4665:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FILINFO* fno	/* Pointer to the file information structure */
4666:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
4667:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
4668:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
4669:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4670:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4671:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	for (;;) {
4672:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = f_readdir(dp, fno);		/* Get a directory item */
4673:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK || !fno || !fno->fname[0]) break;	/* Terminate if any error or end of directory 
4674:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (pattern_match(dp->pat, fno->fname, 0, FIND_RECURS)) break;		/* Test for the file name */
4675:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN && FF_USE_FIND == 2
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 284


4676:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (pattern_match(dp->pat, fno->altname, 0, FIND_RECURS)) break;	/* Test for alternative name if 
4677:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4678:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
4679:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
4680:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
4681:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4682:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4683:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4684:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4685:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Find First File                                                       */
4686:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4687:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4688:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_findfirst (
4689:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,				/* Pointer to the blank directory object */
4690:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FILINFO* fno,			/* Pointer to the file information structure */
4691:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR* path,		/* Pointer to the directory to open */
4692:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR* pattern	/* Pointer to the matching pattern */
4693:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
4694:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
4695:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
4696:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4697:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4698:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	dp->pat = pattern;		/* Save pointer to pattern string */
4699:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = f_opendir(dp, path);		/* Open the target directory */
4700:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
4701:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = f_findnext(dp, fno);	/* Find the first item */
4702:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
4703:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return res;
4704:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
4705:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4706:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif	/* FF_USE_FIND */
4707:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4708:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4709:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4710:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_MINIMIZE == 0
4711:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4712:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Get File Status                                                       */
4713:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4714:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4715:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_stat (
4716:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
4717:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4718:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
4719:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 8656              		.loc 1 4719 1 is_stmt 1 view -0
 8657              		.cfi_startproc
 8658              		@ args = 0, pretend = 0, frame = 56
 8659              		@ frame_needed = 0, uses_anonymous_args = 0
4720:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 8660              		.loc 1 4720 2 view .LVU3274
4721:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR dj;
 8661              		.loc 1 4721 2 view .LVU3275
4722:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DEF_NAMBUF
4723:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4724:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4725:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Get logical drive */
4726:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = mount_volume(&path, &dj.obj.fs, 0);
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 285


 8662              		.loc 1 4726 2 view .LVU3276
4719:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 8663              		.loc 1 4719 1 is_stmt 0 view .LVU3277
 8664 0000 30B5     		push	{r4, r5, lr}
 8665              		.cfi_def_cfa_offset 12
 8666              		.cfi_offset 4, -12
 8667              		.cfi_offset 5, -8
 8668              		.cfi_offset 14, -4
 8669 0002 8FB0     		sub	sp, sp, #60
 8670              		.cfi_def_cfa_offset 72
4719:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 8671              		.loc 1 4719 1 view .LVU3278
 8672 0004 0D46     		mov	r5, r1
 8673 0006 0190     		str	r0, [sp, #4]
 8674              		.loc 1 4726 8 view .LVU3279
 8675 0008 0022     		movs	r2, #0
 8676 000a 03A9     		add	r1, sp, #12
 8677              	.LVL862:
 8678              		.loc 1 4726 8 view .LVU3280
 8679 000c 01A8     		add	r0, sp, #4
 8680              	.LVL863:
 8681              		.loc 1 4726 8 view .LVU3281
 8682 000e FFF7FEFF 		bl	mount_volume
 8683              	.LVL864:
4727:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
 8684              		.loc 1 4727 2 is_stmt 1 view .LVU3282
 8685              		.loc 1 4727 5 is_stmt 0 view .LVU3283
 8686 0012 0446     		mov	r4, r0
 8687 0014 10B1     		cbz	r0, .L815
 8688              	.LVL865:
 8689              	.L807:
4728:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
4729:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4730:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
4731:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
4732:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_INVALID_NAME;
4733:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {							/* Found an object */
4734:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
4735:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4736:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4737:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		FREE_NAMBUF();
 8690              		.loc 1 4737 16 is_stmt 1 view .LVU3284
4738:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
4739:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4740:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(dj.obj.fs, res);
 8691              		.loc 1 4740 2 view .LVU3285
4741:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8692              		.loc 1 4741 1 is_stmt 0 view .LVU3286
 8693 0016 2046     		mov	r0, r4
 8694 0018 0FB0     		add	sp, sp, #60
 8695              		.cfi_remember_state
 8696              		.cfi_def_cfa_offset 12
 8697              		@ sp needed
 8698 001a 30BD     		pop	{r4, r5, pc}
 8699              	.LVL866:
 8700              	.L815:
 8701              		.cfi_restore_state
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 286


4728:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
 8702              		.loc 1 4728 25 is_stmt 1 view .LVU3287
4729:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 8703              		.loc 1 4729 3 view .LVU3288
4729:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 8704              		.loc 1 4729 9 is_stmt 0 view .LVU3289
 8705 001c 0199     		ldr	r1, [sp, #4]
 8706 001e 03A8     		add	r0, sp, #12
 8707              	.LVL867:
4729:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 8708              		.loc 1 4729 9 view .LVU3290
 8709 0020 FFF7FEFF 		bl	follow_path
 8710              	.LVL868:
4730:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
 8711              		.loc 1 4730 3 is_stmt 1 view .LVU3291
4730:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
 8712              		.loc 1 4730 6 is_stmt 0 view .LVU3292
 8713 0024 0446     		mov	r4, r0
 8714 0026 0028     		cmp	r0, #0
 8715 0028 F5D1     		bne	.L807
4731:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_INVALID_NAME;
 8716              		.loc 1 4731 4 is_stmt 1 view .LVU3293
4731:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_INVALID_NAME;
 8717              		.loc 1 4731 7 is_stmt 0 view .LVU3294
 8718 002a 9DF93730 		ldrsb	r3, [sp, #55]
 8719 002e 002B     		cmp	r3, #0
 8720 0030 0ADB     		blt	.L810
4734:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 8721              		.loc 1 4734 5 is_stmt 1 view .LVU3295
4734:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 8722              		.loc 1 4734 8 is_stmt 0 view .LVU3296
 8723 0032 002D     		cmp	r5, #0
 8724 0034 EFD0     		beq	.L807
4734:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 8725              		.loc 1 4734 14 is_stmt 1 discriminator 1 view .LVU3297
 8726 0036 0998     		ldr	r0, [sp, #36]
 8727              	.LVL869:
 8728              	.LBB760:
 8729              	.LBI760:
2586:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
 8730              		.loc 1 2586 13 discriminator 1 view .LVU3298
 8731              	.LBB761:
2591:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_USE_LFN
 8732              		.loc 1 2591 2 discriminator 1 view .LVU3299
2598:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 8733              		.loc 1 2598 2 discriminator 1 view .LVU3300
2602:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->sect == 0) return;	/* Exit if read pointer has reached end of directory */
 8734              		.loc 1 2602 2 discriminator 1 view .LVU3301
2602:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (dp->sect == 0) return;	/* Exit if read pointer has reached end of directory */
 8735              		.loc 1 2602 16 is_stmt 0 discriminator 1 view .LVU3302
 8736 0038 6C72     		strb	r4, [r5, #9]
2603:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 8737              		.loc 1 2603 2 is_stmt 1 discriminator 1 view .LVU3303
2603:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 8738              		.loc 1 2603 5 is_stmt 0 discriminator 1 view .LVU3304
 8739 003a 0028     		cmp	r0, #0
 8740 003c EBD0     		beq	.L807
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 287


 8741 003e 2946     		mov	r1, r5
 8742 0040 0AA8     		add	r0, sp, #40
 8743 0042 FFF7FEFF 		bl	get_fileinfo.isra.0.part.0
 8744              	.LVL870:
 8745 0046 E6E7     		b	.L807
 8746              	.LVL871:
 8747              	.L810:
2603:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 8748              		.loc 1 2603 5 discriminator 1 view .LVU3305
 8749              	.LBE761:
 8750              	.LBE760:
4732:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {							/* Found an object */
 8751              		.loc 1 4732 9 view .LVU3306
 8752 0048 0624     		movs	r4, #6
 8753 004a E4E7     		b	.L807
 8754              		.cfi_endproc
 8755              	.LFE42:
 8757              		.section	.text.f_getfree,"ax",%progbits
 8758              		.align	1
 8759              		.p2align 2,,3
 8760              		.global	f_getfree
 8761              		.syntax unified
 8762              		.thumb
 8763              		.thumb_func
 8764              		.fpu fpv4-sp-d16
 8766              	f_getfree:
 8767              	.LVL872:
 8768              	.LFB43:
4742:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4743:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4744:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4745:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
4746:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4747:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Get Number of Free Clusters                                           */
4748:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4749:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4750:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_getfree (
4751:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR* path,	/* Logical drive number */
4752:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD* nclst,		/* Pointer to a variable to return number of free clusters */
4753:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS** fatfs		/* Pointer to return pointer to corresponding filesystem object */
4754:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
4755:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 8769              		.loc 1 4755 1 is_stmt 1 view -0
 8770              		.cfi_startproc
 8771              		@ args = 0, pretend = 0, frame = 16
 8772              		@ frame_needed = 0, uses_anonymous_args = 0
4756:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 8773              		.loc 1 4756 2 view .LVU3308
4757:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
 8774              		.loc 1 4757 2 view .LVU3309
4758:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD nfree, clst, stat;
 8775              		.loc 1 4758 2 view .LVU3310
4759:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t sect;
 8776              		.loc 1 4759 2 view .LVU3311
4760:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	UINT i;
 8777              		.loc 1 4760 2 view .LVU3312
4761:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FFOBJID obj;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 288


 8778              		.loc 1 4761 2 view .LVU3313
4762:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4763:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4764:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Get logical drive */
4765:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = mount_volume(&path, &fs, 0);
 8779              		.loc 1 4765 2 view .LVU3314
4755:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 8780              		.loc 1 4755 1 is_stmt 0 view .LVU3315
 8781 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 8782              		.cfi_def_cfa_offset 32
 8783              		.cfi_offset 4, -32
 8784              		.cfi_offset 5, -28
 8785              		.cfi_offset 6, -24
 8786              		.cfi_offset 7, -20
 8787              		.cfi_offset 8, -16
 8788              		.cfi_offset 9, -12
 8789              		.cfi_offset 10, -8
 8790              		.cfi_offset 14, -4
 8791 0004 84B0     		sub	sp, sp, #16
 8792              		.cfi_def_cfa_offset 48
4755:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 8793              		.loc 1 4755 1 view .LVU3316
 8794 0006 0F46     		mov	r7, r1
 8795 0008 0190     		str	r0, [sp, #4]
 8796 000a 1446     		mov	r4, r2
 8797              		.loc 1 4765 8 view .LVU3317
 8798 000c 03A9     		add	r1, sp, #12
 8799              	.LVL873:
 8800              		.loc 1 4765 8 view .LVU3318
 8801 000e 0022     		movs	r2, #0
 8802              	.LVL874:
 8803              		.loc 1 4765 8 view .LVU3319
 8804 0010 01A8     		add	r0, sp, #4
 8805              	.LVL875:
 8806              		.loc 1 4765 8 view .LVU3320
 8807 0012 FFF7FEFF 		bl	mount_volume
 8808              	.LVL876:
4766:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
 8809              		.loc 1 4766 2 is_stmt 1 view .LVU3321
 8810              		.loc 1 4766 5 is_stmt 0 view .LVU3322
 8811 0016 0646     		mov	r6, r0
 8812 0018 40B9     		cbnz	r0, .L833
4767:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
 8813              		.loc 1 4767 3 is_stmt 1 view .LVU3323
 8814              		.loc 1 4767 10 is_stmt 0 view .LVU3324
 8815 001a 039D     		ldr	r5, [sp, #12]
 8816 001c 2560     		str	r5, [r4]
4768:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		/* If free_clst is valid, return it without full FAT scan */
4769:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) {
 8817              		.loc 1 4769 3 is_stmt 1 view .LVU3325
 8818              		.loc 1 4769 9 is_stmt 0 view .LVU3326
 8819 001e D5E90439 		ldrd	r3, r9, [r5, #16]
 8820              		.loc 1 4769 37 view .LVU3327
 8821 0022 A9F10202 		sub	r2, r9, #2
 8822              		.loc 1 4769 6 view .LVU3328
 8823 0026 9342     		cmp	r3, r2
 8824 0028 04D8     		bhi	.L818
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 289


4770:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			*nclst = fs->free_clst;
 8825              		.loc 1 4770 4 is_stmt 1 view .LVU3329
 8826              		.loc 1 4770 11 is_stmt 0 view .LVU3330
 8827 002a 3B60     		str	r3, [r7]
 8828              	.LVL877:
 8829              	.L833:
4771:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {
4772:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			/* Scan FAT to obtain number of free clusters */
4773:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			nfree = 0;
4774:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Scan bit field FAT entries */
4775:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				clst = 2; obj.fs = fs;
4776:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				do {
4777:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					stat = get_fat(&obj, clst);
4778:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
4779:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
4780:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (stat == 0) nfree++;
4781:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} while (++clst < fs->n_fatent);
4782:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
4783:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
4784:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* exFAT: Scan allocation bitmap */
4785:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					BYTE bm;
4786:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					UINT b;
4787:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4788:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = fs->n_fatent - 2;	/* Number of clusters */
4789:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					sect = fs->bitbase;			/* Bitmap sector */
4790:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					i = 0;						/* Offset in the sector */
4791:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					do {	/* Counts numbuer of bits with zero in the bitmap */
4792:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (i == 0) {
4793:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							res = move_window(fs, sect++);
4794:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res != FR_OK) break;
4795:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
4796:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						for (b = 8, bm = fs->win[i]; b && clst; b--, clst--) {
4797:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (!(bm & 1)) nfree++;
4798:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							bm >>= 1;
4799:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
4800:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						i = (i + 1) % SS(fs);
4801:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} while (clst);
4802:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} else
4803:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4804:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				{	/* FAT16/32: Scan WORD/DWORD FAT entries */
4805:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					clst = fs->n_fatent;	/* Number of entries */
4806:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					sect = fs->fatbase;		/* Top of the FAT */
4807:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					i = 0;					/* Offset in the sector */
4808:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					do {	/* Counts numbuer of entries with zero in the FAT */
4809:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (i == 0) {
4810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							res = move_window(fs, sect++);
4811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res != FR_OK) break;
4812:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
4813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (fs->fs_type == FS_FAT16) {
4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (ld_word(fs->win + i) == 0) nfree++;
4815:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
4816:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						} else {
4817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if ((ld_dword(fs->win + i) & 0x0FFFFFFF) == 0) nfree++;
4818:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 4;
4819:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
4820:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						i %= SS(fs);
4821:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} while (--clst);
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 290


4822:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4823:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_OK) {		/* Update parameters if succeeded */
4825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				*nclst = nfree;			/* Return the free clusters */
4826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->free_clst = nfree;	/* Now free_clst is valid */
4827:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->fsi_flag |= 1;		/* FAT32: FSInfo is to be updated */
4828:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4830:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
4831:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4832:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, res);
4833:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8830              		.loc 1 4833 1 view .LVU3331
 8831 002c 3046     		mov	r0, r6
 8832 002e 04B0     		add	sp, sp, #16
 8833              		.cfi_remember_state
 8834              		.cfi_def_cfa_offset 32
 8835              		@ sp needed
 8836 0030 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 8837              	.LVL878:
 8838              	.L818:
 8839              		.cfi_restore_state
4773:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Scan bit field FAT entries */
 8840              		.loc 1 4773 4 is_stmt 1 view .LVU3332
4774:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				clst = 2; obj.fs = fs;
 8841              		.loc 1 4774 4 view .LVU3333
4774:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				clst = 2; obj.fs = fs;
 8842              		.loc 1 4774 10 is_stmt 0 view .LVU3334
 8843 0034 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 8844              	.LVL879:
4774:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				clst = 2; obj.fs = fs;
 8845              		.loc 1 4774 7 view .LVU3335
 8846 0036 0128     		cmp	r0, #1
 8847 0038 26D0     		beq	.L865
4805:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					sect = fs->fatbase;		/* Top of the FAT */
 8848              		.loc 1 4805 6 is_stmt 1 view .LVU3336
 8849              	.LVL880:
4806:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					i = 0;					/* Offset in the sector */
 8850              		.loc 1 4806 6 view .LVU3337
 8851 003a 19F0010F 		tst	r9, #1
4806:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					i = 0;					/* Offset in the sector */
 8852              		.loc 1 4806 11 is_stmt 0 view .LVU3338
 8853 003e 296A     		ldr	r1, [r5, #32]
 8854              	.LVL881:
4807:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					do {	/* Counts numbuer of entries with zero in the FAT */
 8855              		.loc 1 4807 6 is_stmt 1 view .LVU3339
4807:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					do {	/* Counts numbuer of entries with zero in the FAT */
 8856              		.loc 1 4807 8 is_stmt 0 view .LVU3340
 8857 0040 3446     		mov	r4, r6
 8858              	.LVL882:
4773:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Scan bit field FAT entries */
 8859              		.loc 1 4773 10 view .LVU3341
 8860 0042 B046     		mov	r8, r6
 8861 0044 51D0     		beq	.L828
 8862              	.LVL883:
4808:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (i == 0) {
 8863              		.loc 1 4808 6 is_stmt 1 view .LVU3342
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 291


4809:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							res = move_window(fs, sect++);
 8864              		.loc 1 4809 7 view .LVU3343
4810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res != FR_OK) break;
 8865              		.loc 1 4810 8 view .LVU3344
 8866              	.LBB762:
 8867              	.LBB763:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 8868              		.loc 1 1055 5 is_stmt 0 view .LVU3345
 8869 0046 EB6A     		ldr	r3, [r5, #44]
 8870 0048 9942     		cmp	r1, r3
 8871              	.LBE763:
 8872              	.LBE762:
4810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res != FR_OK) break;
 8873              		.loc 1 4810 14 view .LVU3346
 8874 004a 01F10104 		add	r4, r1, #1
 8875              	.LVL884:
 8876              	.LBB770:
 8877              	.LBI762:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 8878              		.loc 1 1047 16 is_stmt 1 view .LVU3347
 8879              	.LBB764:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 8880              		.loc 1 1052 2 view .LVU3348
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 8881              		.loc 1 1055 2 view .LVU3349
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 8882              		.loc 1 1055 5 is_stmt 0 view .LVU3350
 8883 004e 06D0     		beq	.L863
 8884 0050 2846     		mov	r0, r5
 8885 0052 FFF7FEFF 		bl	move_window.part.0
 8886              	.LVL885:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8887              		.loc 1 1067 2 is_stmt 1 view .LVU3351
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8888              		.loc 1 1067 2 is_stmt 0 view .LVU3352
 8889              	.LBE764:
 8890              	.LBE770:
4811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 8891              		.loc 1 4811 8 is_stmt 1 view .LVU3353
4811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 8892              		.loc 1 4811 11 is_stmt 0 view .LVU3354
 8893 0056 0028     		cmp	r0, #0
 8894 0058 40F09F80 		bne	.L832
 8895 005c 039D     		ldr	r5, [sp, #12]
 8896              	.LVL886:
 8897              	.L863:
4813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (ld_word(fs->win + i) == 0) nfree++;
 8898              		.loc 1 4813 10 view .LVU3355
 8899 005e 2A78     		ldrb	r2, [r5]	@ zero_extendqisi2
 8900 0060 022A     		cmp	r2, #2
4810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res != FR_OK) break;
 8901              		.loc 1 4810 14 view .LVU3356
 8902 0062 2146     		mov	r1, r4
 8903              	.LVL887:
4813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (ld_word(fs->win + i) == 0) nfree++;
 8904              		.loc 1 4813 7 is_stmt 1 view .LVU3357
4813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (ld_word(fs->win + i) == 0) nfree++;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 292


 8905              		.loc 1 4813 10 is_stmt 0 view .LVU3358
 8906 0064 00F09D80 		beq	.L853
4817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 4;
 8907              		.loc 1 4817 8 is_stmt 1 view .LVU3359
 8908              	.LVL888:
 8909              	.LBB771:
 8910              	.LBI771:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 8911              		.loc 1 623 14 view .LVU3360
 8912              	.LBB772:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 8913              		.loc 1 625 2 view .LVU3361
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 8914              		.loc 1 627 2 view .LVU3362
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 8915              		.loc 1 628 2 view .LVU3363
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 8916              		.loc 1 629 2 view .LVU3364
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 8917              		.loc 1 630 2 view .LVU3365
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 8918              		.loc 1 631 2 view .LVU3366
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 8919              		.loc 1 628 5 is_stmt 0 view .LVU3367
 8920 0068 688E     		ldrh	r0, [r5, #50]	@ unaligned
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 8921              		.loc 1 629 20 view .LVU3368
 8922 006a 95F83140 		ldrb	r4, [r5, #49]	@ zero_extendqisi2
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 8923              		.loc 1 630 20 view .LVU3369
 8924 006e 95F830A0 		ldrb	r10, [r5, #48]	@ zero_extendqisi2
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 8925              		.loc 1 629 5 view .LVU3370
 8926 0072 44EA0023 		orr	r3, r4, r0, lsl #8
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 8927              		.loc 1 630 5 view .LVU3371
 8928 0076 4AEA0322 		orr	r2, r10, r3, lsl #8
 8929              	.LBE772:
 8930              	.LBE771:
4817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 4;
 8931              		.loc 1 4817 11 view .LVU3372
 8932 007a 32F07043 		bics	r3, r2, #-268435456
 8933 007e 01D1     		bne	.L839
4817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 4;
 8934              		.loc 1 4817 55 is_stmt 1 view .LVU3373
4817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 4;
 8935              		.loc 1 4817 60 is_stmt 0 view .LVU3374
 8936 0080 4FF00108 		mov	r8, #1
 8937              	.LVL889:
 8938              	.L839:
4818:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 8939              		.loc 1 4818 8 is_stmt 1 view .LVU3375
4818:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 8940              		.loc 1 4818 10 is_stmt 0 view .LVU3376
 8941 0084 0424     		movs	r4, #4
 8942              	.LVL890:
4818:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 293


 8943              		.loc 1 4818 10 view .LVU3377
 8944 0086 2BE0     		b	.L860
 8945              	.LVL891:
 8946              	.L865:
4775:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				do {
 8947              		.loc 1 4775 10 view .LVU3378
 8948 0088 0224     		movs	r4, #2
 8949              	.LVL892:
4773:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Scan bit field FAT entries */
 8950              		.loc 1 4773 10 view .LVU3379
 8951 008a B046     		mov	r8, r6
 8952 008c 09E0     		b	.L821
 8953              	.LVL893:
 8954              	.L867:
4779:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (stat == 0) nfree++;
 8955              		.loc 1 4779 9 view .LVU3380
 8956 008e 0128     		cmp	r0, #1
 8957 0090 00F08580 		beq	.L830
4780:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} while (++clst < fs->n_fatent);
 8958              		.loc 1 4780 9 view .LVU3381
 8959 0094 08B9     		cbnz	r0, .L820
4780:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} while (++clst < fs->n_fatent);
 8960              		.loc 1 4780 26 discriminator 1 view .LVU3382
 8961 0096 08F10108 		add	r8, r8, #1
 8962              	.LVL894:
 8963              	.L820:
4781:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
 8964              		.loc 1 4781 13 is_stmt 1 view .LVU3383
4781:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
 8965              		.loc 1 4781 25 is_stmt 0 view .LVU3384
 8966 009a 0399     		ldr	r1, [sp, #12]
4781:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
 8967              		.loc 1 4781 5 view .LVU3385
 8968 009c 4A69     		ldr	r2, [r1, #20]
 8969 009e A242     		cmp	r2, r4
 8970 00a0 56D9     		bls	.L866
 8971              	.LVL895:
 8972              	.L821:
4776:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					stat = get_fat(&obj, clst);
 8973              		.loc 1 4776 5 is_stmt 1 view .LVU3386
4777:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 8974              		.loc 1 4777 6 view .LVU3387
4777:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 8975              		.loc 1 4777 13 is_stmt 0 view .LVU3388
 8976 00a2 2146     		mov	r1, r4
 8977 00a4 2846     		mov	r0, r5
 8978 00a6 FFF7FEFF 		bl	get_fat.isra.0
 8979              	.LVL896:
4779:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (stat == 0) nfree++;
 8980              		.loc 1 4779 6 is_stmt 1 view .LVU3389
4780:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} while (++clst < fs->n_fatent);
 8981              		.loc 1 4780 6 view .LVU3390
4780:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} while (++clst < fs->n_fatent);
 8982              		.loc 1 4780 21 view .LVU3391
4778:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 8983              		.loc 1 4778 6 view .LVU3392
4778:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 294


 8984              		.loc 1 4778 9 is_stmt 0 view .LVU3393
 8985 00aa 431C     		adds	r3, r0, #1
4781:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
 8986              		.loc 1 4781 5 view .LVU3394
 8987 00ac 04F10104 		add	r4, r4, #1
 8988              	.LVL897:
4778:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 8989              		.loc 1 4778 9 view .LVU3395
 8990 00b0 EDD1     		bne	.L867
4778:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 8991              		.loc 1 4778 36 view .LVU3396
 8992 00b2 0126     		movs	r6, #1
 8993 00b4 BAE7     		b	.L833
 8994              	.LVL898:
 8995              	.L864:
4810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res != FR_OK) break;
 8996              		.loc 1 4810 14 view .LVU3397
 8997 00b6 5146     		mov	r1, r10
 8998              	.LVL899:
 8999              	.L843:
4813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (ld_word(fs->win + i) == 0) nfree++;
 9000              		.loc 1 4813 7 is_stmt 1 view .LVU3398
4813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (ld_word(fs->win + i) == 0) nfree++;
 9001              		.loc 1 4813 10 is_stmt 0 view .LVU3399
 9002 00b8 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 9003 00ba 0228     		cmp	r0, #2
4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
 9004              		.loc 1 4814 20 view .LVU3400
 9005 00bc 05F13003 		add	r3, r5, #48
4813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (ld_word(fs->win + i) == 0) nfree++;
 9006              		.loc 1 4813 10 view .LVU3401
 9007 00c0 5ED0     		beq	.L858
4817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 4;
 9008              		.loc 1 4817 8 is_stmt 1 view .LVU3402
4817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 4;
 9009              		.loc 1 4817 13 is_stmt 0 view .LVU3403
 9010 00c2 1A19     		adds	r2, r3, r4
 9011              	.LBB775:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 9012              		.loc 1 623 14 is_stmt 1 view .LVU3404
 9013              	.LBB773:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 9014              		.loc 1 625 2 view .LVU3405
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 9015              		.loc 1 627 2 view .LVU3406
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 9016              		.loc 1 628 2 view .LVU3407
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 9017              		.loc 1 629 2 view .LVU3408
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9018              		.loc 1 630 2 view .LVU3409
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9019              		.loc 1 631 2 view .LVU3410
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9020              		.loc 1 630 20 is_stmt 0 view .LVU3411
 9021 00c4 185D     		ldrb	r0, [r3, r4]	@ zero_extendqisi2
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 295


 9022              		.loc 1 629 20 view .LVU3412
 9023 00c6 92F801C0 		ldrb	ip, [r2, #1]	@ zero_extendqisi2
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 9024              		.loc 1 628 5 view .LVU3413
 9025 00ca 5388     		ldrh	r3, [r2, #2]	@ unaligned
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 9026              		.loc 1 629 5 view .LVU3414
 9027 00cc 4CEA032E 		orr	lr, ip, r3, lsl #8
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9028              		.loc 1 630 5 view .LVU3415
 9029 00d0 40EA0E22 		orr	r2, r0, lr, lsl #8
 9030              	.LBE773:
 9031              	.LBE775:
4817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 4;
 9032              		.loc 1 4817 11 view .LVU3416
 9033 00d4 32F07043 		bics	r3, r2, #-268435456
 9034 00d8 01D1     		bne	.L846
4817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 4;
 9035              		.loc 1 4817 55 is_stmt 1 view .LVU3417
4817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 4;
 9036              		.loc 1 4817 60 is_stmt 0 view .LVU3418
 9037 00da 08F10108 		add	r8, r8, #1
 9038              	.LVL900:
 9039              	.L846:
4818:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 9040              		.loc 1 4818 8 is_stmt 1 view .LVU3419
4818:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 9041              		.loc 1 4818 10 is_stmt 0 view .LVU3420
 9042 00de 0434     		adds	r4, r4, #4
 9043              	.L860:
4820:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} while (--clst);
 9044              		.loc 1 4820 7 is_stmt 1 view .LVU3421
4821:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 9045              		.loc 1 4821 6 is_stmt 0 view .LVU3422
 9046 00e0 B9F10109 		subs	r9, r9, #1
4820:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} while (--clst);
 9047              		.loc 1 4820 9 view .LVU3423
 9048 00e4 C4F30804 		ubfx	r4, r4, #0, #9
4821:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 9049              		.loc 1 4821 14 is_stmt 1 view .LVU3424
4821:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 9050              		.loc 1 4821 6 is_stmt 0 view .LVU3425
 9051 00e8 33D0     		beq	.L822
 9052              	.LVL901:
 9053              	.L828:
4808:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (i == 0) {
 9054              		.loc 1 4808 6 is_stmt 1 view .LVU3426
4809:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							res = move_window(fs, sect++);
 9055              		.loc 1 4809 7 view .LVU3427
4809:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							res = move_window(fs, sect++);
 9056              		.loc 1 4809 10 is_stmt 0 view .LVU3428
 9057 00ea 5CB9     		cbnz	r4, .L823
 9058              	.LVL902:
4810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res != FR_OK) break;
 9059              		.loc 1 4810 8 is_stmt 1 view .LVU3429
 9060              	.LBB776:
 9061              	.LBB765:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 296


1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 9062              		.loc 1 1055 5 is_stmt 0 view .LVU3430
 9063 00ec EB6A     		ldr	r3, [r5, #44]
 9064 00ee 9942     		cmp	r1, r3
 9065              	.LBE765:
 9066              	.LBE776:
4810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res != FR_OK) break;
 9067              		.loc 1 4810 14 view .LVU3431
 9068 00f0 01F1010A 		add	r10, r1, #1
 9069              	.LVL903:
 9070              	.LBB777:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 9071              		.loc 1 1047 16 is_stmt 1 view .LVU3432
 9072              	.LBB766:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 9073              		.loc 1 1052 2 view .LVU3433
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 9074              		.loc 1 1055 2 view .LVU3434
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 9075              		.loc 1 1055 5 is_stmt 0 view .LVU3435
 9076 00f4 4FD0     		beq	.L831
 9077 00f6 2846     		mov	r0, r5
 9078 00f8 FFF7FEFF 		bl	move_window.part.0
 9079              	.LVL904:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9080              		.loc 1 1067 2 is_stmt 1 view .LVU3436
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9081              		.loc 1 1067 2 is_stmt 0 view .LVU3437
 9082              	.LBE766:
 9083              	.LBE777:
4811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 9084              		.loc 1 4811 8 is_stmt 1 view .LVU3438
4811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 9085              		.loc 1 4811 11 is_stmt 0 view .LVU3439
 9086 00fc 0028     		cmp	r0, #0
 9087 00fe 4CD1     		bne	.L832
 9088 0100 039D     		ldr	r5, [sp, #12]
4810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res != FR_OK) break;
 9089              		.loc 1 4810 14 view .LVU3440
 9090 0102 5146     		mov	r1, r10
 9091              	.LVL905:
 9092              	.L823:
4813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (ld_word(fs->win + i) == 0) nfree++;
 9093              		.loc 1 4813 7 is_stmt 1 view .LVU3441
4813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (ld_word(fs->win + i) == 0) nfree++;
 9094              		.loc 1 4813 10 is_stmt 0 view .LVU3442
 9095 0104 2A78     		ldrb	r2, [r5]	@ zero_extendqisi2
 9096 0106 022A     		cmp	r2, #2
4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
 9097              		.loc 1 4814 20 view .LVU3443
 9098 0108 05F13003 		add	r3, r5, #48
4813:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (ld_word(fs->win + i) == 0) nfree++;
 9099              		.loc 1 4813 10 view .LVU3444
 9100 010c 2DD0     		beq	.L868
4817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 4;
 9101              		.loc 1 4817 8 is_stmt 1 view .LVU3445
4817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 4;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 297


 9102              		.loc 1 4817 13 is_stmt 0 view .LVU3446
 9103 010e 1819     		adds	r0, r3, r4
 9104              	.LBB778:
 623:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 9105              		.loc 1 623 14 is_stmt 1 view .LVU3447
 9106              	.LBB774:
 625:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 9107              		.loc 1 625 2 view .LVU3448
 627:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[2];
 9108              		.loc 1 627 2 view .LVU3449
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 9109              		.loc 1 628 2 view .LVU3450
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 9110              		.loc 1 629 2 view .LVU3451
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9111              		.loc 1 630 20 is_stmt 0 view .LVU3452
 9112 0110 13F804E0 		ldrb	lr, [r3, r4]	@ zero_extendqisi2
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 9113              		.loc 1 629 20 view .LVU3453
 9114 0114 90F801C0 		ldrb	ip, [r0, #1]	@ zero_extendqisi2
 628:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[1];
 9115              		.loc 1 628 5 view .LVU3454
 9116 0118 4388     		ldrh	r3, [r0, #2]	@ unaligned
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9117              		.loc 1 630 2 is_stmt 1 view .LVU3455
 629:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 9118              		.loc 1 629 5 is_stmt 0 view .LVU3456
 9119 011a 4CEA032A 		orr	r10, ip, r3, lsl #8
 631:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9120              		.loc 1 631 2 is_stmt 1 view .LVU3457
 630:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9121              		.loc 1 630 5 is_stmt 0 view .LVU3458
 9122 011e 4EEA0A22 		orr	r2, lr, r10, lsl #8
 9123              	.LBE774:
 9124              	.LBE778:
4817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 4;
 9125              		.loc 1 4817 11 view .LVU3459
 9126 0122 32F07043 		bics	r3, r2, #-268435456
4817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 4;
 9127              		.loc 1 4817 55 is_stmt 1 view .LVU3460
4817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 4;
 9128              		.loc 1 4817 60 is_stmt 0 view .LVU3461
 9129 0126 08BF     		it	eq
 9130 0128 08F10108 		addeq	r8, r8, #1
 9131              	.LVL906:
4818:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 9132              		.loc 1 4818 8 is_stmt 1 view .LVU3462
4818:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 9133              		.loc 1 4818 10 is_stmt 0 view .LVU3463
 9134 012c 0434     		adds	r4, r4, #4
 9135              	.L826:
4820:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} while (--clst);
 9136              		.loc 1 4820 7 is_stmt 1 view .LVU3464
4820:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} while (--clst);
 9137              		.loc 1 4820 9 is_stmt 0 view .LVU3465
 9138 012e C4F30804 		ubfx	r4, r4, #0, #9
4821:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 298


 9139              		.loc 1 4821 14 is_stmt 1 view .LVU3466
4821:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 9140              		.loc 1 4821 6 is_stmt 0 view .LVU3467
 9141 0132 09F1FF39 		add	r9, r9, #-1
4808:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (i == 0) {
 9142              		.loc 1 4808 6 is_stmt 1 view .LVU3468
4809:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							res = move_window(fs, sect++);
 9143              		.loc 1 4809 7 view .LVU3469
4809:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							res = move_window(fs, sect++);
 9144              		.loc 1 4809 10 is_stmt 0 view .LVU3470
 9145 0136 002C     		cmp	r4, #0
 9146 0138 BED1     		bne	.L843
 9147              	.LVL907:
4810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res != FR_OK) break;
 9148              		.loc 1 4810 8 is_stmt 1 view .LVU3471
 9149              	.LBB779:
 9150              	.LBB767:
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 9151              		.loc 1 1055 5 is_stmt 0 view .LVU3472
 9152 013a EA6A     		ldr	r2, [r5, #44]
 9153 013c 9142     		cmp	r1, r2
 9154              	.LBE767:
 9155              	.LBE779:
4810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res != FR_OK) break;
 9156              		.loc 1 4810 14 view .LVU3473
 9157 013e 01F1010A 		add	r10, r1, #1
 9158              	.LVL908:
 9159              	.LBB780:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 9160              		.loc 1 1047 16 is_stmt 1 view .LVU3474
 9161              	.LBB768:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 9162              		.loc 1 1052 2 view .LVU3475
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 9163              		.loc 1 1055 2 view .LVU3476
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 9164              		.loc 1 1055 5 is_stmt 0 view .LVU3477
 9165 0142 B8D0     		beq	.L864
 9166 0144 2846     		mov	r0, r5
 9167 0146 FFF7FEFF 		bl	move_window.part.0
 9168              	.LVL909:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9169              		.loc 1 1067 2 is_stmt 1 view .LVU3478
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9170              		.loc 1 1067 2 is_stmt 0 view .LVU3479
 9171              	.LBE768:
 9172              	.LBE780:
4811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 9173              		.loc 1 4811 8 is_stmt 1 view .LVU3480
4811:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 9174              		.loc 1 4811 11 is_stmt 0 view .LVU3481
 9175 014a 30BB     		cbnz	r0, .L832
 9176 014c 039D     		ldr	r5, [sp, #12]
 9177 014e B2E7     		b	.L864
 9178              	.LVL910:
 9179              	.L866:
4781:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 299


 9180              		.loc 1 4781 25 view .LVU3482
 9181 0150 0D46     		mov	r5, r1
 9182              	.LVL911:
 9183              	.L822:
4824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				*nclst = nfree;			/* Return the free clusters */
 9184              		.loc 1 4824 4 is_stmt 1 view .LVU3483
4825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->free_clst = nfree;	/* Now free_clst is valid */
 9185              		.loc 1 4825 5 view .LVU3484
4825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->free_clst = nfree;	/* Now free_clst is valid */
 9186              		.loc 1 4825 12 is_stmt 0 view .LVU3485
 9187 0152 C7F80080 		str	r8, [r7]
4826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->fsi_flag |= 1;		/* FAT32: FSInfo is to be updated */
 9188              		.loc 1 4826 5 is_stmt 1 view .LVU3486
4827:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 9189              		.loc 1 4827 18 is_stmt 0 view .LVU3487
 9190 0156 2F79     		ldrb	r7, [r5, #4]	@ zero_extendqisi2
 9191              	.LVL912:
4826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fs->fsi_flag |= 1;		/* FAT32: FSInfo is to be updated */
 9192              		.loc 1 4826 19 view .LVU3488
 9193 0158 C5F81080 		str	r8, [r5, #16]
4827:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 9194              		.loc 1 4827 5 is_stmt 1 view .LVU3489
4827:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 9195              		.loc 1 4827 18 is_stmt 0 view .LVU3490
 9196 015c 47F00100 		orr	r0, r7, #1
 9197 0160 2871     		strb	r0, [r5, #4]
 9198              	.LVL913:
4832:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9199              		.loc 1 4832 2 is_stmt 1 view .LVU3491
 9200              		.loc 1 4833 1 is_stmt 0 view .LVU3492
 9201 0162 3046     		mov	r0, r6
 9202 0164 04B0     		add	sp, sp, #16
 9203              		.cfi_remember_state
 9204              		.cfi_def_cfa_offset 32
 9205              		@ sp needed
 9206 0166 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 9207              	.LVL914:
 9208              	.L868:
 9209              		.cfi_restore_state
4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
 9210              		.loc 1 4814 8 is_stmt 1 view .LVU3493
4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
 9211              		.loc 1 4814 12 is_stmt 0 view .LVU3494
 9212 016a 1819     		adds	r0, r3, r4
 9213              	.LVL915:
 9214              	.LBB781:
 9215              	.LBI781:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 9216              		.loc 1 614 13 is_stmt 1 view .LVU3495
 9217              	.LBB782:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 9218              		.loc 1 616 2 view .LVU3496
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 9219              		.loc 1 618 2 view .LVU3497
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9220              		.loc 1 619 2 view .LVU3498
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 300


 9221              		.loc 1 620 2 view .LVU3499
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9222              		.loc 1 619 20 is_stmt 0 view .LVU3500
 9223 016c 13F804E0 		ldrb	lr, [r3, r4]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9224              		.loc 1 619 10 view .LVU3501
 9225 0170 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 9226              	.LBE782:
 9227              	.LBE781:
4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
 9228              		.loc 1 4814 11 view .LVU3502
 9229 0172 5EEA0323 		orrs	r3, lr, r3, lsl #8
4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
 9230              		.loc 1 4814 39 is_stmt 1 view .LVU3503
4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
 9231              		.loc 1 4814 44 is_stmt 0 view .LVU3504
 9232 0176 08BF     		it	eq
 9233 0178 08F10108 		addeq	r8, r8, #1
 9234              	.LVL916:
4815:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						} else {
 9235              		.loc 1 4815 8 is_stmt 1 view .LVU3505
4815:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						} else {
 9236              		.loc 1 4815 10 is_stmt 0 view .LVU3506
 9237 017c 0234     		adds	r4, r4, #2
4815:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						} else {
 9238              		.loc 1 4815 10 view .LVU3507
 9239 017e D6E7     		b	.L826
 9240              	.L858:
4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
 9241              		.loc 1 4814 8 is_stmt 1 view .LVU3508
4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
 9242              		.loc 1 4814 12 is_stmt 0 view .LVU3509
 9243 0180 1819     		adds	r0, r3, r4
 9244              	.LBB785:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 9245              		.loc 1 614 13 is_stmt 1 view .LVU3510
 9246              	.LBB783:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 9247              		.loc 1 616 2 view .LVU3511
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 9248              		.loc 1 618 2 view .LVU3512
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9249              		.loc 1 619 2 view .LVU3513
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9250              		.loc 1 620 2 view .LVU3514
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9251              		.loc 1 619 20 is_stmt 0 view .LVU3515
 9252 0182 13F804A0 		ldrb	r10, [r3, r4]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9253              		.loc 1 619 10 view .LVU3516
 9254 0186 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 9255              	.LBE783:
 9256              	.LBE785:
4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
 9257              		.loc 1 4814 11 view .LVU3517
 9258 0188 5AEA0323 		orrs	r3, r10, r3, lsl #8
 9259 018c 01D1     		bne	.L847
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 301


4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
 9260              		.loc 1 4814 39 is_stmt 1 view .LVU3518
4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
 9261              		.loc 1 4814 44 is_stmt 0 view .LVU3519
 9262 018e 08F10108 		add	r8, r8, #1
 9263              	.LVL917:
 9264              	.L847:
4815:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						} else {
 9265              		.loc 1 4815 8 is_stmt 1 view .LVU3520
4815:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						} else {
 9266              		.loc 1 4815 10 is_stmt 0 view .LVU3521
 9267 0192 0234     		adds	r4, r4, #2
4815:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						} else {
 9268              		.loc 1 4815 10 view .LVU3522
 9269 0194 A4E7     		b	.L860
 9270              	.LVL918:
 9271              	.L831:
4810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res != FR_OK) break;
 9272              		.loc 1 4810 14 view .LVU3523
 9273 0196 5146     		mov	r1, r10
 9274              	.LVL919:
4810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res != FR_OK) break;
 9275              		.loc 1 4810 14 view .LVU3524
 9276 0198 B4E7     		b	.L823
 9277              	.LVL920:
 9278              	.L832:
 9279              	.LBB786:
 9280              	.LBB769:
4810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res != FR_OK) break;
 9281              		.loc 1 4810 14 view .LVU3525
 9282 019a 0646     		mov	r6, r0
 9283 019c 46E7     		b	.L833
 9284              	.LVL921:
 9285              	.L830:
4810:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res != FR_OK) break;
 9286              		.loc 1 4810 14 view .LVU3526
 9287              	.LBE769:
 9288              	.LBE786:
4779:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (stat == 0) nfree++;
 9289              		.loc 1 4779 27 view .LVU3527
 9290 019e 0226     		movs	r6, #2
 9291 01a0 44E7     		b	.L833
 9292              	.LVL922:
 9293              	.L853:
4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
 9294              		.loc 1 4814 8 is_stmt 1 view .LVU3528
 9295              	.LBB787:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 9296              		.loc 1 614 13 view .LVU3529
 9297              	.LBB784:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 9298              		.loc 1 616 2 view .LVU3530
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 9299              		.loc 1 618 2 view .LVU3531
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9300              		.loc 1 619 2 view .LVU3532
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 302


 9301              		.loc 1 620 2 view .LVU3533
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9302              		.loc 1 619 10 is_stmt 0 view .LVU3534
 9303 01a2 95F83100 		ldrb	r0, [r5, #49]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9304              		.loc 1 619 20 view .LVU3535
 9305 01a6 95F83040 		ldrb	r4, [r5, #48]	@ zero_extendqisi2
 9306              	.LBE784:
 9307              	.LBE787:
4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
 9308              		.loc 1 4814 11 view .LVU3536
 9309 01aa 54EA0023 		orrs	r3, r4, r0, lsl #8
 9310 01ae 01D1     		bne	.L840
4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
 9311              		.loc 1 4814 39 is_stmt 1 view .LVU3537
4814:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							i += 2;
 9312              		.loc 1 4814 44 is_stmt 0 view .LVU3538
 9313 01b0 4FF00108 		mov	r8, #1
 9314              	.L840:
 9315              	.LVL923:
4815:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						} else {
 9316              		.loc 1 4815 8 is_stmt 1 view .LVU3539
4815:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						} else {
 9317              		.loc 1 4815 10 is_stmt 0 view .LVU3540
 9318 01b4 0224     		movs	r4, #2
 9319              	.LVL924:
4815:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						} else {
 9320              		.loc 1 4815 10 view .LVU3541
 9321 01b6 93E7     		b	.L860
 9322              		.cfi_endproc
 9323              	.LFE43:
 9325              		.section	.text.f_truncate,"ax",%progbits
 9326              		.align	1
 9327              		.p2align 2,,3
 9328              		.global	f_truncate
 9329              		.syntax unified
 9330              		.thumb
 9331              		.thumb_func
 9332              		.fpu fpv4-sp-d16
 9334              	f_truncate:
 9335              	.LVL925:
 9336              	.LFB44:
4834:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4835:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4836:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4837:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4838:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4839:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Truncate File                                                         */
4840:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4842:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_truncate (
4843:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FIL* fp		/* Pointer to the file object */
4844:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
4845:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 9337              		.loc 1 4845 1 is_stmt 1 view -0
 9338              		.cfi_startproc
 9339              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 303


 9340              		@ frame_needed = 0, uses_anonymous_args = 0
4846:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 9341              		.loc 1 4846 2 view .LVU3543
4847:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
 9342              		.loc 1 4847 2 view .LVU3544
4848:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD ncl;
 9343              		.loc 1 4848 2 view .LVU3545
4849:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4850:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4851:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
 9344              		.loc 1 4851 2 view .LVU3546
4845:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 9345              		.loc 1 4845 1 is_stmt 0 view .LVU3547
 9346 0000 30B5     		push	{r4, r5, lr}
 9347              		.cfi_def_cfa_offset 12
 9348              		.cfi_offset 4, -12
 9349              		.cfi_offset 5, -8
 9350              		.cfi_offset 14, -4
 9351 0002 83B0     		sub	sp, sp, #12
 9352              		.cfi_def_cfa_offset 24
 9353              		.loc 1 4851 8 view .LVU3548
 9354 0004 01A9     		add	r1, sp, #4
4845:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 9355              		.loc 1 4845 1 view .LVU3549
 9356 0006 0546     		mov	r5, r0
 9357              		.loc 1 4851 8 view .LVU3550
 9358 0008 FFF7FEFF 		bl	validate
 9359              	.LVL926:
4852:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
 9360              		.loc 1 4852 2 is_stmt 1 view .LVU3551
 9361              		.loc 1 4852 5 is_stmt 0 view .LVU3552
 9362 000c 0446     		mov	r4, r0
 9363 000e C0B9     		cbnz	r0, .L883
 9364              		.loc 1 4852 27 discriminator 2 view .LVU3553
 9365 0010 6C7C     		ldrb	r4, [r5, #17]	@ zero_extendqisi2
 9366              	.LVL927:
 9367              		.loc 1 4852 19 discriminator 2 view .LVU3554
 9368 0012 B4B9     		cbnz	r4, .L883
4853:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 9369              		.loc 1 4853 2 is_stmt 1 view .LVU3555
 9370              		.loc 1 4853 5 is_stmt 0 view .LVU3556
 9371 0014 2B7C     		ldrb	r3, [r5, #16]	@ zero_extendqisi2
 9372 0016 9907     		lsls	r1, r3, #30
 9373 0018 16D5     		bpl	.L879
4854:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4855:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fp->fptr < fp->obj.objsize) {	/* Process when fptr is not on the eof */
 9374              		.loc 1 4855 2 is_stmt 1 view .LVU3557
 9375              		.loc 1 4855 8 is_stmt 0 view .LVU3558
 9376 001a 6869     		ldr	r0, [r5, #20]
 9377              		.loc 1 4855 5 view .LVU3559
 9378 001c EA68     		ldr	r2, [r5, #12]
 9379 001e 9042     		cmp	r0, r2
 9380 0020 0FD2     		bcs	.L883
4856:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 9381              		.loc 1 4856 3 is_stmt 1 view .LVU3560
 9382              		.loc 1 4856 6 is_stmt 0 view .LVU3561
 9383 0022 98B9     		cbnz	r0, .L872
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 304


4857:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
 9384              		.loc 1 4857 4 is_stmt 1 view .LVU3562
 9385              		.loc 1 4857 10 is_stmt 0 view .LVU3563
 9386 0024 A968     		ldr	r1, [r5, #8]
 9387 0026 2246     		mov	r2, r4
 9388 0028 2846     		mov	r0, r5
 9389 002a FFF7FEFF 		bl	remove_chain
 9390              	.LVL928:
4858:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			fp->obj.sclust = 0;
 9391              		.loc 1 4858 4 is_stmt 1 view .LVU3564
 9392              		.loc 1 4858 19 is_stmt 0 view .LVU3565
 9393 002e AC60     		str	r4, [r5, #8]
 9394              	.L873:
4859:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
4860:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			ncl = get_fat(&fp->obj, fp->clust);
4861:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_OK;
4862:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
4863:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
4864:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
4865:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
4866:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4867:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4868:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fp->obj.objsize = fp->fptr;	/* Set file size to current read/write point */
 9395              		.loc 1 4868 3 is_stmt 1 view .LVU3566
4869:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fp->flag |= FA_MODIFIED;
 9396              		.loc 1 4869 12 is_stmt 0 view .LVU3567
 9397 0030 297C     		ldrb	r1, [r5, #16]	@ zero_extendqisi2
4868:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fp->flag |= FA_MODIFIED;
 9398              		.loc 1 4868 19 view .LVU3568
 9399 0032 6A69     		ldr	r2, [r5, #20]
 9400 0034 EA60     		str	r2, [r5, #12]
 9401              		.loc 1 4869 3 is_stmt 1 view .LVU3569
 9402              		.loc 1 4869 12 is_stmt 0 view .LVU3570
 9403 0036 41F04003 		orr	r3, r1, #64
 9404 003a 2B74     		strb	r3, [r5, #16]
4870:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_TINY
4871:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK && (fp->flag & FA_DIRTY)) {
 9405              		.loc 1 4871 3 is_stmt 1 view .LVU3571
 9406              		.loc 1 4871 6 is_stmt 0 view .LVU3572
 9407 003c 00BB     		cbnz	r0, .L877
 9408              	.LVL929:
 9409              	.L876:
 9410              		.loc 1 4871 20 discriminator 1 view .LVU3573
 9411 003e 1B06     		lsls	r3, r3, #24
 9412 0040 21D4     		bmi	.L885
 9413              	.L883:
4872:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (disk_write(fs->pdrv, fp->buf, fp->sect, 1) != RES_OK) {
4873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_DISK_ERR;
4874:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
4875:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
4876:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4877:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4878:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4879:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res != FR_OK) ABORT(fs, res);
4880:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
4881:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4882:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, res);
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 305


4883:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9414              		.loc 1 4883 1 view .LVU3574
 9415 0042 2046     		mov	r0, r4
 9416 0044 03B0     		add	sp, sp, #12
 9417              		.cfi_remember_state
 9418              		.cfi_def_cfa_offset 12
 9419              		@ sp needed
 9420 0046 30BD     		pop	{r4, r5, pc}
 9421              	.LVL930:
 9422              	.L879:
 9423              		.cfi_restore_state
4853:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 9424              		.loc 1 4853 30 view .LVU3575
 9425 0048 0724     		movs	r4, #7
 9426              	.LVL931:
4853:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 9427              		.loc 1 4853 30 view .LVU3576
 9428 004a FAE7     		b	.L883
 9429              	.LVL932:
 9430              	.L872:
4860:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_OK;
 9431              		.loc 1 4860 4 is_stmt 1 view .LVU3577
4860:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_OK;
 9432              		.loc 1 4860 10 is_stmt 0 view .LVU3578
 9433 004c A969     		ldr	r1, [r5, #24]
 9434 004e 2868     		ldr	r0, [r5]
 9435 0050 FFF7FEFF 		bl	get_fat.isra.0
 9436              	.LVL933:
4861:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
 9437              		.loc 1 4861 4 is_stmt 1 view .LVU3579
4862:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 9438              		.loc 1 4862 4 view .LVU3580
4862:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 9439              		.loc 1 4862 7 is_stmt 0 view .LVU3581
 9440 0054 421C     		adds	r2, r0, #1
 9441 0056 25D0     		beq	.L880
4863:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 9442              		.loc 1 4863 4 is_stmt 1 view .LVU3582
4863:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 9443              		.loc 1 4863 7 is_stmt 0 view .LVU3583
 9444 0058 0128     		cmp	r0, #1
 9445 005a 0AD0     		beq	.L881
4864:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 9446              		.loc 1 4864 4 is_stmt 1 discriminator 1 view .LVU3584
4864:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 9447              		.loc 1 4864 32 is_stmt 0 discriminator 1 view .LVU3585
 9448 005c 0199     		ldr	r1, [sp, #4]
4864:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 9449              		.loc 1 4864 21 discriminator 1 view .LVU3586
 9450 005e 4B69     		ldr	r3, [r1, #20]
 9451 0060 8342     		cmp	r3, r0
 9452 0062 21D8     		bhi	.L875
4868:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fp->flag |= FA_MODIFIED;
 9453              		.loc 1 4868 3 is_stmt 1 view .LVU3587
4869:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_TINY
 9454              		.loc 1 4869 12 is_stmt 0 view .LVU3588
 9455 0064 287C     		ldrb	r0, [r5, #16]	@ zero_extendqisi2
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 306


 9456              	.LVL934:
4868:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fp->flag |= FA_MODIFIED;
 9457              		.loc 1 4868 19 view .LVU3589
 9458 0066 6A69     		ldr	r2, [r5, #20]
 9459              	.LVL935:
4868:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fp->flag |= FA_MODIFIED;
 9460              		.loc 1 4868 19 view .LVU3590
 9461 0068 EA60     		str	r2, [r5, #12]
4869:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_TINY
 9462              		.loc 1 4869 3 is_stmt 1 view .LVU3591
4869:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_TINY
 9463              		.loc 1 4869 12 is_stmt 0 view .LVU3592
 9464 006a 40F04003 		orr	r3, r0, #64
 9465 006e 2B74     		strb	r3, [r5, #16]
4871:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (disk_write(fs->pdrv, fp->buf, fp->sect, 1) != RES_OK) {
 9466              		.loc 1 4871 3 is_stmt 1 view .LVU3593
 9467 0070 E5E7     		b	.L876
 9468              	.LVL936:
 9469              	.L881:
4863:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 9470              		.loc 1 4863 22 is_stmt 0 view .LVU3594
 9471 0072 0220     		movs	r0, #2
 9472              	.LVL937:
 9473              	.L874:
4868:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fp->flag |= FA_MODIFIED;
 9474              		.loc 1 4868 3 is_stmt 1 view .LVU3595
4869:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_TINY
 9475              		.loc 1 4869 12 is_stmt 0 view .LVU3596
 9476 0074 2C7C     		ldrb	r4, [r5, #16]	@ zero_extendqisi2
4868:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		fp->flag |= FA_MODIFIED;
 9477              		.loc 1 4868 19 view .LVU3597
 9478 0076 6969     		ldr	r1, [r5, #20]
 9479 0078 E960     		str	r1, [r5, #12]
4869:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_TINY
 9480              		.loc 1 4869 3 is_stmt 1 view .LVU3598
4869:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_TINY
 9481              		.loc 1 4869 12 is_stmt 0 view .LVU3599
 9482 007a 44F04003 		orr	r3, r4, #64
 9483 007e 2B74     		strb	r3, [r5, #16]
4871:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (disk_write(fs->pdrv, fp->buf, fp->sect, 1) != RES_OK) {
 9484              		.loc 1 4871 3 is_stmt 1 view .LVU3600
 9485              	.LVL938:
 9486              	.L877:
4879:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 9487              		.loc 1 4879 21 discriminator 1 view .LVU3601
 9488 0080 6874     		strb	r0, [r5, #17]
4879:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 9489              		.loc 1 4879 21 discriminator 1 view .LVU3602
 9490 0082 0446     		mov	r4, r0
 9491 0084 DDE7     		b	.L883
 9492              	.L885:
4872:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_DISK_ERR;
 9493              		.loc 1 4872 4 view .LVU3603
4872:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_DISK_ERR;
 9494              		.loc 1 4872 8 is_stmt 0 view .LVU3604
 9495 0086 0198     		ldr	r0, [sp, #4]
 9496 0088 EA69     		ldr	r2, [r5, #28]
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 307


 9497 008a 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 9498 008c 0123     		movs	r3, #1
 9499 008e 05F12801 		add	r1, r5, #40
 9500 0092 FFF7FEFF 		bl	disk_write
 9501              	.LVL939:
4872:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_DISK_ERR;
 9502              		.loc 1 4872 7 view .LVU3605
 9503 0096 0446     		mov	r4, r0
 9504 0098 60B9     		cbnz	r0, .L882
4875:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 9505              		.loc 1 4875 5 is_stmt 1 view .LVU3606
4875:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 9506              		.loc 1 4875 14 is_stmt 0 view .LVU3607
 9507 009a 297C     		ldrb	r1, [r5, #16]	@ zero_extendqisi2
 9508 009c 01F07F02 		and	r2, r1, #127
 9509 00a0 2A74     		strb	r2, [r5, #16]
 9510 00a2 CEE7     		b	.L883
 9511              	.LVL940:
 9512              	.L880:
4862:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 9513              		.loc 1 4862 31 view .LVU3608
 9514 00a4 0120     		movs	r0, #1
 9515              	.LVL941:
4862:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 9516              		.loc 1 4862 31 view .LVU3609
 9517 00a6 E5E7     		b	.L874
 9518              	.LVL942:
 9519              	.L875:
4865:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 9520              		.loc 1 4865 5 is_stmt 1 view .LVU3610
4865:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 9521              		.loc 1 4865 11 is_stmt 0 view .LVU3611
 9522 00a8 0146     		mov	r1, r0
 9523 00aa AA69     		ldr	r2, [r5, #24]
 9524 00ac 2846     		mov	r0, r5
 9525              	.LVL943:
4865:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 9526              		.loc 1 4865 11 view .LVU3612
 9527 00ae FFF7FEFF 		bl	remove_chain
 9528              	.LVL944:
4865:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 9529              		.loc 1 4865 11 view .LVU3613
 9530 00b2 BDE7     		b	.L873
 9531              	.LVL945:
 9532              	.L882:
4873:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
 9533              		.loc 1 4873 9 view .LVU3614
 9534 00b4 0120     		movs	r0, #1
 9535 00b6 E3E7     		b	.L877
 9536              		.cfi_endproc
 9537              	.LFE44:
 9539              		.section	.text.f_unlink,"ax",%progbits
 9540              		.align	1
 9541              		.p2align 2,,3
 9542              		.global	f_unlink
 9543              		.syntax unified
 9544              		.thumb
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 308


 9545              		.thumb_func
 9546              		.fpu fpv4-sp-d16
 9548              	f_unlink:
 9549              	.LVL946:
 9550              	.LFB45:
4884:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4885:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4886:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4887:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4888:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4889:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Delete a File/Directory                                               */
4890:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4891:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4892:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_unlink (
4893:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR* path		/* Pointer to the file or directory path */
4894:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
4895:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 9551              		.loc 1 4895 1 is_stmt 1 view -0
 9552              		.cfi_startproc
 9553              		@ args = 0, pretend = 0, frame = 104
 9554              		@ frame_needed = 0, uses_anonymous_args = 0
4896:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 9555              		.loc 1 4896 2 view .LVU3616
4897:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR dj, sdj;
 9556              		.loc 1 4897 2 view .LVU3617
4898:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD dclst = 0;
 9557              		.loc 1 4898 2 view .LVU3618
4899:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
 9558              		.loc 1 4899 2 view .LVU3619
4900:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
4901:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FFOBJID obj;
4902:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4903:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DEF_NAMBUF
4904:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4905:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4906:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	/* Get logical drive */
4907:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = mount_volume(&path, &fs, FA_WRITE);
 9559              		.loc 1 4907 2 view .LVU3620
4895:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 9560              		.loc 1 4895 1 is_stmt 0 view .LVU3621
 9561 0000 30B5     		push	{r4, r5, lr}
 9562              		.cfi_def_cfa_offset 12
 9563              		.cfi_offset 4, -12
 9564              		.cfi_offset 5, -8
 9565              		.cfi_offset 14, -4
 9566 0002 9BB0     		sub	sp, sp, #108
 9567              		.cfi_def_cfa_offset 120
 9568              		.loc 1 4907 8 view .LVU3622
 9569 0004 0222     		movs	r2, #2
4895:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 9570              		.loc 1 4895 1 view .LVU3623
 9571 0006 0190     		str	r0, [sp, #4]
 9572              		.loc 1 4907 8 view .LVU3624
 9573 0008 03A9     		add	r1, sp, #12
 9574 000a 01A8     		add	r0, sp, #4
 9575              	.LVL947:
 9576              		.loc 1 4907 8 view .LVU3625
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 309


 9577 000c FFF7FEFF 		bl	mount_volume
 9578              	.LVL948:
4908:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
 9579              		.loc 1 4908 2 is_stmt 1 view .LVU3626
 9580              		.loc 1 4908 5 is_stmt 0 view .LVU3627
 9581 0010 08B1     		cbz	r0, .L907
 9582              	.LVL949:
 9583              	.L887:
4909:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dj.obj.fs = fs;
4910:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		INIT_NAMBUF(fs);
4911:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
4912:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (FF_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
4913:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
4914:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4915:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
4916:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) res = chk_lock(&dj, 2);	/* Check if it is an open object */
4917:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4918:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {					/* The object is accessible */
4919:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
4920:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
4921:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
4922:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (dj.obj.attr & AM_RDO) {
4923:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
4924:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4925:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4926:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_OK) {
4927:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
4928:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				obj.fs = fs;
4929:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4930:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					init_alloc_info(fs, &obj);
4931:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					dclst = obj.sclust;
4932:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} else
4933:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4934:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				{
4935:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					dclst = ld_clust(fs, dj.dir);
4936:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4937:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (dj.obj.attr & AM_DIR) {			/* Is it a sub-directory? */
4938:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH != 0
4939:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (dclst == fs->cdir) {	 	/* Is it the current directory? */
4940:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = FR_DENIED;
4941:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					} else
4942:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4943:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					{
4944:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						sdj.obj.fs = fs;			/* Open the sub-directory */
4945:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						sdj.obj.sclust = dclst;
4946:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
4947:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (fs->fs_type == FS_EXFAT) {
4948:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							sdj.obj.objsize = obj.objsize;
4949:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							sdj.obj.stat = obj.stat;
4950:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
4951:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4952:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = dir_sdi(&sdj, 0);
4953:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (res == FR_OK) {
4954:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							res = DIR_READ_FILE(&sdj);			/* Test if the directory is empty */
4955:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
4956:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
4957:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 310


4958:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
4959:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4960:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4961:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_OK) {
4962:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
4963:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK && dclst != 0) {	/* Remove the cluster chain if exist */
4964:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
4965:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = remove_chain(&obj, dclst, 0);
4966:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #else
4967:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = remove_chain(&dj.obj, dclst, 0);
4968:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
4969:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
4970:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) res = sync_fs(fs);
4971:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
4972:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
4973:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		FREE_NAMBUF();
 9584              		.loc 1 4973 16 is_stmt 1 view .LVU3628
4974:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
4975:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4976:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, res);
 9585              		.loc 1 4976 2 view .LVU3629
4977:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9586              		.loc 1 4977 1 is_stmt 0 view .LVU3630
 9587 0012 1BB0     		add	sp, sp, #108
 9588              		.cfi_remember_state
 9589              		.cfi_def_cfa_offset 12
 9590              		@ sp needed
 9591 0014 30BD     		pop	{r4, r5, pc}
 9592              	.LVL950:
 9593              	.L907:
 9594              		.cfi_restore_state
4909:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dj.obj.fs = fs;
 9595              		.loc 1 4909 3 is_stmt 1 view .LVU3631
4909:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dj.obj.fs = fs;
 9596              		.loc 1 4909 13 is_stmt 0 view .LVU3632
 9597 0016 039B     		ldr	r3, [sp, #12]
4911:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (FF_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 9598              		.loc 1 4911 9 view .LVU3633
 9599 0018 0199     		ldr	r1, [sp, #4]
4909:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		INIT_NAMBUF(fs);
 9600              		.loc 1 4909 13 view .LVU3634
 9601 001a 0493     		str	r3, [sp, #16]
4910:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 9602              		.loc 1 4910 18 is_stmt 1 view .LVU3635
4911:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (FF_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 9603              		.loc 1 4911 3 view .LVU3636
4911:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (FF_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 9604              		.loc 1 4911 9 is_stmt 0 view .LVU3637
 9605 001c 04A8     		add	r0, sp, #16
 9606              	.LVL951:
4911:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (FF_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 9607              		.loc 1 4911 9 view .LVU3638
 9608 001e FFF7FEFF 		bl	follow_path
 9609              	.LVL952:
4912:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
 9610              		.loc 1 4912 3 is_stmt 1 view .LVU3639
4918:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 311


 9611              		.loc 1 4918 3 view .LVU3640
4918:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
 9612              		.loc 1 4918 6 is_stmt 0 view .LVU3641
 9613 0022 0028     		cmp	r0, #0
 9614 0024 F5D1     		bne	.L887
4919:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 9615              		.loc 1 4919 4 is_stmt 1 view .LVU3642
4919:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 9616              		.loc 1 4919 7 is_stmt 0 view .LVU3643
 9617 0026 9DF93B00 		ldrsb	r0, [sp, #59]
 9618              	.LVL953:
4919:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 9619              		.loc 1 4919 7 view .LVU3644
 9620 002a 0028     		cmp	r0, #0
 9621 002c 23DB     		blt	.L896
4922:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 9622              		.loc 1 4922 5 is_stmt 1 view .LVU3645
4922:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 9623              		.loc 1 4922 15 is_stmt 0 view .LVU3646
 9624 002e 9DF816C0 		ldrb	ip, [sp, #22]	@ zero_extendqisi2
4922:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 9625              		.loc 1 4922 8 view .LVU3647
 9626 0032 5FEACC72 		lsls	r2, ip, #31
 9627 0036 1CD4     		bmi	.L892
 9628              	.LVL954:
4926:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 9629              		.loc 1 4926 4 is_stmt 1 view .LVU3648
4935:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 9630              		.loc 1 4935 6 view .LVU3649
4935:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 9631              		.loc 1 4935 14 is_stmt 0 view .LVU3650
 9632 0038 0399     		ldr	r1, [sp, #12]
4935:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 9633              		.loc 1 4935 29 view .LVU3651
 9634 003a 0B9A     		ldr	r2, [sp, #44]
 9635              	.LVL955:
 9636              	.LBB788:
 9637              	.LBI788:
1817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,			/* Pointer to the fs object */
 9638              		.loc 1 1817 14 is_stmt 1 view .LVU3652
 9639              	.LBB789:
1822:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 9640              		.loc 1 1822 2 view .LVU3653
1824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 9641              		.loc 1 1824 2 view .LVU3654
 9642              	.LBB790:
 9643              	.LBI790:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 9644              		.loc 1 614 13 view .LVU3655
 9645              	.LBB791:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 9646              		.loc 1 616 2 view .LVU3656
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 9647              		.loc 1 618 2 view .LVU3657
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9648              		.loc 1 619 2 view .LVU3658
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 312


 9649              		.loc 1 620 2 view .LVU3659
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9650              		.loc 1 620 2 is_stmt 0 view .LVU3660
 9651              	.LBE791:
 9652              	.LBE790:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 9653              		.loc 1 1825 5 view .LVU3661
 9654 003c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 9655              	.LBB793:
 9656              	.LBB792:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9657              		.loc 1 619 10 view .LVU3662
 9658 003e D57E     		ldrb	r5, [r2, #27]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9659              		.loc 1 619 20 view .LVU3663
 9660 0040 947E     		ldrb	r4, [r2, #26]	@ zero_extendqisi2
 9661              	.LBE792:
 9662              	.LBE793:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 9663              		.loc 1 1825 5 view .LVU3664
 9664 0042 032B     		cmp	r3, #3
1824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 9665              		.loc 1 1824 5 view .LVU3665
 9666 0044 44EA0525 		orr	r5, r4, r5, lsl #8
 9667              	.LVL956:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 9668              		.loc 1 1825 2 is_stmt 1 view .LVU3666
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 9669              		.loc 1 1825 5 is_stmt 0 view .LVU3667
 9670 0048 06D1     		bne	.L889
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 9671              		.loc 1 1826 3 is_stmt 1 view .LVU3668
 9672              	.LVL957:
 9673              	.LBB794:
 9674              	.LBI794:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 9675              		.loc 1 614 13 view .LVU3669
 9676              	.LBB795:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 9677              		.loc 1 616 2 view .LVU3670
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 9678              		.loc 1 618 2 view .LVU3671
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9679              		.loc 1 619 2 view .LVU3672
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9680              		.loc 1 620 2 view .LVU3673
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9681              		.loc 1 619 10 is_stmt 0 view .LVU3674
 9682 004a 92F815E0 		ldrb	lr, [r2, #21]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 9683              		.loc 1 619 20 view .LVU3675
 9684 004e 107D     		ldrb	r0, [r2, #20]	@ zero_extendqisi2
 9685              	.LBE795:
 9686              	.LBE794:
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 9687              		.loc 1 1826 9 view .LVU3676
 9688 0050 40EA0E22 		orr	r2, r0, lr, lsl #8
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 313


 9689              	.LVL958:
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 9690              		.loc 1 1826 6 view .LVU3677
 9691 0054 45EA0245 		orr	r5, r5, r2, lsl #16
 9692              	.LVL959:
 9693              	.L889:
1829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9694              		.loc 1 1829 2 is_stmt 1 view .LVU3678
1829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9695              		.loc 1 1829 2 is_stmt 0 view .LVU3679
 9696              	.LBE789:
 9697              	.LBE788:
4937:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH != 0
 9698              		.loc 1 4937 5 is_stmt 1 view .LVU3680
4937:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_RPATH != 0
 9699              		.loc 1 4937 8 is_stmt 0 view .LVU3681
 9700 0058 5FEACC63 		lsls	r3, ip, #27
 9701 005c 0DD4     		bmi	.L890
 9702              	.LVL960:
 9703              	.L893:
4962:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK && dclst != 0) {	/* Remove the cluster chain if exist */
 9704              		.loc 1 4962 5 is_stmt 1 view .LVU3682
4962:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK && dclst != 0) {	/* Remove the cluster chain if exist */
 9705              		.loc 1 4962 11 is_stmt 0 view .LVU3683
 9706 005e 04A8     		add	r0, sp, #16
 9707 0060 FFF7FEFF 		bl	dir_remove
 9708              	.LVL961:
4963:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 9709              		.loc 1 4963 5 is_stmt 1 view .LVU3684
4963:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 9710              		.loc 1 4963 8 is_stmt 0 view .LVU3685
 9711 0064 0028     		cmp	r0, #0
 9712 0066 D4D1     		bne	.L887
4963:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 9713              		.loc 1 4963 22 discriminator 1 view .LVU3686
 9714 0068 B5B9     		cbnz	r5, .L894
 9715              	.L895:
 9716              	.LVL962:
4970:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 9717              		.loc 1 4970 23 is_stmt 1 view .LVU3687
4970:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 9718              		.loc 1 4970 29 is_stmt 0 view .LVU3688
 9719 006a 0398     		ldr	r0, [sp, #12]
 9720 006c FFF7FEFF 		bl	sync_fs
 9721              	.LVL963:
4970:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 9722              		.loc 1 4970 29 view .LVU3689
 9723 0070 CFE7     		b	.L887
 9724              	.LVL964:
 9725              	.L892:
4923:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 9726              		.loc 1 4923 10 view .LVU3690
 9727 0072 0720     		movs	r0, #7
 9728 0074 CDE7     		b	.L887
 9729              	.LVL965:
 9730              	.L896:
4920:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 314


 9731              		.loc 1 4920 9 view .LVU3691
 9732 0076 0620     		movs	r0, #6
 9733 0078 CBE7     		b	.L887
 9734              	.LVL966:
 9735              	.L890:
4944:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						sdj.obj.sclust = dclst;
 9736              		.loc 1 4944 7 is_stmt 1 view .LVU3692
4952:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (res == FR_OK) {
 9737              		.loc 1 4952 13 is_stmt 0 view .LVU3693
 9738 007a 0FA8     		add	r0, sp, #60
4944:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						sdj.obj.sclust = dclst;
 9739              		.loc 1 4944 18 view .LVU3694
 9740 007c 0F91     		str	r1, [sp, #60]
4945:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 9741              		.loc 1 4945 7 is_stmt 1 view .LVU3695
4945:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 9742              		.loc 1 4945 22 is_stmt 0 view .LVU3696
 9743 007e 1195     		str	r5, [sp, #68]
4952:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (res == FR_OK) {
 9744              		.loc 1 4952 7 is_stmt 1 view .LVU3697
4952:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (res == FR_OK) {
 9745              		.loc 1 4952 13 is_stmt 0 view .LVU3698
 9746 0080 FFF7FEFF 		bl	dir_sdi.constprop.0
 9747              	.LVL967:
4953:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							res = DIR_READ_FILE(&sdj);			/* Test if the directory is empty */
 9748              		.loc 1 4953 7 is_stmt 1 view .LVU3699
4953:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							res = DIR_READ_FILE(&sdj);			/* Test if the directory is empty */
 9749              		.loc 1 4953 10 is_stmt 0 view .LVU3700
 9750 0084 0028     		cmp	r0, #0
 9751 0086 C4D1     		bne	.L887
4954:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 9752              		.loc 1 4954 8 is_stmt 1 view .LVU3701
4954:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 9753              		.loc 1 4954 14 is_stmt 0 view .LVU3702
 9754 0088 0FA8     		add	r0, sp, #60
 9755              	.LVL968:
4954:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 9756              		.loc 1 4954 14 view .LVU3703
 9757 008a FFF7FEFF 		bl	dir_read.constprop.0
 9758              	.LVL969:
4955:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 9759              		.loc 1 4955 8 is_stmt 1 view .LVU3704
4955:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 9760              		.loc 1 4955 11 is_stmt 0 view .LVU3705
 9761 008e 0028     		cmp	r0, #0
 9762 0090 EFD0     		beq	.L892
4956:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 9763              		.loc 1 4956 8 is_stmt 1 view .LVU3706
4956:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
 9764              		.loc 1 4956 11 is_stmt 0 view .LVU3707
 9765 0092 0428     		cmp	r0, #4
 9766 0094 BDD1     		bne	.L887
 9767 0096 E2E7     		b	.L893
 9768              	.LVL970:
 9769              	.L894:
4967:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 9770              		.loc 1 4967 6 is_stmt 1 view .LVU3708
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 315


4967:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 9771              		.loc 1 4967 12 is_stmt 0 view .LVU3709
 9772 0098 0246     		mov	r2, r0
 9773 009a 2946     		mov	r1, r5
 9774 009c 04A8     		add	r0, sp, #16
 9775              	.LVL971:
4967:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
 9776              		.loc 1 4967 12 view .LVU3710
 9777 009e FFF7FEFF 		bl	remove_chain
 9778              	.LVL972:
4970:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 9779              		.loc 1 4970 5 is_stmt 1 view .LVU3711
4970:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 9780              		.loc 1 4970 8 is_stmt 0 view .LVU3712
 9781 00a2 0028     		cmp	r0, #0
 9782 00a4 B5D1     		bne	.L887
 9783 00a6 E0E7     		b	.L895
 9784              		.cfi_endproc
 9785              	.LFE45:
 9787              		.section	.text.f_mkdir,"ax",%progbits
 9788              		.align	1
 9789              		.p2align 2,,3
 9790              		.global	f_mkdir
 9791              		.syntax unified
 9792              		.thumb
 9793              		.thumb_func
 9794              		.fpu fpv4-sp-d16
 9796              	f_mkdir:
 9797              	.LVL973:
 9798              	.LFB46:
4978:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4979:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4980:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4981:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4982:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4983:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Create a Directory                                                    */
4984:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
4985:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4986:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_mkdir (
4987:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR* path		/* Pointer to the directory path */
4988:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
4989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 9799              		.loc 1 4989 1 is_stmt 1 view -0
 9800              		.cfi_startproc
 9801              		@ args = 0, pretend = 0, frame = 72
 9802              		@ frame_needed = 0, uses_anonymous_args = 0
4990:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 9803              		.loc 1 4990 2 view .LVU3714
4991:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR dj;
 9804              		.loc 1 4991 2 view .LVU3715
4992:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FFOBJID sobj;
 9805              		.loc 1 4992 2 view .LVU3716
4993:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
 9806              		.loc 1 4993 2 view .LVU3717
4994:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DWORD dcl, pcl, tm;
 9807              		.loc 1 4994 2 view .LVU3718
4995:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DEF_NAMBUF
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 316


4996:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4997:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
4998:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = mount_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
 9808              		.loc 1 4998 2 view .LVU3719
4989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 9809              		.loc 1 4989 1 is_stmt 0 view .LVU3720
 9810 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 9811              		.cfi_def_cfa_offset 28
 9812              		.cfi_offset 4, -28
 9813              		.cfi_offset 5, -24
 9814              		.cfi_offset 6, -20
 9815              		.cfi_offset 7, -16
 9816              		.cfi_offset 8, -12
 9817              		.cfi_offset 9, -8
 9818              		.cfi_offset 14, -4
 9819 0004 93B0     		sub	sp, sp, #76
 9820              		.cfi_def_cfa_offset 104
 9821              		.loc 1 4998 8 view .LVU3721
 9822 0006 0222     		movs	r2, #2
4989:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 9823              		.loc 1 4989 1 view .LVU3722
 9824 0008 0190     		str	r0, [sp, #4]
 9825              		.loc 1 4998 8 view .LVU3723
 9826 000a 02A9     		add	r1, sp, #8
 9827 000c 01A8     		add	r0, sp, #4
 9828              	.LVL974:
 9829              		.loc 1 4998 8 view .LVU3724
 9830 000e FFF7FEFF 		bl	mount_volume
 9831              	.LVL975:
 9832              		.loc 1 4998 8 view .LVU3725
 9833 0012 0446     		mov	r4, r0
 9834              	.LVL976:
4999:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
 9835              		.loc 1 4999 2 is_stmt 1 view .LVU3726
 9836              		.loc 1 4999 5 is_stmt 0 view .LVU3727
 9837 0014 18B1     		cbz	r0, .L920
 9838              	.LVL977:
 9839              	.L918:
5000:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dj.obj.fs = fs;
5001:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		INIT_NAMBUF(fs);
5002:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
5003:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Name collision? */
5004:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (FF_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {	/* Invalid name? */
5005:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_INVALID_NAME;
5006:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
5007:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_NO_FILE) {				/* It is clear to create a new directory */
5008:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sobj.fs = fs;						/* New object id to create a new chain */
5009:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			dcl = create_chain(&sobj, 0);		/* Allocate a cluster for the new directory */
5010:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_OK;
5011:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster? */
5012:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;		/* Any insanity? */
5013:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;	/* Disk error? */
5014:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			tm = GET_FATTIME();
5015:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_OK) {
5016:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = dir_clear(fs, dcl);		/* Clean up the new table */
5017:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {
5018:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (!FF_FS_EXFAT || fs->fs_type != FS_EXFAT) {	/* Create dot entries (FAT only) */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 317


5019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						memset(fs->win + DIR_Name, ' ', 11);	/* Create "." entry */
5020:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[DIR_Name] = '.';
5021:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[DIR_Attr] = AM_DIR;
5022:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_dword(fs->win + DIR_ModTime, tm);
5023:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_clust(fs, fs->win, dcl);
5024:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						memcpy(fs->win + SZDIRE, fs->win, SZDIRE);	/* Create ".." entry */
5025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
5026:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_clust(fs, fs->win + SZDIRE, pcl);
5027:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->wflag = 1;
5028:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
5029:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = dir_register(&dj);	/* Register the object to the parent directoy */
5030:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
5031:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
5032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_OK) {
5033:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
5034:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* Initialize directory entry block */
5035:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, tm);	/* Created time */
5036:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, dcl);	/* Table start cluster */
5037:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_dword(fs->dirbuf + XDIR_FileSize, (DWORD)fs->csize * SS(fs));	/* Directory size needs to be
5038:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_dword(fs->dirbuf + XDIR_ValidFileSize, (DWORD)fs->csize * SS(fs));
5039:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 3;				/* Initialize the object flag */
5040:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_DIR;				/* Attribute */
5041:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = store_xdir(&dj);
5042:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				} else
5043:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
5044:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				{
5045:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_dword(dj.dir + DIR_ModTime, tm);	/* Created time */
5046:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_clust(fs, dj.dir, dcl);			/* Table start cluster */
5047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					dj.dir[DIR_Attr] = AM_DIR;			/* Attribute */
5048:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->wflag = 1;
5049:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
5050:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {
5051:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = sync_fs(fs);
5052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
5053:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else {
5054:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				remove_chain(&sobj, dcl, 0);		/* Could not register, remove the allocated cluster */
5055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
5056:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
5057:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		FREE_NAMBUF();
5058:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
5059:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
5060:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, res);
5061:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9840              		.loc 1 5061 1 view .LVU3728
 9841 0016 2046     		mov	r0, r4
 9842 0018 13B0     		add	sp, sp, #76
 9843              		.cfi_remember_state
 9844              		.cfi_def_cfa_offset 28
 9845              		@ sp needed
 9846 001a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 9847              	.LVL978:
 9848              	.L920:
 9849              		.cfi_restore_state
5000:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dj.obj.fs = fs;
 9850              		.loc 1 5000 3 is_stmt 1 view .LVU3729
5002:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Name collision? */
 9851              		.loc 1 5002 9 is_stmt 0 view .LVU3730
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 318


 9852 001e DDE90113 		ldrd	r1, r3, [sp, #4]
 9853 0022 0546     		mov	r5, r0
 9854 0024 07A8     		add	r0, sp, #28
 9855              	.LVL979:
5000:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		dj.obj.fs = fs;
 9856              		.loc 1 5000 13 view .LVU3731
 9857 0026 0793     		str	r3, [sp, #28]
5001:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
 9858              		.loc 1 5001 18 is_stmt 1 view .LVU3732
5002:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Name collision? */
 9859              		.loc 1 5002 3 view .LVU3733
5002:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Name collision? */
 9860              		.loc 1 5002 9 is_stmt 0 view .LVU3734
 9861 0028 FFF7FEFF 		bl	follow_path
 9862              	.LVL980:
5003:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (FF_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {	/* Invalid name? */
 9863              		.loc 1 5003 3 is_stmt 1 view .LVU3735
5003:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (FF_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {	/* Invalid name? */
 9864              		.loc 1 5003 6 is_stmt 0 view .LVU3736
 9865 002c 0446     		mov	r4, r0
 9866 002e C8B1     		cbz	r0, .L914
5004:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_INVALID_NAME;
 9867              		.loc 1 5004 3 is_stmt 1 view .LVU3737
5007:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sobj.fs = fs;						/* New object id to create a new chain */
 9868              		.loc 1 5007 3 view .LVU3738
5007:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			sobj.fs = fs;						/* New object id to create a new chain */
 9869              		.loc 1 5007 6 is_stmt 0 view .LVU3739
 9870 0030 0428     		cmp	r0, #4
 9871 0032 F0D1     		bne	.L918
5008:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			dcl = create_chain(&sobj, 0);		/* Allocate a cluster for the new directory */
 9872              		.loc 1 5008 4 is_stmt 1 view .LVU3740
5008:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			dcl = create_chain(&sobj, 0);		/* Allocate a cluster for the new directory */
 9873              		.loc 1 5008 12 is_stmt 0 view .LVU3741
 9874 0034 029A     		ldr	r2, [sp, #8]
 9875 0036 0392     		str	r2, [sp, #12]
5009:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_OK;
 9876              		.loc 1 5009 4 is_stmt 1 view .LVU3742
5009:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_OK;
 9877              		.loc 1 5009 10 is_stmt 0 view .LVU3743
 9878 0038 2946     		mov	r1, r5
 9879 003a 03A8     		add	r0, sp, #12
 9880              	.LVL981:
5009:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = FR_OK;
 9881              		.loc 1 5009 10 view .LVU3744
 9882 003c FFF7FEFF 		bl	create_chain
 9883              	.LVL982:
5010:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster? */
 9884              		.loc 1 5010 4 is_stmt 1 view .LVU3745
5011:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;		/* Any insanity? */
 9885              		.loc 1 5011 4 view .LVU3746
5011:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;		/* Any insanity? */
 9886              		.loc 1 5011 7 is_stmt 0 view .LVU3747
 9887 0040 0546     		mov	r5, r0
 9888 0042 A0B1     		cbz	r0, .L915
5012:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;	/* Disk error? */
 9889              		.loc 1 5012 4 is_stmt 1 view .LVU3748
5012:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;	/* Disk error? */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 319


 9890              		.loc 1 5012 7 is_stmt 0 view .LVU3749
 9891 0044 0128     		cmp	r0, #1
 9892 0046 14D0     		beq	.L916
5013:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			tm = GET_FATTIME();
 9893              		.loc 1 5013 4 is_stmt 1 view .LVU3750
5013:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			tm = GET_FATTIME();
 9894              		.loc 1 5013 7 is_stmt 0 view .LVU3751
 9895 0048 431C     		adds	r3, r0, #1
 9896 004a 14D0     		beq	.L917
 9897              	.LVL983:
5016:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {
 9898              		.loc 1 5016 5 is_stmt 1 view .LVU3752
5016:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {
 9899              		.loc 1 5016 11 is_stmt 0 view .LVU3753
 9900 004c 0146     		mov	r1, r0
 9901 004e 0298     		ldr	r0, [sp, #8]
 9902              	.LVL984:
5016:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {
 9903              		.loc 1 5016 11 view .LVU3754
 9904 0050 FFF7FEFF 		bl	dir_clear
 9905              	.LVL985:
5016:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {
 9906              		.loc 1 5016 11 view .LVU3755
 9907 0054 0446     		mov	r4, r0
 9908              	.LVL986:
5017:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (!FF_FS_EXFAT || fs->fs_type != FS_EXFAT) {	/* Create dot entries (FAT only) */
 9909              		.loc 1 5017 5 is_stmt 1 view .LVU3756
5017:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (!FF_FS_EXFAT || fs->fs_type != FS_EXFAT) {	/* Create dot entries (FAT only) */
 9910              		.loc 1 5017 8 is_stmt 0 view .LVU3757
 9911 0056 80B1     		cbz	r0, .L921
 9912              	.LVL987:
 9913              	.L910:
5054:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
 9914              		.loc 1 5054 5 is_stmt 1 view .LVU3758
 9915 0058 2946     		mov	r1, r5
 9916 005a 03A8     		add	r0, sp, #12
 9917 005c 0022     		movs	r2, #0
 9918 005e FFF7FEFF 		bl	remove_chain
 9919              	.LVL988:
 9920 0062 D8E7     		b	.L918
 9921              	.LVL989:
 9922              	.L914:
5003:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (FF_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {	/* Invalid name? */
 9923              		.loc 1 5003 25 is_stmt 0 view .LVU3759
 9924 0064 0824     		movs	r4, #8
 9925              	.LVL990:
5057:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 9926              		.loc 1 5057 16 is_stmt 1 view .LVU3760
5060:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9927              		.loc 1 5060 2 view .LVU3761
 9928              		.loc 1 5061 1 is_stmt 0 view .LVU3762
 9929 0066 2046     		mov	r0, r4
 9930 0068 13B0     		add	sp, sp, #76
 9931              		.cfi_remember_state
 9932              		.cfi_def_cfa_offset 28
 9933              		@ sp needed
 9934 006a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 320


 9935              	.LVL991:
 9936              	.L915:
 9937              		.cfi_restore_state
5011:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;		/* Any insanity? */
 9938              		.loc 1 5011 22 view .LVU3763
 9939 006e 0724     		movs	r4, #7
 9940 0070 F2E7     		b	.L910
 9941              	.L916:
5012:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;	/* Disk error? */
 9942              		.loc 1 5012 22 view .LVU3764
 9943 0072 0224     		movs	r4, #2
 9944 0074 F0E7     		b	.L910
 9945              	.L917:
5013:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			tm = GET_FATTIME();
 9946              		.loc 1 5013 31 view .LVU3765
 9947 0076 0124     		movs	r4, #1
 9948 0078 EEE7     		b	.L910
 9949              	.LVL992:
 9950              	.L921:
5018:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						memset(fs->win + DIR_Name, ' ', 11);	/* Create "." entry */
 9951              		.loc 1 5018 6 is_stmt 1 view .LVU3766
5019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[DIR_Name] = '.';
 9952              		.loc 1 5019 7 view .LVU3767
5019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[DIR_Name] = '.';
 9953              		.loc 1 5019 16 is_stmt 0 view .LVU3768
 9954 007a 029B     		ldr	r3, [sp, #8]
 9955              	.LBB796:
 9956              	.LBB797:
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 9957              		.loc 1 1841 5 view .LVU3769
 9958 007c 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 9959              	.LBE797:
 9960              	.LBE796:
 9961              	.LBB807:
 9962              	.LBB808:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 9963              		.loc 1 660 9 view .LVU3770
 9964 007e 83F84600 		strb	r0, [r3, #70]
 9965              	.LBE808:
 9966              	.LBE807:
5021:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_dword(fs->win + DIR_ModTime, tm);
 9967              		.loc 1 5021 25 view .LVU3771
 9968 0082 1026     		movs	r6, #16
 9969              	.LBB815:
 9970              	.LBB809:
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 9971              		.loc 1 662 9 view .LVU3772
 9972 0084 2127     		movs	r7, #33
 9973              	.LBE809:
 9974              	.LBE815:
5019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[DIR_Name] = '.';
 9975              		.loc 1 5019 7 view .LVU3773
 9976 0086 4FF02032 		mov	r2, #538976288
 9977              	.LBB816:
 9978              	.LBB810:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9979              		.loc 1 663 9 view .LVU3774
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 321


 9980 008a 4FF0500C 		mov	ip, #80
 9981              	.LBE810:
 9982              	.LBE816:
5020:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[DIR_Attr] = AM_DIR;
 9983              		.loc 1 5020 25 view .LVU3775
 9984 008e 2E21     		movs	r1, #46
5021:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_dword(fs->win + DIR_ModTime, tm);
 9985              		.loc 1 5021 25 view .LVU3776
 9986 0090 83F83B60 		strb	r6, [r3, #59]
 9987              	.LBB817:
 9988              	.LBB811:
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 9989              		.loc 1 662 9 view .LVU3777
 9990 0094 83F84870 		strb	r7, [r3, #72]
 9991              	.LBE811:
 9992              	.LBE817:
 9993              	.LBB818:
 9994              	.LBB804:
 9995              	.LBB798:
 9996              	.LBB799:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 9997              		.loc 1 654 11 view .LVU3778
 9998 0098 EEB2     		uxtb	r6, r5
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 9999              		.loc 1 655 11 view .LVU3779
 10000 009a C5F30727 		ubfx	r7, r5, #8, #8
 10001              	.LBE799:
 10002              	.LBE798:
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 10003              		.loc 1 1841 5 view .LVU3780
 10004 009e 032C     		cmp	r4, #3
 10005              	.LBE804:
 10006              	.LBE818:
5019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[DIR_Name] = '.';
 10007              		.loc 1 5019 7 view .LVU3781
 10008 00a0 1A63     		str	r2, [r3, #48]	@ unaligned
 10009 00a2 5A63     		str	r2, [r3, #52]	@ unaligned
 10010              	.LBB819:
 10011              	.LBB812:
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 10012              		.loc 1 661 9 view .LVU3782
 10013 00a4 83F84700 		strb	r0, [r3, #71]
 10014              	.LBE812:
 10015              	.LBE819:
5019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[DIR_Name] = '.';
 10016              		.loc 1 5019 7 view .LVU3783
 10017 00a8 C3F83720 		str	r2, [r3, #55]	@ unaligned
5020:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[DIR_Attr] = AM_DIR;
 10018              		.loc 1 5020 7 is_stmt 1 view .LVU3784
5021:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_dword(fs->win + DIR_ModTime, tm);
 10019              		.loc 1 5021 7 view .LVU3785
5022:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_clust(fs, fs->win, dcl);
 10020              		.loc 1 5022 7 view .LVU3786
 10021              	.LVL993:
 10022              	.LBB820:
 10023              	.LBI807:
 658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 322


 10024              		.loc 1 658 13 view .LVU3787
 10025              	.LBB813:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 10026              		.loc 1 660 2 view .LVU3788
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 10027              		.loc 1 660 22 view .LVU3789
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 10028              		.loc 1 661 2 view .LVU3790
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 10029              		.loc 1 661 22 view .LVU3791
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10030              		.loc 1 662 2 view .LVU3792
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10031              		.loc 1 662 22 view .LVU3793
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10032              		.loc 1 663 2 view .LVU3794
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10033              		.loc 1 663 2 is_stmt 0 view .LVU3795
 10034              	.LBE813:
 10035              	.LBE820:
5023:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						memcpy(fs->win + SZDIRE, fs->win, SZDIRE);	/* Create ".." entry */
 10036              		.loc 1 5023 7 is_stmt 1 view .LVU3796
 10037              	.LBB821:
 10038              	.LBB814:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10039              		.loc 1 663 9 is_stmt 0 view .LVU3797
 10040 00ac 83F849C0 		strb	ip, [r3, #73]
 10041              	.LBE814:
 10042              	.LBE821:
5020:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[DIR_Attr] = AM_DIR;
 10043              		.loc 1 5020 25 view .LVU3798
 10044 00b0 83F83010 		strb	r1, [r3, #48]
5019:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[DIR_Name] = '.';
 10045              		.loc 1 5019 14 view .LVU3799
 10046 00b4 03F13002 		add	r2, r3, #48
 10047              	.LVL994:
 10048              	.LBB822:
 10049              	.LBI796:
1834:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
 10050              		.loc 1 1834 13 is_stmt 1 view .LVU3800
 10051              	.LBB805:
1840:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 10052              		.loc 1 1840 2 view .LVU3801
 10053              	.LBB801:
 10054              	.LBI798:
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 10055              		.loc 1 652 13 view .LVU3802
 10056              	.LBB800:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10057              		.loc 1 654 2 view .LVU3803
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10058              		.loc 1 654 9 is_stmt 0 view .LVU3804
 10059 00b8 83F84A60 		strb	r6, [r3, #74]
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10060              		.loc 1 654 22 is_stmt 1 view .LVU3805
 10061              	.LVL995:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 323


 10062              		.loc 1 655 2 view .LVU3806
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10063              		.loc 1 655 9 is_stmt 0 view .LVU3807
 10064 00bc 83F84B70 		strb	r7, [r3, #75]
 10065              	.LVL996:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10066              		.loc 1 655 9 view .LVU3808
 10067              	.LBE800:
 10068              	.LBE801:
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 10069              		.loc 1 1841 2 is_stmt 1 view .LVU3809
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 10070              		.loc 1 1841 5 is_stmt 0 view .LVU3810
 10071 00c0 46D0     		beq	.L922
 10072              	.LVL997:
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 10073              		.loc 1 1841 5 view .LVU3811
 10074              	.LBE805:
 10075              	.LBE822:
5024:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 10076              		.loc 1 5024 7 is_stmt 1 view .LVU3812
 10077 00c2 D2F80080 		ldr	r8, [r2]	@ unaligned
 10078 00c6 D2F804E0 		ldr	lr, [r2, #4]	@ unaligned
 10079 00ca D468     		ldr	r4, [r2, #12]	@ unaligned
 10080 00cc D2F80890 		ldr	r9, [r2, #8]	@ unaligned
5025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_clust(fs, fs->win + SZDIRE, pcl);
 10081              		.loc 1 5025 38 is_stmt 0 view .LVU3813
 10082 00d0 0998     		ldr	r0, [sp, #36]
 10083              	.LVL998:
5024:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 10084              		.loc 1 5024 7 view .LVU3814
 10085 00d2 C3F85080 		str	r8, [r3, #80]	@ unaligned
 10086 00d6 C3F854E0 		str	lr, [r3, #84]	@ unaligned
 10087 00da C3F85890 		str	r9, [r3, #88]	@ unaligned
 10088 00de DC65     		str	r4, [r3, #92]	@ unaligned
 10089 00e0 D2F81080 		ldr	r8, [r2, #16]	@ unaligned
 10090 00e4 5469     		ldr	r4, [r2, #20]	@ unaligned
 10091 00e6 D2F818C0 		ldr	ip, [r2, #24]	@ unaligned
 10092 00ea D269     		ldr	r2, [r2, #28]	@ unaligned
 10093 00ec DA66     		str	r2, [r3, #108]	@ unaligned
5025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_clust(fs, fs->win + SZDIRE, pcl);
 10094              		.loc 1 5025 7 is_stmt 1 view .LVU3815
 10095              	.LBB823:
 10096              	.LBB824:
 10097              	.LBB825:
 10098              	.LBB826:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10099              		.loc 1 654 26 is_stmt 0 view .LVU3816
 10100 00ee C0F3072E 		ubfx	lr, r0, #8, #8
 10101              	.LBE826:
 10102              	.LBE825:
 10103              	.LBE824:
 10104              	.LBE823:
5024:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 10105              		.loc 1 5024 7 view .LVU3817
 10106 00f2 C3F868C0 		str	ip, [r3, #104]	@ unaligned
 10107 00f6 C3F86080 		str	r8, [r3, #96]	@ unaligned
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 324


 10108 00fa 5C66     		str	r4, [r3, #100]	@ unaligned
5025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_clust(fs, fs->win + SZDIRE, pcl);
 10109              		.loc 1 5025 27 view .LVU3818
 10110 00fc 83F85110 		strb	r1, [r3, #81]
5025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_clust(fs, fs->win + SZDIRE, pcl);
 10111              		.loc 1 5025 34 is_stmt 1 view .LVU3819
 10112              	.LVL999:
5026:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->wflag = 1;
 10113              		.loc 1 5026 7 view .LVU3820
 10114              	.LBB844:
 10115              	.LBI823:
1834:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
 10116              		.loc 1 1834 13 view .LVU3821
 10117              	.LBB841:
1840:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 10118              		.loc 1 1840 2 view .LVU3822
 10119              	.LBB831:
 10120              	.LBI825:
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 10121              		.loc 1 652 13 view .LVU3823
 10122              	.LBB827:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10123              		.loc 1 654 2 view .LVU3824
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10124              		.loc 1 654 11 is_stmt 0 view .LVU3825
 10125 0100 83F86A00 		strb	r0, [r3, #106]
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10126              		.loc 1 654 22 is_stmt 1 view .LVU3826
 10127              	.LVL1000:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10128              		.loc 1 655 2 view .LVU3827
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10129              		.loc 1 655 11 is_stmt 0 view .LVU3828
 10130 0104 83F86BE0 		strb	lr, [r3, #107]
 10131              	.LVL1001:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10132              		.loc 1 655 11 view .LVU3829
 10133              	.LBE827:
 10134              	.LBE831:
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 10135              		.loc 1 1841 2 is_stmt 1 view .LVU3830
 10136              	.L913:
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 10137              		.loc 1 1841 2 is_stmt 0 view .LVU3831
 10138              	.LBE841:
 10139              	.LBE844:
5027:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 10140              		.loc 1 5027 7 is_stmt 1 view .LVU3832
5027:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 10141              		.loc 1 5027 17 is_stmt 0 view .LVU3833
 10142 0108 0121     		movs	r1, #1
5029:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10143              		.loc 1 5029 12 view .LVU3834
 10144 010a 07A8     		add	r0, sp, #28
5027:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
 10145              		.loc 1 5027 17 view .LVU3835
 10146 010c D970     		strb	r1, [r3, #3]
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 325


5029:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10147              		.loc 1 5029 6 is_stmt 1 view .LVU3836
5029:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10148              		.loc 1 5029 12 is_stmt 0 view .LVU3837
 10149 010e FFF7FEFF 		bl	dir_register
 10150              	.LVL1002:
5029:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10151              		.loc 1 5029 12 view .LVU3838
 10152 0112 0446     		mov	r4, r0
 10153              	.LVL1003:
5032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 10154              		.loc 1 5032 4 is_stmt 1 view .LVU3839
5032:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 10155              		.loc 1 5032 7 is_stmt 0 view .LVU3840
 10156 0114 0028     		cmp	r0, #0
 10157 0116 9FD1     		bne	.L910
5045:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_clust(fs, dj.dir, dcl);			/* Table start cluster */
 10158              		.loc 1 5045 6 is_stmt 1 view .LVU3841
5045:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					st_clust(fs, dj.dir, dcl);			/* Table start cluster */
 10159              		.loc 1 5045 17 is_stmt 0 view .LVU3842
 10160 0118 0E9B     		ldr	r3, [sp, #56]
 10161              	.LVL1004:
 10162              	.LBB845:
 10163              	.LBI845:
 658:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 10164              		.loc 1 658 13 is_stmt 1 view .LVU3843
 10165              	.LBB846:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 10166              		.loc 1 660 2 view .LVU3844
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 10167              		.loc 1 660 2 is_stmt 0 view .LVU3845
 10168              	.LBE846:
 10169              	.LBE845:
5046:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					dj.dir[DIR_Attr] = AM_DIR;			/* Attribute */
 10170              		.loc 1 5046 6 view .LVU3846
 10171 011a 029C     		ldr	r4, [sp, #8]
 10172              	.LBB848:
 10173              	.LBB847:
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 10174              		.loc 1 660 9 view .LVU3847
 10175 011c 9875     		strb	r0, [r3, #22]
 660:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 10176              		.loc 1 660 22 is_stmt 1 view .LVU3848
 10177              	.LVL1005:
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 10178              		.loc 1 661 2 view .LVU3849
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 10179              		.loc 1 661 9 is_stmt 0 view .LVU3850
 10180 011e D875     		strb	r0, [r3, #23]
 661:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 10181              		.loc 1 661 22 is_stmt 1 view .LVU3851
 10182              	.LVL1006:
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10183              		.loc 1 662 2 view .LVU3852
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10184              		.loc 1 663 9 is_stmt 0 view .LVU3853
 10185 0120 5022     		movs	r2, #80
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 326


 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10186              		.loc 1 662 9 view .LVU3854
 10187 0122 2120     		movs	r0, #33
 10188              	.LVL1007:
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10189              		.loc 1 662 9 view .LVU3855
 10190 0124 1876     		strb	r0, [r3, #24]
 662:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10191              		.loc 1 662 22 is_stmt 1 view .LVU3856
 10192              	.LVL1008:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10193              		.loc 1 663 2 view .LVU3857
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10194              		.loc 1 663 9 is_stmt 0 view .LVU3858
 10195 0126 5A76     		strb	r2, [r3, #25]
 10196              	.LVL1009:
 663:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10197              		.loc 1 663 9 view .LVU3859
 10198              	.LBE847:
 10199              	.LBE848:
5046:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					dj.dir[DIR_Attr] = AM_DIR;			/* Attribute */
 10200              		.loc 1 5046 6 is_stmt 1 view .LVU3860
 10201 0128 0E9B     		ldr	r3, [sp, #56]
 10202              	.LVL1010:
 10203              	.LBB849:
 10204              	.LBI849:
1834:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
 10205              		.loc 1 1834 13 view .LVU3861
 10206              	.LBB850:
1840:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 10207              		.loc 1 1840 2 view .LVU3862
 10208              	.LBB851:
 10209              	.LBI851:
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 10210              		.loc 1 652 13 view .LVU3863
 10211              	.LBB852:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10212              		.loc 1 654 2 view .LVU3864
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10213              		.loc 1 654 9 is_stmt 0 view .LVU3865
 10214 012a 9E76     		strb	r6, [r3, #26]
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10215              		.loc 1 654 22 is_stmt 1 view .LVU3866
 10216              	.LVL1011:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10217              		.loc 1 655 2 view .LVU3867
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10218              		.loc 1 655 9 is_stmt 0 view .LVU3868
 10219 012c DF76     		strb	r7, [r3, #27]
 10220              	.LVL1012:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10221              		.loc 1 655 9 view .LVU3869
 10222              	.LBE852:
 10223              	.LBE851:
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 10224              		.loc 1 1841 2 is_stmt 1 view .LVU3870
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 327


 10225              		.loc 1 1841 5 is_stmt 0 view .LVU3871
 10226 012e 2678     		ldrb	r6, [r4]	@ zero_extendqisi2
 10227 0130 032E     		cmp	r6, #3
 10228 0132 03D1     		bne	.L912
1842:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 10229              		.loc 1 1842 3 is_stmt 1 view .LVU3872
1842:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 10230              		.loc 1 1842 42 is_stmt 0 view .LVU3873
 10231 0134 2D0C     		lsrs	r5, r5, #16
 10232              	.LVL1013:
 10233              	.LBB853:
 10234              	.LBI853:
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 10235              		.loc 1 652 13 is_stmt 1 view .LVU3874
 10236              	.LBB854:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10237              		.loc 1 654 2 view .LVU3875
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10238              		.loc 1 654 26 is_stmt 0 view .LVU3876
 10239 0136 2F0A     		lsrs	r7, r5, #8
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10240              		.loc 1 654 11 view .LVU3877
 10241 0138 1D75     		strb	r5, [r3, #20]
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10242              		.loc 1 654 22 is_stmt 1 view .LVU3878
 10243              	.LVL1014:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10244              		.loc 1 655 2 view .LVU3879
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10245              		.loc 1 655 11 is_stmt 0 view .LVU3880
 10246 013a 5F75     		strb	r7, [r3, #21]
 10247              	.LVL1015:
 10248              	.L912:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10249              		.loc 1 655 11 view .LVU3881
 10250              	.LBE854:
 10251              	.LBE853:
 10252              	.LBE850:
 10253              	.LBE849:
5047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->wflag = 1;
 10254              		.loc 1 5047 6 is_stmt 1 view .LVU3882
5047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->wflag = 1;
 10255              		.loc 1 5047 8 is_stmt 0 view .LVU3883
 10256 013c 0E99     		ldr	r1, [sp, #56]
5047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->wflag = 1;
 10257              		.loc 1 5047 23 view .LVU3884
 10258 013e 1020     		movs	r0, #16
5048:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10259              		.loc 1 5048 16 view .LVU3885
 10260 0140 0122     		movs	r2, #1
5047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					fs->wflag = 1;
 10261              		.loc 1 5047 23 view .LVU3886
 10262 0142 C872     		strb	r0, [r1, #11]
5048:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10263              		.loc 1 5048 6 is_stmt 1 view .LVU3887
5051:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10264              		.loc 1 5051 12 is_stmt 0 view .LVU3888
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 328


 10265 0144 2046     		mov	r0, r4
5048:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10266              		.loc 1 5048 16 view .LVU3889
 10267 0146 E270     		strb	r2, [r4, #3]
5050:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = sync_fs(fs);
 10268              		.loc 1 5050 5 is_stmt 1 view .LVU3890
5051:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10269              		.loc 1 5051 6 view .LVU3891
5051:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10270              		.loc 1 5051 12 is_stmt 0 view .LVU3892
 10271 0148 FFF7FEFF 		bl	sync_fs
 10272              	.LVL1016:
 10273 014c 0446     		mov	r4, r0
 10274              	.LVL1017:
5051:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10275              		.loc 1 5051 12 view .LVU3893
 10276 014e 62E7     		b	.L918
 10277              	.LVL1018:
 10278              	.L922:
 10279              	.LBB855:
 10280              	.LBB806:
1842:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 10281              		.loc 1 1842 3 is_stmt 1 view .LVU3894
1842:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 10282              		.loc 1 1842 42 is_stmt 0 view .LVU3895
 10283 0150 280C     		lsrs	r0, r5, #16
 10284              	.LVL1019:
 10285              	.LBB802:
 10286              	.LBI802:
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 10287              		.loc 1 652 13 is_stmt 1 view .LVU3896
 10288              	.LBB803:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10289              		.loc 1 654 2 view .LVU3897
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10290              		.loc 1 654 26 is_stmt 0 view .LVU3898
 10291 0152 040A     		lsrs	r4, r0, #8
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10292              		.loc 1 654 11 view .LVU3899
 10293 0154 83F84400 		strb	r0, [r3, #68]
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10294              		.loc 1 654 22 is_stmt 1 view .LVU3900
 10295              	.LVL1020:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10296              		.loc 1 655 2 view .LVU3901
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10297              		.loc 1 655 11 is_stmt 0 view .LVU3902
 10298 0158 83F84540 		strb	r4, [r3, #69]
 10299              	.LVL1021:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10300              		.loc 1 655 11 view .LVU3903
 10301              	.LBE803:
 10302              	.LBE802:
 10303              	.LBE806:
 10304              	.LBE855:
5024:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 10305              		.loc 1 5024 7 is_stmt 1 view .LVU3904
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 329


 10306 015c D2F80090 		ldr	r9, [r2]	@ unaligned
 10307 0160 D2F804C0 		ldr	ip, [r2, #4]	@ unaligned
 10308 0164 9468     		ldr	r4, [r2, #8]	@ unaligned
 10309 0166 D2F80C80 		ldr	r8, [r2, #12]	@ unaligned
5025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_clust(fs, fs->win + SZDIRE, pcl);
 10310              		.loc 1 5025 38 is_stmt 0 view .LVU3905
 10311 016a 0998     		ldr	r0, [sp, #36]
5024:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 10312              		.loc 1 5024 7 view .LVU3906
 10313 016c C3F85090 		str	r9, [r3, #80]	@ unaligned
 10314 0170 C3F854C0 		str	ip, [r3, #84]	@ unaligned
 10315 0174 9C65     		str	r4, [r3, #88]	@ unaligned
 10316 0176 C3F85C80 		str	r8, [r3, #92]	@ unaligned
 10317 017a D2F81090 		ldr	r9, [r2, #16]	@ unaligned
 10318 017e D2F81480 		ldr	r8, [r2, #20]	@ unaligned
 10319 0182 D2F818E0 		ldr	lr, [r2, #24]	@ unaligned
 10320 0186 D269     		ldr	r2, [r2, #28]	@ unaligned
 10321 0188 C3F86090 		str	r9, [r3, #96]	@ unaligned
 10322              	.LBB856:
 10323              	.LBB842:
1842:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 10324              		.loc 1 1842 42 view .LVU3907
 10325 018c 040C     		lsrs	r4, r0, #16
 10326              	.LBB832:
 10327              	.LBB833:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10328              		.loc 1 654 26 view .LVU3908
 10329 018e 4FEA142C 		lsr	ip, r4, #8
 10330              	.LBE833:
 10331              	.LBE832:
 10332              	.LBB836:
 10333              	.LBB828:
 10334 0192 C0F30729 		ubfx	r9, r0, #8, #8
 10335              	.LBE828:
 10336              	.LBE836:
 10337              	.LBE842:
 10338              	.LBE856:
5024:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->win[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 10339              		.loc 1 5024 7 view .LVU3909
 10340 0196 C3F86480 		str	r8, [r3, #100]	@ unaligned
 10341 019a C3F868E0 		str	lr, [r3, #104]	@ unaligned
 10342 019e DA66     		str	r2, [r3, #108]	@ unaligned
5025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_clust(fs, fs->win + SZDIRE, pcl);
 10343              		.loc 1 5025 7 is_stmt 1 view .LVU3910
5025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_clust(fs, fs->win + SZDIRE, pcl);
 10344              		.loc 1 5025 27 is_stmt 0 view .LVU3911
 10345 01a0 83F85110 		strb	r1, [r3, #81]
5025:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_clust(fs, fs->win + SZDIRE, pcl);
 10346              		.loc 1 5025 34 is_stmt 1 view .LVU3912
 10347              	.LVL1022:
5026:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->wflag = 1;
 10348              		.loc 1 5026 7 view .LVU3913
 10349              	.LBB857:
1834:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
 10350              		.loc 1 1834 13 view .LVU3914
 10351              	.LBB843:
1840:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 330


 10352              		.loc 1 1840 2 view .LVU3915
 10353              	.LBB837:
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 10354              		.loc 1 652 13 view .LVU3916
 10355              	.LBB829:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10356              		.loc 1 654 2 view .LVU3917
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10357              		.loc 1 654 11 is_stmt 0 view .LVU3918
 10358 01a4 83F86A00 		strb	r0, [r3, #106]
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10359              		.loc 1 654 22 is_stmt 1 view .LVU3919
 10360              	.LVL1023:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10361              		.loc 1 655 2 view .LVU3920
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10362              		.loc 1 655 2 is_stmt 0 view .LVU3921
 10363              	.LBE829:
 10364              	.LBE837:
 10365              	.LBB838:
 10366              	.LBB834:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10367              		.loc 1 654 11 view .LVU3922
 10368 01a8 83F86440 		strb	r4, [r3, #100]
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10369              		.loc 1 655 11 view .LVU3923
 10370 01ac 83F865C0 		strb	ip, [r3, #101]
 10371              	.LBE834:
 10372              	.LBE838:
 10373              	.LBB839:
 10374              	.LBB830:
 10375 01b0 83F86B90 		strb	r9, [r3, #107]
 10376              	.LVL1024:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10377              		.loc 1 655 11 view .LVU3924
 10378              	.LBE830:
 10379              	.LBE839:
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 10380              		.loc 1 1841 2 is_stmt 1 view .LVU3925
1842:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 10381              		.loc 1 1842 3 view .LVU3926
 10382              	.LBB840:
 10383              	.LBI832:
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 10384              		.loc 1 652 13 view .LVU3927
 10385              	.LBB835:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10386              		.loc 1 654 2 view .LVU3928
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10387              		.loc 1 654 22 view .LVU3929
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10388              		.loc 1 655 2 view .LVU3930
 656:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 10389              		.loc 1 656 1 is_stmt 0 view .LVU3931
 10390 01b4 A8E7     		b	.L913
 10391              	.LBE835:
 10392              	.LBE840:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 331


 10393              	.LBE843:
 10394              	.LBE857:
 10395              		.cfi_endproc
 10396              	.LFE46:
 10398 01b6 00BF     		.section	.text.f_rename,"ax",%progbits
 10399              		.align	1
 10400              		.p2align 2,,3
 10401              		.global	f_rename
 10402              		.syntax unified
 10403              		.thumb
 10404              		.thumb_func
 10405              		.fpu fpv4-sp-d16
 10407              	f_rename:
 10408              	.LVL1025:
 10409              	.LFB47:
5062:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
5063:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
5064:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
5065:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
5066:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
5067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Rename a File/Directory                                               */
5068:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /*-----------------------------------------------------------------------*/
5069:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
5070:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** FRESULT f_rename (
5071:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR* path_old,	/* Pointer to the object name to be renamed */
5072:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	const TCHAR* path_new	/* Pointer to the new name */
5073:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** )
5074:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 10410              		.loc 1 5074 1 is_stmt 1 view -0
 10411              		.cfi_startproc
 10412              		@ args = 0, pretend = 0, frame = 136
 10413              		@ frame_needed = 0, uses_anonymous_args = 0
5075:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 10414              		.loc 1 5075 2 view .LVU3933
5076:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DIR djo, djn;
 10415              		.loc 1 5076 2 view .LVU3934
5077:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS *fs;
 10416              		.loc 1 5077 2 view .LVU3935
5078:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	BYTE buf[FF_FS_EXFAT ? SZDIRE * 2 : SZDIRE], *dir;
 10417              		.loc 1 5078 2 view .LVU3936
5079:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LBA_t sect;
 10418              		.loc 1 5079 2 view .LVU3937
5080:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	DEF_NAMBUF
5081:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
5082:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
5083:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	get_ldnumber(&path_new);						/* Snip the drive number of new name off */
 10419              		.loc 1 5083 2 view .LVU3938
5074:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 10420              		.loc 1 5074 1 is_stmt 0 view .LVU3939
 10421 0000 30B5     		push	{r4, r5, lr}
 10422              		.cfi_def_cfa_offset 12
 10423              		.cfi_offset 4, -12
 10424              		.cfi_offset 5, -8
 10425              		.cfi_offset 14, -4
 10426 0002 A3B0     		sub	sp, sp, #140
 10427              		.cfi_def_cfa_offset 152
5074:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 332


 10428              		.loc 1 5074 1 view .LVU3940
 10429 0004 0190     		str	r0, [sp, #4]
 10430              		.loc 1 5083 2 view .LVU3941
 10431 0006 6846     		mov	r0, sp
 10432              	.LVL1026:
5074:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FRESULT res;
 10433              		.loc 1 5074 1 view .LVU3942
 10434 0008 0091     		str	r1, [sp]
 10435              		.loc 1 5083 2 view .LVU3943
 10436 000a FFF7FEFF 		bl	get_ldnumber
 10437              	.LVL1027:
5084:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	res = mount_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
 10438              		.loc 1 5084 2 is_stmt 1 view .LVU3944
 10439              		.loc 1 5084 8 is_stmt 0 view .LVU3945
 10440 000e 0222     		movs	r2, #2
 10441 0010 03A9     		add	r1, sp, #12
 10442 0012 01A8     		add	r0, sp, #4
 10443 0014 FFF7FEFF 		bl	mount_volume
 10444              	.LVL1028:
5085:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (res == FR_OK) {
 10445              		.loc 1 5085 2 is_stmt 1 view .LVU3946
 10446              		.loc 1 5085 5 is_stmt 0 view .LVU3947
 10447 0018 08B1     		cbz	r0, .L941
 10448              	.LVL1029:
 10449              	.L924:
5086:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		djo.obj.fs = fs;
5087:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		INIT_NAMBUF(fs);
5088:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = follow_path(&djo, path_old);			/* Check old object */
5089:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
5090:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
5091:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {
5092:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			res = chk_lock(&djo, 2);
5093:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
5094:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
5095:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK) {					/* Object to be renamed is found */
5096:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
5097:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (fs->fs_type == FS_EXFAT) {	/* At exFAT volume */
5098:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				BYTE nf, nn;
5099:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				WORD nh;
5100:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
5101:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				memcpy(buf, fs->dirbuf, SZDIRE * 2);	/* Save 85+C0 entry of old object */
5102:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				memcpy(&djn, &djo, sizeof djo);
5103:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
5104:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
5105:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
5106:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
5107:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
5108:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
5109:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (res == FR_OK) {
5110:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						nf = fs->dirbuf[XDIR_NumSec]; nn = fs->dirbuf[XDIR_NumName];
5111:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						nh = ld_word(fs->dirbuf + XDIR_NameHash);
5112:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						memcpy(fs->dirbuf, buf, SZDIRE * 2);	/* Restore 85+C0 entry */
5113:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->dirbuf[XDIR_NumSec] = nf; fs->dirbuf[XDIR_NumName] = nn;
5114:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						st_word(fs->dirbuf + XDIR_NameHash, nh);
5115:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (!(fs->dirbuf[XDIR_Attr] & AM_DIR)) fs->dirbuf[XDIR_Attr] |= AM_ARC;	/* Set archive attrib
5116:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
5117:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						res = store_xdir(&djn);
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 333


5118:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
5119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
5120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			} else
5121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #endif
5122:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			{	/* At FAT/FAT32 volume */
5123:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				memcpy(buf, djo.dir, SZDIRE);			/* Save directory entry of the object */
5124:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				memcpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
5125:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
5126:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
5127:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
5128:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
5129:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
5130:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
5131:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (res == FR_OK) {
5132:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dir = djn.dir;					/* Copy directory entry of the object except name */
5133:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						memcpy(dir + 13, buf + 13, SZDIRE - 13);
5134:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dir[DIR_Attr] = buf[DIR_Attr];
5135:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (!(dir[DIR_Attr] & AM_DIR)) dir[DIR_Attr] |= AM_ARC;	/* Set archive attribute if it is a f
5136:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->wflag = 1;
5137:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
5138:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							sect = clst2sect(fs, ld_clust(fs, dir));
5139:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (sect == 0) {
5140:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 								res = FR_INT_ERR;
5141:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							} else {
5142:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
5143:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 								res = move_window(fs, sect);
5144:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
5145:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
5146:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
5147:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 									fs->wflag = 1;
5148:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 								}
5149:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							}
5150:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						}
5151:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					}
5152:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
5153:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
5154:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			if (res == FR_OK) {
5155:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
5156:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {
5157:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = sync_fs(fs);
5158:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
5159:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 			}
5160:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** /* End of the critical section */
5161:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		}
5162:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		FREE_NAMBUF();
 10450              		.loc 1 5162 16 is_stmt 1 view .LVU3948
5163:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
5164:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
5165:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	LEAVE_FF(fs, res);
 10451              		.loc 1 5165 2 view .LVU3949
5166:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10452              		.loc 1 5166 1 is_stmt 0 view .LVU3950
 10453 001a 23B0     		add	sp, sp, #140
 10454              		.cfi_remember_state
 10455              		.cfi_def_cfa_offset 12
 10456              		@ sp needed
 10457 001c 30BD     		pop	{r4, r5, pc}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 334


 10458              	.L941:
 10459              		.cfi_restore_state
5086:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		djo.obj.fs = fs;
 10460              		.loc 1 5086 3 is_stmt 1 view .LVU3951
5086:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		djo.obj.fs = fs;
 10461              		.loc 1 5086 14 is_stmt 0 view .LVU3952
 10462 001e 039B     		ldr	r3, [sp, #12]
5088:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 10463              		.loc 1 5088 9 view .LVU3953
 10464 0020 0199     		ldr	r1, [sp, #4]
5086:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		INIT_NAMBUF(fs);
 10465              		.loc 1 5086 14 view .LVU3954
 10466 0022 0C93     		str	r3, [sp, #48]
5087:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		res = follow_path(&djo, path_old);			/* Check old object */
 10467              		.loc 1 5087 18 is_stmt 1 view .LVU3955
5088:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 10468              		.loc 1 5088 3 view .LVU3956
5088:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 10469              		.loc 1 5088 9 is_stmt 0 view .LVU3957
 10470 0024 0CA8     		add	r0, sp, #48
 10471              	.LVL1030:
5088:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 10472              		.loc 1 5088 9 view .LVU3958
 10473 0026 FFF7FEFF 		bl	follow_path
 10474              	.LVL1031:
5089:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
 10475              		.loc 1 5089 3 is_stmt 1 view .LVU3959
5089:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
 10476              		.loc 1 5089 6 is_stmt 0 view .LVU3960
 10477 002a 0028     		cmp	r0, #0
 10478 002c F5D1     		bne	.L924
5089:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
 10479              		.loc 1 5089 20 discriminator 1 view .LVU3961
 10480 002e 9DF85B00 		ldrb	r0, [sp, #91]	@ zero_extendqisi2
 10481              	.LVL1032:
5089:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
 10482              		.loc 1 5089 20 discriminator 1 view .LVU3962
 10483 0032 10F0A00F 		tst	r0, #160
 10484 0036 40F08380 		bne	.L935
 10485              	.LVL1033:
5095:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_EXFAT
 10486              		.loc 1 5095 3 is_stmt 1 view .LVU3963
5123:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				memcpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 10487              		.loc 1 5123 5 view .LVU3964
 10488 003a 139D     		ldr	r5, [sp, #76]
 10489 003c 2868     		ldr	r0, [r5]	@ unaligned
 10490 003e 6968     		ldr	r1, [r5, #4]	@ unaligned
 10491 0040 AA68     		ldr	r2, [r5, #8]	@ unaligned
 10492 0042 EB68     		ldr	r3, [r5, #12]	@ unaligned
 10493 0044 04AC     		add	r4, sp, #16
 10494 0046 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 10495 0048 2869     		ldr	r0, [r5, #16]	@ unaligned
 10496 004a 6969     		ldr	r1, [r5, #20]	@ unaligned
 10497 004c AA69     		ldr	r2, [r5, #24]	@ unaligned
 10498 004e EB69     		ldr	r3, [r5, #28]	@ unaligned
5124:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
 10499              		.loc 1 5124 5 is_stmt 0 view .LVU3965
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 335


 10500 0050 0DF1300C 		add	ip, sp, #48
5123:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				memcpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 10501              		.loc 1 5123 5 view .LVU3966
 10502 0054 0FC4     		stmia	r4!, {r0, r1, r2, r3}
5124:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
 10503              		.loc 1 5124 5 is_stmt 1 view .LVU3967
 10504 0056 BCE80F00 		ldmia	ip!, {r0, r1, r2, r3}
 10505 005a 0DF15C0E 		add	lr, sp, #92
 10506 005e AEE80F00 		stmia	lr!, {r0, r1, r2, r3}
 10507 0062 BCE80F00 		ldmia	ip!, {r0, r1, r2, r3}
 10508 0066 AEE80F00 		stmia	lr!, {r0, r1, r2, r3}
 10509 006a 9CE80700 		ldm	ip, {r0, r1, r2}
 10510 006e 8EE80700 		stm	lr, {r0, r1, r2}
5125:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
 10511              		.loc 1 5125 5 view .LVU3968
5125:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
 10512              		.loc 1 5125 11 is_stmt 0 view .LVU3969
 10513 0072 0099     		ldr	r1, [sp]
 10514 0074 17A8     		add	r0, sp, #92
 10515 0076 FFF7FEFF 		bl	follow_path
 10516              	.LVL1034:
5126:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
 10517              		.loc 1 5126 5 is_stmt 1 view .LVU3970
5126:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
 10518              		.loc 1 5126 8 is_stmt 0 view .LVU3971
 10519 007a 0028     		cmp	r0, #0
 10520 007c 62D0     		beq	.L942
5129:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 10521              		.loc 1 5129 5 is_stmt 1 view .LVU3972
5129:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 10522              		.loc 1 5129 8 is_stmt 0 view .LVU3973
 10523 007e 0428     		cmp	r0, #4
 10524 0080 CBD1     		bne	.L924
 10525              	.LVL1035:
 10526              	.L926:
5130:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (res == FR_OK) {
 10527              		.loc 1 5130 6 is_stmt 1 view .LVU3974
5130:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					if (res == FR_OK) {
 10528              		.loc 1 5130 12 is_stmt 0 view .LVU3975
 10529 0082 17A8     		add	r0, sp, #92
 10530 0084 FFF7FEFF 		bl	dir_register
 10531              	.LVL1036:
5131:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dir = djn.dir;					/* Copy directory entry of the object except name */
 10532              		.loc 1 5131 6 is_stmt 1 view .LVU3976
5131:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dir = djn.dir;					/* Copy directory entry of the object except name */
 10533              		.loc 1 5131 9 is_stmt 0 view .LVU3977
 10534 0088 0028     		cmp	r0, #0
 10535 008a C6D1     		bne	.L924
5132:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						memcpy(dir + 13, buf + 13, SZDIRE - 13);
 10536              		.loc 1 5132 7 is_stmt 1 view .LVU3978
5132:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						memcpy(dir + 13, buf + 13, SZDIRE - 13);
 10537              		.loc 1 5132 11 is_stmt 0 view .LVU3979
 10538 008c 1E9D     		ldr	r5, [sp, #120]
 10539              	.LVL1037:
5133:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dir[DIR_Attr] = buf[DIR_Attr];
 10540              		.loc 1 5133 7 is_stmt 1 view .LVU3980
5134:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (!(dir[DIR_Attr] & AM_DIR)) dir[DIR_Attr] |= AM_ARC;	/* Set archive attribute if it is a f
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 336


 10541              		.loc 1 5134 26 is_stmt 0 view .LVU3981
 10542 008e 9DF81B20 		ldrb	r2, [sp, #27]	@ zero_extendqisi2
5133:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dir[DIR_Attr] = buf[DIR_Attr];
 10543              		.loc 1 5133 7 view .LVU3982
 10544 0092 DDF81D40 		ldr	r4, [sp, #29]	@ unaligned
 10545 0096 9DF82F10 		ldrb	r1, [sp, #47]	@ zero_extendqisi2
 10546 009a C5F80D40 		str	r4, [r5, #13]	@ unaligned
 10547 009e BDF82D00 		ldrh	r0, [sp, #45]	@ unaligned
 10548              	.LVL1038:
5133:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dir[DIR_Attr] = buf[DIR_Attr];
 10549              		.loc 1 5133 7 view .LVU3983
 10550 00a2 E977     		strb	r1, [r5, #31]
5134:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if (!(dir[DIR_Attr] & AM_DIR)) dir[DIR_Attr] |= AM_ARC;	/* Set archive attribute if it is a f
 10551              		.loc 1 5134 7 is_stmt 1 view .LVU3984
5135:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->wflag = 1;
 10552              		.loc 1 5135 7 view .LVU3985
5135:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->wflag = 1;
 10553              		.loc 1 5135 10 is_stmt 0 view .LVU3986
 10554 00a4 D106     		lsls	r1, r2, #27
5135:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->wflag = 1;
 10555              		.loc 1 5135 38 is_stmt 1 view .LVU3987
5136:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 10556              		.loc 1 5136 7 view .LVU3988
5135:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->wflag = 1;
 10557              		.loc 1 5135 52 is_stmt 0 view .LVU3989
 10558 00a6 58BF     		it	pl
 10559 00a8 42F02002 		orrpl	r2, r2, #32
5133:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dir[DIR_Attr] = buf[DIR_Attr];
 10560              		.loc 1 5133 7 view .LVU3990
 10561 00ac A5F81D00 		strh	r0, [r5, #29]	@ unaligned
5136:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 10562              		.loc 1 5136 9 view .LVU3991
 10563 00b0 0398     		ldr	r0, [sp, #12]
5135:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						fs->wflag = 1;
 10564              		.loc 1 5135 52 view .LVU3992
 10565 00b2 EA72     		strb	r2, [r5, #11]
5133:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dir[DIR_Attr] = buf[DIR_Attr];
 10566              		.loc 1 5133 7 view .LVU3993
 10567 00b4 DDF821C0 		ldr	ip, [sp, #33]	@ unaligned
 10568 00b8 DDF825E0 		ldr	lr, [sp, #37]	@ unaligned
 10569 00bc DDF82930 		ldr	r3, [sp, #41]	@ unaligned
 10570 00c0 C5F811C0 		str	ip, [r5, #17]	@ unaligned
5136:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 10571              		.loc 1 5136 17 view .LVU3994
 10572 00c4 0122     		movs	r2, #1
5133:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						dir[DIR_Attr] = buf[DIR_Attr];
 10573              		.loc 1 5133 7 view .LVU3995
 10574 00c6 C5F815E0 		str	lr, [r5, #21]	@ unaligned
 10575 00ca C5F81930 		str	r3, [r5, #25]	@ unaligned
5136:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 10576              		.loc 1 5136 17 view .LVU3996
 10577 00ce C270     		strb	r2, [r0, #3]
5137:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							sect = clst2sect(fs, ld_clust(fs, dir));
 10578              		.loc 1 5137 7 is_stmt 1 view .LVU3997
5137:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							sect = clst2sect(fs, ld_clust(fs, dir));
 10579              		.loc 1 5137 10 is_stmt 0 view .LVU3998
 10580 00d0 EC7A     		ldrb	r4, [r5, #11]	@ zero_extendqisi2
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 337


 10581 00d2 E206     		lsls	r2, r4, #27
 10582 00d4 2AD5     		bpl	.L930
5137:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							sect = clst2sect(fs, ld_clust(fs, dir));
 10583              		.loc 1 5137 36 discriminator 1 view .LVU3999
 10584 00d6 0E9B     		ldr	r3, [sp, #56]
 10585 00d8 1999     		ldr	r1, [sp, #100]
 10586 00da 8B42     		cmp	r3, r1
 10587 00dc 26D0     		beq	.L930
5138:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 							if (sect == 0) {
 10588              		.loc 1 5138 8 is_stmt 1 view .LVU4000
 10589              	.LVL1039:
 10590              	.LBB858:
 10591              	.LBI858:
1817:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,			/* Pointer to the fs object */
 10592              		.loc 1 1817 14 view .LVU4001
 10593              	.LBB859:
1822:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 10594              		.loc 1 1822 2 view .LVU4002
1824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 10595              		.loc 1 1824 2 view .LVU4003
 10596              	.LBB860:
 10597              	.LBI860:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 10598              		.loc 1 614 13 view .LVU4004
 10599              	.LBB861:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 10600              		.loc 1 616 2 view .LVU4005
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 10601              		.loc 1 618 2 view .LVU4006
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 10602              		.loc 1 619 2 view .LVU4007
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10603              		.loc 1 620 2 view .LVU4008
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10604              		.loc 1 620 2 is_stmt 0 view .LVU4009
 10605              	.LBE861:
 10606              	.LBE860:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 10607              		.loc 1 1825 5 view .LVU4010
 10608 00de 0478     		ldrb	r4, [r0]	@ zero_extendqisi2
 10609              	.LBB863:
 10610              	.LBB862:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 10611              		.loc 1 619 10 view .LVU4011
 10612 00e0 95F81BC0 		ldrb	ip, [r5, #27]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 10613              		.loc 1 619 20 view .LVU4012
 10614 00e4 95F81AE0 		ldrb	lr, [r5, #26]	@ zero_extendqisi2
 10615              	.LBE862:
 10616              	.LBE863:
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 10617              		.loc 1 1825 5 view .LVU4013
 10618 00e8 032C     		cmp	r4, #3
1824:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 10619              		.loc 1 1824 5 view .LVU4014
 10620 00ea 4EEA0C22 		orr	r2, lr, ip, lsl #8
 10621              	.LVL1040:
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 338


1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 10622              		.loc 1 1825 2 is_stmt 1 view .LVU4015
1825:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 10623              		.loc 1 1825 5 is_stmt 0 view .LVU4016
 10624 00ee 05D1     		bne	.L932
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 10625              		.loc 1 1826 3 is_stmt 1 view .LVU4017
 10626              	.LVL1041:
 10627              	.LBB864:
 10628              	.LBI864:
 614:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 10629              		.loc 1 614 13 view .LVU4018
 10630              	.LBB865:
 616:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 10631              		.loc 1 616 2 view .LVU4019
 618:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	rv = rv << 8 | ptr[0];
 10632              		.loc 1 618 2 view .LVU4020
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 10633              		.loc 1 619 2 view .LVU4021
 620:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10634              		.loc 1 620 2 view .LVU4022
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 10635              		.loc 1 619 10 is_stmt 0 view .LVU4023
 10636 00f0 697D     		ldrb	r1, [r5, #21]	@ zero_extendqisi2
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 10637              		.loc 1 619 20 view .LVU4024
 10638 00f2 2D7D     		ldrb	r5, [r5, #20]	@ zero_extendqisi2
 10639              	.LVL1042:
 619:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return rv;
 10640              		.loc 1 619 20 view .LVU4025
 10641              	.LBE865:
 10642              	.LBE864:
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 10643              		.loc 1 1826 9 view .LVU4026
 10644 00f4 45EA0123 		orr	r3, r5, r1, lsl #8
1826:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 10645              		.loc 1 1826 6 view .LVU4027
 10646 00f8 42EA0342 		orr	r2, r2, r3, lsl #16
 10647              	.LVL1043:
 10648              	.L932:
1829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10649              		.loc 1 1829 2 is_stmt 1 view .LVU4028
1829:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10650              		.loc 1 1829 2 is_stmt 0 view .LVU4029
 10651              	.LBE859:
 10652              	.LBE858:
 10653              	.LBB866:
 10654              	.LBI866:
1114:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 10655              		.loc 1 1114 14 is_stmt 1 view .LVU4030
 10656              	.LBB867:
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
 10657              		.loc 1 1119 2 view .LVU4031
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 10658              		.loc 1 1120 27 is_stmt 0 view .LVU4032
 10659 00fc 4469     		ldr	r4, [r0, #20]
1119:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Is it invalid cluster number? */
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 339


 10660              		.loc 1 1119 7 view .LVU4033
 10661 00fe 951E     		subs	r5, r2, #2
 10662              	.LVL1044:
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 10663              		.loc 1 1120 2 is_stmt 1 view .LVU4034
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 10664              		.loc 1 1120 27 is_stmt 0 view .LVU4035
 10665 0100 A11E     		subs	r1, r4, #2
1120:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	return fs->database + (LBA_t)fs->csize * clst;	/* Start sector number of the cluster */
 10666              		.loc 1 1120 5 view .LVU4036
 10667 0102 8D42     		cmp	r5, r1
 10668 0104 29D2     		bcs	.L938
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10669              		.loc 1 1121 2 is_stmt 1 view .LVU4037
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10670              		.loc 1 1121 24 is_stmt 0 view .LVU4038
 10671 0106 B0F80AC0 		ldrh	ip, [r0, #10]
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10672              		.loc 1 1121 22 view .LVU4039
 10673 010a 836A     		ldr	r3, [r0, #40]
 10674 010c 05FB0C31 		mla	r1, r5, ip, r3
 10675              	.LVL1045:
1121:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10676              		.loc 1 1121 22 view .LVU4040
 10677              	.LBE867:
 10678              	.LBE866:
5139:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 								res = FR_INT_ERR;
 10679              		.loc 1 5139 8 is_stmt 1 view .LVU4041
5139:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 								res = FR_INT_ERR;
 10680              		.loc 1 5139 11 is_stmt 0 view .LVU4042
 10681 0110 19B3     		cbz	r1, .L938
5143:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 10682              		.loc 1 5143 9 is_stmt 1 view .LVU4043
 10683              	.LVL1046:
 10684              	.LBB868:
 10685              	.LBI868:
1047:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,		/* Filesystem object */
 10686              		.loc 1 1047 16 view .LVU4044
 10687              	.LBB869:
1052:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 
 10688              		.loc 1 1052 2 view .LVU4045
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 10689              		.loc 1 1055 2 view .LVU4046
1055:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if !FF_FS_READONLY
 10690              		.loc 1 1055 5 is_stmt 0 view .LVU4047
 10691 0112 C26A     		ldr	r2, [r0, #44]
 10692 0114 9142     		cmp	r1, r2
 10693 0116 05D0     		beq	.L933
 10694 0118 FFF7FEFF 		bl	move_window.part.0
 10695              	.LVL1047:
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10696              		.loc 1 1067 2 is_stmt 1 view .LVU4048
1067:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10697              		.loc 1 1067 2 is_stmt 0 view .LVU4049
 10698              	.LBE869:
 10699              	.LBE868:
5144:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 340


 10700              		.loc 1 5144 9 is_stmt 1 view .LVU4050
5145:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 10701              		.loc 1 5145 9 view .LVU4051
5145:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 10702              		.loc 1 5145 12 is_stmt 0 view .LVU4052
 10703 011c 0028     		cmp	r0, #0
 10704 011e 7FF47CAF 		bne	.L924
5144:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 10705              		.loc 1 5144 17 view .LVU4053
 10706 0122 0398     		ldr	r0, [sp, #12]
 10707              	.LVL1048:
 10708              	.L933:
5145:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 10709              		.loc 1 5145 26 discriminator 1 view .LVU4054
 10710 0124 90F85140 		ldrb	r4, [r0, #81]	@ zero_extendqisi2
 10711 0128 2E2C     		cmp	r4, #46
 10712 012a 18D0     		beq	.L943
 10713              	.L930:
5155:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {
 10714              		.loc 1 5155 5 is_stmt 1 view .LVU4055
5155:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				if (res == FR_OK) {
 10715              		.loc 1 5155 11 is_stmt 0 view .LVU4056
 10716 012c 0CA8     		add	r0, sp, #48
 10717 012e FFF7FEFF 		bl	dir_remove
 10718              	.LVL1049:
5156:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = sync_fs(fs);
 10719              		.loc 1 5156 5 is_stmt 1 view .LVU4057
5156:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 					res = sync_fs(fs);
 10720              		.loc 1 5156 8 is_stmt 0 view .LVU4058
 10721 0132 0028     		cmp	r0, #0
 10722 0134 7FF471AF 		bne	.L924
5157:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10723              		.loc 1 5157 6 is_stmt 1 view .LVU4059
5157:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10724              		.loc 1 5157 12 is_stmt 0 view .LVU4060
 10725 0138 0398     		ldr	r0, [sp, #12]
 10726              	.LVL1050:
5157:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10727              		.loc 1 5157 12 view .LVU4061
 10728 013a FFF7FEFF 		bl	sync_fs
 10729              	.LVL1051:
5157:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10730              		.loc 1 5157 12 view .LVU4062
 10731 013e 6CE7     		b	.L924
 10732              	.LVL1052:
 10733              	.L935:
5089:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** #if FF_FS_LOCK != 0
 10734              		.loc 1 5089 68 view .LVU4063
 10735 0140 0620     		movs	r0, #6
 10736 0142 6AE7     		b	.L924
 10737              	.LVL1053:
 10738              	.L942:
5127:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10739              		.loc 1 5127 6 is_stmt 1 view .LVU4064
5127:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10740              		.loc 1 5127 84 is_stmt 0 view .LVU4065
 10741 0144 199A     		ldr	r2, [sp, #100]
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 341


 10742 0146 0E99     		ldr	r1, [sp, #56]
 10743 0148 8A42     		cmp	r2, r1
 10744 014a 01D0     		beq	.L944
 10745              	.LVL1054:
 10746              	.L936:
5127:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10747              		.loc 1 5127 84 view .LVU4066
 10748 014c 0820     		movs	r0, #8
 10749 014e 64E7     		b	.L924
 10750              	.LVL1055:
 10751              	.L944:
5127:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10752              		.loc 1 5127 46 discriminator 1 view .LVU4067
 10753 0150 1B98     		ldr	r0, [sp, #108]
 10754              	.LVL1056:
5127:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10755              		.loc 1 5127 46 discriminator 1 view .LVU4068
 10756 0152 109B     		ldr	r3, [sp, #64]
 10757 0154 9842     		cmp	r0, r3
 10758 0156 F9D1     		bne	.L936
 10759 0158 93E7     		b	.L926
 10760              	.LVL1057:
 10761              	.L938:
5127:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10762              		.loc 1 5127 46 discriminator 1 view .LVU4069
 10763 015a 0220     		movs	r0, #2
 10764              	.LVL1058:
5127:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 				}
 10765              		.loc 1 5127 46 discriminator 1 view .LVU4070
 10766 015c 5DE7     		b	.L924
 10767              	.L943:
5146:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 									fs->wflag = 1;
 10768              		.loc 1 5146 10 is_stmt 1 view .LVU4071
 10769 015e 199D     		ldr	r5, [sp, #100]
5146:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 									fs->wflag = 1;
 10770              		.loc 1 5146 10 is_stmt 0 view .LVU4072
 10771 0160 039A     		ldr	r2, [sp, #12]
 10772              	.LVL1059:
 10773              	.LBB870:
 10774              	.LBI870:
1834:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
 10775              		.loc 1 1834 13 is_stmt 1 view .LVU4073
 10776              	.LBB871:
1840:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 10777              		.loc 1 1840 2 view .LVU4074
 10778              	.LBB872:
 10779              	.LBI872:
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 10780              		.loc 1 652 13 view .LVU4075
 10781              	.LBB873:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10782              		.loc 1 654 2 view .LVU4076
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10783              		.loc 1 654 11 is_stmt 0 view .LVU4077
 10784 0162 80F86A50 		strb	r5, [r0, #106]
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10785              		.loc 1 654 22 is_stmt 1 view .LVU4078
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 342


 10786              	.LVL1060:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10787              		.loc 1 655 2 view .LVU4079
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10788              		.loc 1 654 26 is_stmt 0 view .LVU4080
 10789 0166 C5F3072E 		ubfx	lr, r5, #8, #8
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10790              		.loc 1 655 11 view .LVU4081
 10791 016a 80F86BE0 		strb	lr, [r0, #107]
 10792              	.LVL1061:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10793              		.loc 1 655 11 view .LVU4082
 10794              	.LBE873:
 10795              	.LBE872:
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 10796              		.loc 1 1841 2 is_stmt 1 view .LVU4083
1841:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 10797              		.loc 1 1841 5 is_stmt 0 view .LVU4084
 10798 016e 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 10799 0170 0329     		cmp	r1, #3
 10800 0172 05D1     		bne	.L934
1842:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 10801              		.loc 1 1842 3 is_stmt 1 view .LVU4085
1842:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	}
 10802              		.loc 1 1842 42 is_stmt 0 view .LVU4086
 10803 0174 2B0C     		lsrs	r3, r5, #16
 10804              	.LVL1062:
 10805              	.LBB874:
 10806              	.LBI874:
 652:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** {
 10807              		.loc 1 652 13 is_stmt 1 view .LVU4087
 10808              	.LBB875:
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10809              		.loc 1 654 2 view .LVU4088
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10810              		.loc 1 654 26 is_stmt 0 view .LVU4089
 10811 0176 1C0A     		lsrs	r4, r3, #8
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10812              		.loc 1 654 11 view .LVU4090
 10813 0178 80F86430 		strb	r3, [r0, #100]
 654:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 	*ptr++ = (BYTE)val;
 10814              		.loc 1 654 22 is_stmt 1 view .LVU4091
 10815              	.LVL1063:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10816              		.loc 1 655 2 view .LVU4092
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10817              		.loc 1 655 11 is_stmt 0 view .LVU4093
 10818 017c 80F86540 		strb	r4, [r0, #101]
 10819              	.LVL1064:
 10820              	.L934:
 655:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** }
 10821              		.loc 1 655 11 view .LVU4094
 10822              	.LBE875:
 10823              	.LBE874:
 10824              	.LBE871:
 10825              	.LBE870:
5147:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 								}
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 343


 10826              		.loc 1 5147 10 is_stmt 1 view .LVU4095
5147:/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.c **** 								}
 10827              		.loc 1 5147 20 is_stmt 0 view .LVU4096
 10828 0180 0120     		movs	r0, #1
 10829 0182 D070     		strb	r0, [r2, #3]
 10830 0184 D2E7     		b	.L930
 10831              		.cfi_endproc
 10832              	.LFE47:
 10834              		.section	.bss.FatFs,"aw",%nobits
 10835              		.align	2
 10836              		.set	.LANCHOR0,. + 0
 10839              	FatFs:
 10840 0000 00000000 		.space	4
 10841              		.section	.bss.Fsid,"aw",%nobits
 10842              		.align	1
 10843              		.set	.LANCHOR1,. + 0
 10846              	Fsid:
 10847 0000 0000     		.space	2
 10848              		.text
 10849              	.Letext0:
 10850              		.file 2 "/usr/local/Caskroom/gcc-arm-embedded/9-2019-q4-major/gcc-arm-none-eabi-9-2019-q4-major/ar
 10851              		.file 3 "/usr/local/Caskroom/gcc-arm-embedded/9-2019-q4-major/gcc-arm-none-eabi-9-2019-q4-major/ar
 10852              		.file 4 "/usr/local/Caskroom/gcc-arm-embedded/9-2019-q4-major/gcc-arm-none-eabi-9-2019-q4-major/ar
 10853              		.file 5 "/usr/local/Caskroom/gcc-arm-embedded/9-2019-q4-major/gcc-arm-none-eabi-9-2019-q4-major/li
 10854              		.file 6 "/usr/local/Caskroom/gcc-arm-embedded/9-2019-q4-major/gcc-arm-none-eabi-9-2019-q4-major/ar
 10855              		.file 7 "/usr/local/Caskroom/gcc-arm-embedded/9-2019-q4-major/gcc-arm-none-eabi-9-2019-q4-major/ar
 10856              		.file 8 "/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/ff.h"
 10857              		.file 9 "/Users/joostbooy/Desktop/Code/stm32/lib/ff14b/source/diskio.h"
 10858              		.file 10 "<built-in>"
 10859              		.file 11 "/usr/local/Caskroom/gcc-arm-embedded/9-2019-q4-major/gcc-arm-none-eabi-9-2019-q4-major/a
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 344


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ff.c
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:18     .text.get_ldnumber:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:26     .text.get_ldnumber:0000000000000000 get_ldnumber
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:112    .text.validate:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:119    .text.validate:0000000000000000 validate
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:191    .text.get_fileinfo.isra.0.part.0:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:198    .text.get_fileinfo.isra.0.part.0:0000000000000000 get_fileinfo.isra.0.part.0
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:612    .text.sync_window.part.0:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:619    .text.sync_window.part.0:0000000000000000 sync_window.part.0
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:700    .text.dir_clear:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:707    .text.dir_clear:0000000000000000 dir_clear
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:877    .text.sync_fs:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:884    .text.sync_fs:0000000000000000 sync_fs
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:1218   .text.move_window.part.0:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:1225   .text.move_window.part.0:0000000000000000 move_window.part.0
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:1313   .rodata.check_fs.str1.4:0000000000000000 $d
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:1317   .text.check_fs:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:1324   .text.check_fs:0000000000000000 check_fs
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:1680   .text.check_fs:0000000000000124 $d
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:1685   .text.dir_remove:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:1692   .text.dir_remove:0000000000000000 dir_remove
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:1769   .text.put_fat.part.0:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:1776   .text.put_fat.part.0:0000000000000000 put_fat.part.0
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:2222   .text.get_fat.isra.0:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:2229   .text.get_fat.isra.0:0000000000000000 get_fat.isra.0
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:2552   .text.create_chain:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:2559   .text.create_chain:0000000000000000 create_chain
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:2889   .text.remove_chain:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:2896   .text.remove_chain:0000000000000000 remove_chain
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:3108   .text.dir_next:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:3115   .text.dir_next:0000000000000000 dir_next
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:3345   .text.mount_volume:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:3352   .text.mount_volume:0000000000000000 mount_volume
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:4251   .text.mount_volume:00000000000002ec $d
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:4262   .text.mount_volume:00000000000002f8 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:4455   .text.mount_volume:0000000000000384 $d
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:4460   .text.dir_read.constprop.0:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:4467   .text.dir_read.constprop.0:0000000000000000 dir_read.constprop.0
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:4614   .text.dir_sdi.constprop.0:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:4621   .text.dir_sdi.constprop.0:0000000000000000 dir_sdi.constprop.0
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:4794   .text.dir_register:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:4801   .text.dir_register:0000000000000000 dir_register
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:4991   .rodata.follow_path.str1.4:0000000000000000 $d
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:4995   .text.follow_path:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:5002   .text.follow_path:0000000000000000 follow_path
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:5628   .text.follow_path:0000000000000218 $d
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:5635   .text.f_mount:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:5643   .text.f_mount:0000000000000000 f_mount
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:5752   .text.f_mount:000000000000004c $d
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:5757   .text.f_open:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:5765   .text.f_open:0000000000000000 f_open
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:6563   .text.f_read:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:6571   .text.f_read:0000000000000000 f_read
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:6980   .text.f_write:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:6988   .text.f_write:0000000000000000 f_write
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:7452   .text.f_sync:0000000000000000 $t
ARM GAS  /var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s 			page 345


/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:7460   .text.f_sync:0000000000000000 f_sync
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:7760   .text.f_close:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:7768   .text.f_close:0000000000000000 f_close
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:7830   .text.f_lseek:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:7838   .text.f_lseek:0000000000000000 f_lseek
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:8254   .text.f_opendir:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:8262   .text.f_opendir:0000000000000000 f_opendir
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:8476   .text.f_closedir:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:8484   .text.f_closedir:0000000000000000 f_closedir
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:8526   .text.f_readdir:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:8534   .text.f_readdir:0000000000000000 f_readdir
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:8645   .text.f_stat:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:8653   .text.f_stat:0000000000000000 f_stat
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:8758   .text.f_getfree:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:8766   .text.f_getfree:0000000000000000 f_getfree
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:9326   .text.f_truncate:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:9334   .text.f_truncate:0000000000000000 f_truncate
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:9540   .text.f_unlink:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:9548   .text.f_unlink:0000000000000000 f_unlink
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:9788   .text.f_mkdir:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:9796   .text.f_mkdir:0000000000000000 f_mkdir
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:10399  .text.f_rename:0000000000000000 $t
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:10407  .text.f_rename:0000000000000000 f_rename
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:10835  .bss.FatFs:0000000000000000 $d
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:10839  .bss.FatFs:0000000000000000 FatFs
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:10842  .bss.Fsid:0000000000000000 $d
/var/folders/84/_x1cyy_j36g486tldtwl37280000gn/T//cc2JGJUL.s:10846  .bss.Fsid:0000000000000000 Fsid

UNDEFINED SYMBOLS
disk_status
disk_write
memset
disk_ioctl
disk_read
memcmp
disk_initialize
strchr
memcpy
